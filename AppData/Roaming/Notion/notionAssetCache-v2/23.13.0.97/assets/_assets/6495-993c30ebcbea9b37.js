"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6495],{2924:(e,t,n)=>{n.d(t,{g:()=>f});var a=n(67294),s=n(480),o=n(86628),r=n(24405),i=n(72126),d=n(9291),l=n(86572),u=n(89024),c=n(74194),p=n(7124),m=n(27242),g=n(87131);function h(e,t){if(b(e,t))return t[e].message}function b(e,t){return!!t&&e in t}var y=n(85893);function f(e){window.__c={n:"BillingDetails"};const{title:t}=e,[n,s]=(0,a.useState)(""),[r,i]=(0,a.useState)(""),{validationErrors:d}=(0,o.VK)((()=>m.Z.state.open?m.Z.state:{validationErrors:void 0}),[]),l=b("name",d);return(0,a.useEffect)((()=>{l&&n&&m.Z.clearValidationErrorState("name")}),[n,l]),(0,y.jsx)(g.O,{title:t??null,childGap:8,children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(u.jX,{gap:2,children:[(0,y.jsx)(j,{name:n,setName:s,hasInvalidInput:l}),(0,y.jsx)(x,{hasInvalidInput:l,validationErrors:d})]}),(0,y.jsx)(v,{businessName:r,setBusinessName:i})]})})}function v(e){window.__c={n:"BusinessNameField"};const{businessName:t,setBusinessName:n}=e,a=C(),o=(0,d.useIntl)(),r=(0,s.O7)();return(0,y.jsx)(c.Z,{placeholder:o.formatMessage({defaultMessage:"Business name (optional)",id:"billingDetails.businessName"}),style:a.input,onChange:e=>{!function(e,t){const n=t.target.value,a=m.Z.state;if(!a.open)return;w({environment:e,addressType:"businessName",addressUpdate:n,modal_id:a.sessionId}),m.Z.update((e=>{if(!e.open)return e;const t=e.temporaryAddress;return t.businessName=n,{...e,temporaryAddress:t}}))}(r,e),n(e.target.value)},value:t})}function x(e){const{hasInvalidInput:t,validationErrors:n}=e;return t?(0,y.jsx)(p.q,{colorName:"uiRedPrimary",styleName:"Body-12px/Regular",children:h("name",n)}):null}function j(e){window.__c={n:"NameField"};const{name:t,setName:n,hasInvalidInput:o}=e,r=(0,d.useIntl)(),i=(0,s.O7)(),l=C(),u=(0,a.useRef)(null);return(0,a.useEffect)((()=>{o&&u.current&&u.current.scrollIntoView()}),[u,o]),(0,y.jsx)(c.Z,{ref:u,placeholder:r.formatMessage({defaultMessage:"Name",id:"billingDetails.name"}),style:o?l.invalidInput:l.input,onChange:e=>{!function(e,t){const n=t.target.value,a=m.Z.state;if(!a.open)return;w({environment:e,addressType:"name",addressUpdate:n,modal_id:a.sessionId}),m.Z.update((e=>{if(!e.open)return e;const t=e.temporaryAddress;return t.name=n,{...e,temporaryAddress:t}}))}(i,e),n(e.target.value)},value:t})}function C(){return(0,r.yK)((e=>({input:{padding:10,background:e.surface.wash,width:"100%",boxShadow:e.inputBoxShadow,transition:"box-shadow 0.3s ease-out"},invalidInput:{padding:10,background:e.surface.wash,width:"100%",boxShadow:e.outlineRedInputBoxShadow,transition:"box-shadow 0.3s ease-out"}})),[])}const w=i.Ds((e=>{let{environment:t,addressType:n,addressUpdate:a,modal_id:s}=e;l.rY(t,{addressType:n,addressUpdate:a,modal_id:s})}),1e3)},75877:(e,t,n)=>{n.d(t,{iQ:()=>c,ni:()=>v});var a=n(67294),s=n(480),o=n(86628),r=n(72126),i=n(27242),d=n(40469),l=n(23061),u=n(85893);function c(){window.__c={n:"CheckoutPayment"};const{temporaryVATCode:e,vatApplicable:t}=(0,o.VK)((()=>{const{state:e}=i.Z;return e.open?{temporaryVATCode:e.temporaryVatCode,vatApplicable:e.vatApplicable}:{temporaryVATCode:"",vatApplicable:!1}}),[]),n=function(){const e=(0,s.O7)(),t=(0,a.useMemo)((()=>(0,r.Ds)((async()=>{await d.W_(e)}),3e3)),[e]);return(0,a.useCallback)((async e=>{i.Z.update((t=>({...t,temporaryVatCode:e}))),await t()}),[t])}();return(0,u.jsxs)("div",{children:[(0,u.jsx)(v,{}),(0,u.jsx)(l.n,{onChange:n,temporaryVatCode:e,vatApplicable:t})]})}var p=n(86664),m=n(9291),g=n(86572),h=n(89024),b=n(80444),y=n(37014),f=n(2924);function v(e){let{hideLabel:t}=e;window.__c={n:"PaymentFields"};const n=(0,o.VK)((()=>{const e=i.Z.state;if(e.open)return e.sessionId}),[]),a=(0,s.O7)(),r={defaultValues:{billingDetails:(0,o.VK)((()=>{const e=b.default.state.currentUserStore;return{email:null==e?void 0:e.getEmail(),name:null==e?void 0:e.getName()}}),[])}};return(0,u.jsx)(h.jX,{gap:24,children:(0,u.jsxs)(y.x,{label:t?null:(0,u.jsx)(m.FormattedMessage,{id:"checkoutPaymentField.paymentDetails.title",defaultMessage:"Payment details"}),gap:t?8:void 0,children:[(0,u.jsx)(f.g,{}),(0,u.jsx)(p.PaymentElement,{options:r,onChange:e=>{g.Dc(a,{event:e,modal_id:n}),i.Z.update((e=>{if(!e.open)return e;const{paymentData:t,...n}=e;return n}))}})]})})}n(91252)},3951:(e,t,n)=>{n.d(t,{Z:()=>m});n(67294);var a=n(86628),s=n(24405),o=n(9291),r=n(42922),i=(n(95477),n(27242)),d=n(70060),l=n(88893),u=n(88280),c=n(85893);function p(e){const{state:t}=e,{open:n,type:a,isTrial:s,subscriptionTier:r}=t;return n?a===i.U.TargetSpace?(0,c.jsx)(o.FormattedMessage,{id:"subscriptionUpgradeModal.targetSpace.button.enterprise",defaultMessage:"Claim & Upgrade to Enterprise"}):s?(0,c.jsx)(o.FormattedMessage,{id:"onboardingCheckout.upgradeButton.startTrial",defaultMessage:"Start Notion with {subscriptionTier, select, business {Business} other {Plus}} trial",values:{subscriptionTier:r}}):(0,c.jsx)(o.FormattedMessage,{id:"subscriptionUpgradeModal.upgradeButton.upgradeNow",defaultMessage:"Upgrade now"}):null}function m(e){window.__c={n:"CheckoutUpgradeButton"};const{state:t,onClickUpgrade:n,customStyles:o}=e,i=(0,s.yK)((()=>({upgradeButton:{height:40,marginTop:24,fontSize:16}})),[]),m=(0,a.VK)((()=>{var e;return void 0!==(null===(e=(0,l.aS)(u.subscriptionDataStoreInstance.state))||void 0===e?void 0:e.customerId)}),[]),g=(0,a.VK)((()=>(0,d.G2)()&&!1),[m]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.Z,{disabled:"disabled"===t.payButtonState,style:{...i.upgradeButton,...o},onClick:()=>n({useTestClock:!1}),children:(0,c.jsx)(p,{state:t})}),g?(0,c.jsx)(r.Z,{disabled:"disabled"===t.payButtonState,style:i.upgradeButton,onClick:()=>n({useTestClock:!0}),children:"ðŸš§ Upgrade with Test Clock ðŸš§"}):void 0]})}},23061:(e,t,n)=>{n.d(t,{n:()=>c});var a=n(67294),s=n(24405),o=n(82990),r=n(9291),i=n(74194),d=n(26388),l=n(85893);function u(e){window.__c={n:"FormGroup"};const t=(0,s.yK)((t=>({group:{display:"flex",borderBottomColor:t.groupedFormBorder,borderBottomWidth:1,borderBottomStyle:"solid",alignItems:"center",flex:1,...e.style}})),[e.style]);return(0,l.jsx)("div",{style:t.group,children:e.children})}function c(e){window.__c={n:"CheckoutVATCodeInput"};const{temporaryVatCode:t,vatApplicable:n,disabled:c,tooltip:p,onChange:m}=e,g=(0,s.yK)((e=>({container:{backgroundColor:e.cardContentBackground,borderWidth:1,borderStyle:"solid",borderColor:e.groupedFormBorder,borderRadius:4,borderBottom:"none"},header:{display:"flex",alignItems:"center",marginBottom:6,fontSize:12,fontWeight:o.Z.fontWeight.semibold,color:e.mediumTextColor,justifyContent:"space-between",paddingTop:20},input:{background:"none",boxShadow:"none",padding:8},subtitle:{color:e.mediumTextColor,fontSize:o.Z.fontSize.UISmall.desktop,marginTop:5,marginBottom:10},whiteSpace:{marginBottom:20}})),[]),h=(0,r.useIntl)(),b=(0,a.useCallback)((e=>{m(e.target.value)}),[m]);return n?(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{style:g.header,children:(0,l.jsx)(r.FormattedMessage,{id:"spaceSubscriptionPaymentForm.vatCountryCode.header",defaultMessage:"VAT (optional)"})}),(0,l.jsx)(d.ZP,{placement:d.ug.Top,alignment:d.v2.End,render:e=>(0,l.jsx)("div",{...e,style:g.container,children:(0,l.jsx)(u,{children:(0,l.jsx)(i.Z,{value:t,style:g.input,disabled:c,placeholder:h.formatMessage({id:"spaceSubscriptionPaymentForm.vatCountryCode.placeholder",defaultMessage:"VAT/GST number"}),onChange:b})})}),disableTooltip:!p,renderTooltip:()=>p}),(0,l.jsx)("div",{style:g.subtitle,children:(0,l.jsx)(r.FormattedMessage,{id:"spaceSubscriptionBilling.vatCountryCode.subtitle",defaultMessage:"Please include your country code"})})]}):(0,l.jsx)("div",{style:g.whiteSpace})}},87131:(e,t,n)=>{n.d(t,{O:()=>r});n(67294);var a=n(89024),s=n(7124),o=n(85893);function r(e){let{title:t,children:n,titleGap:r,childGap:i}=e;return(0,o.jsxs)(a.jX,{gap:r||8,children:[t?(0,o.jsx)(s.q,{styleName:"Caption-12px/Semibold",colorName:"secondary",children:t}):null,(0,o.jsx)(a.jX,{gap:i||4,children:n})]})}}}]);