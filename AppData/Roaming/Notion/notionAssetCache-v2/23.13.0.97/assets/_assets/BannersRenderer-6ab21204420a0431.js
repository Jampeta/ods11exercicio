"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5054],{57383:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Je});var i=n(67294),s=n(480),a=n(86628),r=n(97880),o=n(10854),l=n(24646),d=n(43124),c=n(24405),u=n(9291),g=n(89024),p=n(65162),m=n(80444),h=n(44041),f=n(88893),x=n(88280),b=n(85893);const v=(0,u.defineMessages)({overFreeBlockLimitLong:{id:"subscriptionActions.overFreeBlockLimit.longMessage",defaultMessage:"You are over the block limit for the Free plan"},overFreeBlockLimitMobileNative:{id:"subscriptionActions.overFreeBlockLimit.mobileNative",defaultMessage:"Your workspace has reached its block limit. This app does not support the purchase of this feature."},upgradeForUnlimited:{id:"subscriptionActions.upgradeForUnlimitedBlocks.longMessage",defaultMessage:"Upgrade for unlimited"}});function k(){window.__c={n:"OverFreeBlockLimitBanner"};const{isMobileNative:e}=(0,s.Fy)();return e?(0,b.jsx)(M,{}):(0,b.jsx)(w,{})}function w(){window.__c={n:"UpsellBanner"};const e=(0,u.useIntl)(),t=(0,s.O7)(),n=j(),i=(0,a.VK)((()=>f.Nf({subscriptionData:x.subscriptionDataStoreInstance.state,spaceStore:m.default.state.currentSpaceStore})),[]),r=e.formatMessage(v.overFreeBlockLimitLong),o=e.formatMessage(v.upgradeForUnlimited);return(0,b.jsxs)(g.jX,{align:"center",direction:"row",gap:"auto",minGap:8,padding:"12px 6px",style:{flexWrap:"wrap"},children:[(0,b.jsx)("div",{style:n.bannerContent,children:r}),i?(0,b.jsx)(p.Z,{onClick:()=>{h.y(t,{from:"block_limit_banner",for:"plus"})},children:o}):null]})}function M(){window.__c={n:"MobileNativeBanner"};const e=(0,u.useIntl)(),t=j(),n=e.formatMessage(v.overFreeBlockLimitMobileNative);return(0,b.jsx)(g.jX,{align:"center",direction:"row",gap:"auto",minGap:12,padding:"12px 6px",children:(0,b.jsx)("div",{style:t.bannerContent,children:n})})}function j(){return(0,c.yK)((()=>({bannerContent:{whiteSpace:"normal",lineHeight:1.35}})),[])}var y=n(1404),S=n(59260),B=n(8848),_=n(7057),C=n(33728),F=n(24211),T=n(77671),I=n(47307),V=n(92625),L=n(63908),P=n(8055),Z=n(86867),A=n(12955);const D={marginLeft:12,color:B.ZP.white,border:`1px solid ${B.ZP.white}`};function O(e){let{environment:t,currentUserEmail:n,alternateLoginRole:s}=e;const a=i.useCallback((async()=>{const e=await T.N(t,{email:n,intercomLink:"switch role",preferredLoginRole:s});if("failed"===e.type)V.x(),I.showError(e);else{const{userId:i}=e.data,a=`Success! click "Continue" to enter account for "${n}" in ${Z.v[s].text} mode.`,r=e.data.expiryTime?`${a} The user has granted access until ${(0,_.Yx)(e.data.expiryTime,"medium_with_time",F.al)}.`:a;V.x(),I.showDialog({message:r,showCancel:!1,keepFocus:!0,items:[{label:"Continue",color:"blue",onAccept:()=>{L.O({userId:i,environment:t})}}]})}}),[t,n,s]);return(0,b.jsx)(p.Z,{style:D,onClick:a,children:`Switch to ${Z.v[s].text} mode`})}const K=function(){var e;window.__c={n:"AdminModeBanner"};const t=(0,s.O7)(),n=(0,a.VK)((()=>m.default.state.currentUserStore),[]),r=(0,a.VK)((()=>null==n?void 0:n.getEmail()),[n]),o="makenotion.com"===(0,C.Gd)(r??""),[l,d]=i.useState("");if(i.useEffect((()=>{!async function(){try{const e=await(0,A.getCookie)(t,"notion_ghost_preferred_role");d((t=>e??""))}catch(e){console.error(e)}}()})),!r)return null;const c="full"===l?"restricted":"full";return(0,b.jsxs)("div",{children:[`You are currently logged in as ${r}`,(0,b.jsx)("i",{children:l&&o?` (${null===(e=Z.v[l])||void 0===e?void 0:e.text} access)`:""}),".",l&&o&&(0,b.jsx)(O,{environment:t,currentUserEmail:r,alternateLoginRole:c}),(0,b.jsx)(p.Z,{style:D,onClick:()=>{P.c4({environment:t,url:"/__admin"})},children:"Back to Admin Console"}),(0,b.jsx)(p.Z,{style:D,onClick:()=>{T.B(t)},children:"Logout as user"})]})};var U=n(15145),R=n(1800),E=n(36060),N=n(26139),Y=n(21202),W=n(82990),G=n(95477),z=n(42922),H=n(64921);const $=function(e){let{blockStore:t}=e;window.__c={n:"AsanaImporterBanner"};const n=(0,a.VK)((()=>t.getFormat()),[t]),r=(0,s.O7)(),o=(0,c.yK)((e=>({helpCenterButtonStytles:{display:"flex",alignItems:"baseline",justifyContent:"center",alignContent:"center",fontSize:W.Z.fontSize.UIRegular.desktop,padding:"6px, 0px, 0px, 0px",borderRadius:4,color:e.mediumTextColor,marginTop:2,width:298,height:28,gap:"4px",lineHeight:"18px"},externalLinkIcon:{width:16,height:16,padding:"0.5px, 0px, 0px, 0px"},helpCenterButtonTextStyles:{width:238,height:18,font:"SF Pro",fontWeight:W.Z.fontWeight.medium,fontSize:W.Z.fontSize.UIRegular.desktop,color:e.accentColors.uiBlue[600]}})),[]);return(0,b.jsx)(i.Fragment,{children:(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:30,alignItems:"center"},children:[(0,b.jsx)(u.FormattedMessage,{id:"pageViewBlock.asanaImporterBanner.tutorial",defaultMessage:"Imported {projectCount} Asana projects into Notion",values:{projectCount:n.asana_importer_number_of_projects||0}}),(0,b.jsxs)("div",{style:{display:"flex",gap:4,width:418,height:28},children:[(0,b.jsx)(H.Z,{style:o.helpCenterButtonStytles,onClick:()=>{P.c4({url:"https://www.notion.so/help/notion-academy/course/getting-started-projects",environment:r})},hoveredStyle:{background:"none"},children:(0,b.jsxs)("div",{style:{width:256,height:18,display:"flex",justifyContent:"center",alignItems:"start",gap:2},children:[(0,b.jsx)("div",{style:o.helpCenterButtonTextStyles,children:(0,b.jsx)(u.FormattedMessage,{id:"pageViewBlock.asanaImporterBanner.projectTutorial",defaultMessage:"Learn more about projects in Notion"})}),(0,N.K)(o.externalLinkIcon)]})}),n.asana_importer_tutorial_page?(0,b.jsx)("div",{style:{display:"flex",justifyContent:"right"},children:(0,b.jsx)(z.Z,{onClick:()=>{P.c4({url:(0,R.Z)({pageId:n.asana_importer_tutorial_page,pageModel:(0,E.lA)({table:Y.iU,id:n.asana_importer_tutorial_page}),baseUrl:G.default.domainBaseUrl,pageVisitSource:U.tY.Import}),environment:r})},children:(0,b.jsx)(u.FormattedMessage,{id:"pageViewBlock.asanaImporterBanner.tutorialPage",defaultMessage:"View tutorial page"})})}):(0,b.jsx)(b.Fragment,{})]})]})})};var X=n(77080);function q(){window.__c={n:"CrdtPageBanner"};const e=(0,a.VK)((()=>X.default.getConfigKey("text_crdt_config","crdt_page_banner_link")),[]);return(0,b.jsxs)("span",{children:["This is a CRDT page! ",(0,b.jsx)("a",{href:e,target:"_blank",children:"Learn more"})]})}var Q=n(63306),J=n(39865),ee=n(15047),te=n(84210),ne=n(79797),ie=n(84076),se=n(31278),ae=n(76798);function re(e){window.__c={n:"PageLink"};const{urlStore:t,titleStore:n}=e,i=(0,s.Fy)(),r=n||t,{icon:o,url:l}=(0,a.VK)((()=>({icon:r.getIcon(),url:(0,te.ZP)({store:t,fullyQualified:!1,pageVisitSource:U.tY.Move})})),[r,t]);return(0,b.jsxs)(ie.Z,{href:l,style:{display:"inline-flex"},innerStyle:{display:"inline-flex",alignItems:"baseline"},children:[(0,b.jsx)(se.Z,{disabled:!0,icon:o,isEmptyPage:!1,size:i.isMobile?18:16,emojiSize:i.isMobile?24:20,style:{marginRight:"0.2em",fill:""},pageIconStyle:{fill:B.ZP.white}}),(0,b.jsx)(ae.Z,{store:r,style:{fontWeight:W.Z.fontWeight.medium}})]})}function oe(e){let{movedSourceBlock:t,moveTarget:n}=e;return i.useMemo((()=>(0,b.jsx)(re,{urlStore:ne.G.createChildStore(t,n.moved_to),titleStore:ne.H2.createChildStore(t,{table:ee.bx,id:n.moved_to.spaceId})})),[t,n])}function le(e){let{movedSourceBlock:t,moveTarget:n}=e;window.__c={n:"PageMovedMessage"};const i=oe({movedSourceBlock:t,moveTarget:n});return(0,b.jsx)(u.FormattedMessage,{defaultMessage:"Moved to {targetSpaceLink}.",id:"pageViewBlock.movedPageBanner.pageMovedMessage",values:{targetSpaceLink:i}})}function de(e){let{movedSourceBlock:t,moveTarget:n}=e;window.__c={n:"AncestorMovedMessage"};const i=oe({movedSourceBlock:t,moveTarget:n});return(0,b.jsx)(u.FormattedMessage,{defaultMessage:"{movedAncestorLink} was moved to {targetSpaceLink}.",id:"pageViewBlock.movedPageBanner.ancestorMovedMessage",values:{targetSpaceLink:i,movedAncestorLink:(0,b.jsx)(re,{urlStore:t})}})}var ce=n(98165);function ue(e){let{blockStore:t,sourceBlock:n}=e;window.__c={n:"MovedBannerContents"};const i=(0,s.Fy)(),r=(0,a.VK)((()=>me(t)),[t]),o=(0,c.yK)((()=>({banner:{display:"flex",alignItems:"center",justifyContent:"center",...i.isMobile&&{flexWrap:"wrap",paddingTop:8,paddingBottom:8}},button:{...i.isMobile&&{marginTop:8}}})),[i.isMobile]),{message:l,restoreVariant:d}=(0,a.VK)((()=>{const{store:e,moved:i}=n,s=e.id===t.id;return{message:s?(0,b.jsx)(le,{movedSourceBlock:e,moveTarget:i}):(0,b.jsx)(de,{movedSourceBlock:e,moveTarget:i}),restoreVariant:s?"lastVersion":"currentPage"}}),[t.id,n]);return(0,b.jsxs)("div",{style:o.banner,children:[(0,b.jsx)("div",{children:l}),r&&(0,b.jsx)("div",{style:o.button,children:(0,b.jsx)(pe,{variant:d,blockStore:t})})]})}function ge(e){let{blockStore:t}=e;window.__c={n:"RestoreDeleteBannerButtons"};const n=(0,s.O7)(),r=(0,i.useCallback)((()=>{J.Rn({environment:n,blocks:[t]})}),[n,t]),o=(0,a.VK)((()=>!t.useCrdt()),[t]);return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(pe,{variant:"default",blockStore:t}),o&&(0,b.jsx)(p.Z,{style:{marginLeft:12},onClick:r,children:(0,b.jsx)(u.FormattedMessage,{defaultMessage:"Delete permanently",id:"pageViewBlock.trashBanner.deletePermanentlyButton.label"})})]})}function pe(e){let{variant:t,blockStore:n}=e;window.__c={n:"RestoreBannerButton"};const r=(0,s.O7)(),o=(0,a.VK)((()=>({default:(0,b.jsx)(u.FormattedMessage,{defaultMessage:"Restore page",id:"pageViewBlock.trashBanner.restoreButton.label"}),lastVersion:(0,b.jsx)(u.FormattedMessage,{defaultMessage:"Restore last version",id:"pageViewBlock.trashBanner.restoreLastVersionButton.label"}),currentPage:(0,b.jsx)(u.FormattedMessage,{defaultMessage:"Restore current page",id:"pageViewBlock.trashBanner.restoreCurrentPageButton.label"})}[t])),[t]),l=(0,i.useCallback)((()=>{const{currentSpaceStore:e}=m.default.state;e&&J.DV({environment:r,block:n,spaceId:n.pointer.spaceId||e.id})}),[n,r]);return(0,b.jsx)(p.Z,{style:{marginLeft:12},onClick:l,children:o})}function me(e){if(!e.canEdit())return!1;if(!e.isNavigableBlock())return!1;const t=e.getParentStore();return!t||t.canEdit()}const he=function(e){let{blockStore:t}=e;window.__c={n:"DeletedOrMovedPageBanner"};const n=(0,s.Fy)(),r=(0,a.VK)((()=>me(t)),[t]),o=(0,a.VK)((()=>n.isPhone&&r),[n.isPhone,r]),l=(0,a.VK)((()=>t.getClosestMovedBlock()),[t]),d=(0,b.jsx)(u.FormattedMessage,{defaultMessage:"This page is in the Trash.",id:"pageViewBlock.trashBanner.message"}),c=(0,b.jsx)(u.FormattedMessage,{defaultMessage:"This page was PERMANENTLY deleted.",id:"pageViewBlock.permanentlyDeleted.message"}),g=(0,a.VK)((()=>{const e=ce.fJ(t),n=(0,Q.y)(e);return G.default.isAdminMode&&n}),[t]);return l?(0,b.jsx)(ue,{blockStore:t,sourceBlock:l}):o?(0,b.jsx)(ge,{blockStore:t}):g?(0,b.jsxs)("div",{children:[c,(0,b.jsx)(pe,{variant:"default",blockStore:t})]}):r?(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)("div",{children:d}),(0,b.jsx)(ge,{blockStore:t})]}):(0,b.jsx)("div",{children:d})};var fe=n(83212),xe=n(89728);const be=function(){window.__c={n:"EditingPageBanner"};const e=(0,i.useCallback)((()=>{fe.Z.setState({editing:!1,commenting:!0})}),[]);return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(u.FormattedMessage,{id:"pageViewBlock.editingPageBanner.status",defaultMessage:"You can now edit this page."}),(0,b.jsx)(xe.Z,{onClick:e,children:(0,b.jsx)(u.FormattedMessage,{id:"pageViewBlock.editingPageBanner.stop",defaultMessage:"Done editing"})})]})};var ve=n(29755),ke=n(68785);const we=function(e){let{blockStore:t}=e;window.__c={n:"ImportingEvernoteBanner"};const n=(0,a.VK)((()=>ve.Z.state.pageMap[t.id]),[t.id]);return n?(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(ke.Z,{isWhite:!0,style:{marginRight:8}}),(0,b.jsx)(u.FormattedMessage,{defaultMessage:"Imported {importedNumberOfNotes} of {totalNumberOfNotes}",values:{importedNumberOfNotes:n.importedNotes,totalNumberOfNotes:n.totalNotes},id:"pageViewBlock.evernoteBanner.contents"})]}):null};var Me=n(11342),je=n(42402);const ye=function(){window.__c={n:"MobilePlatformUnsupportedBanner"};const{mobileNative:e,device:t}=(0,s.O7)(),{osVersion:n}=t,i=(0,a.VK)((()=>t.isAndroid&&(0,Me.isLessThanVersion)(n,[7,0])?"Android 7.0":t.isIOS&&(0,Me.isLessThanVersion)(n,[15,0])?"iOS 15.0":void 0),[t.isAndroid,t.isIOS,n]);return e&&e.api.openUpdateSettings&&i?(0,b.jsx)("div",{style:{whiteSpace:"normal",textAlign:"center",flex:"1 auto",margin:"8px 0"},children:(0,b.jsx)(u.FormattedMessage,{defaultMessage:" This operating system is no longer supported.{br}Please <upgradelink>upgrade to {supportedPlatformVersion} or later.</upgradelink>.",id:"appUpdateListener.mobilePlatformNotSupported.message",values:{br:(0,b.jsx)("br",{}),upgradelink:t=>(0,b.jsx)(je.Z,{onClick:()=>{e.openUpdateSettings()},disableHover:!0,children:t}),supportedPlatformVersion:i}})}):null};const Se=function(){return(0,b.jsx)(u.FormattedMessage,{defaultMessage:"This page is in an archived teamspace.",id:"pageViewBlock.archivedTeamBanner.message"})};var Be=n(90965),_e=n(12714),Ce=n(18514);function Fe(){window.__c={n:"SpaceContentDuplicationHelpCenterButton"};const e=(0,s.O7)(),t=(0,i.useCallback)((()=>{const t=(0,Ce.UY)("guides.workspaceConsolidation");_e.D({environment:e,url:t})}),[e]);return(0,b.jsx)(p.Z,{style:{marginLeft:12},onClick:t,children:(0,b.jsx)(u.FormattedMessage,{defaultMessage:"Learn more",id:"pageViewBlock.contentDuplication.learnMoreButton.label"})})}function Te(e){let{targetSpaceId:t}=e;window.__c={n:"LinkToTargetSpaceButton"};const n=(0,s.O7)(),a=(0,i.useCallback)((()=>{P.c4({environment:n,url:(0,Be.BD)({spaceId:t,baseUrl:G.default.domainBaseUrl}),openInNew:"tab"})}),[n,t]);return(0,b.jsx)(p.Z,{style:{marginLeft:12},onClick:a,children:(0,b.jsx)(u.FormattedMessage,{defaultMessage:"Visit new workspace",id:"pageViewBlock.contentDuplication.linkToTargetWorkspace.label"})})}const Ie=function(e){let{blockStore:t}=e;window.__c={n:"SpaceContentDuplicationBanner"};const n=(0,b.jsx)(u.FormattedMessage,{defaultMessage:"This workspace is in a read-only state while the contents are being duplicated.",id:"pageViewBlock.contentDuplicationInProgress.message"}),s=(0,b.jsx)(u.FormattedMessage,{defaultMessage:"This workspace's contents have been duplicated. Navigate to the new workspace for edits.",id:"pageViewBlock.contentDuplicationCompleted.message"}),{spaceRequestStatus:o,targetSpaceId:l}=(0,a.VK)((()=>{const e=ce.oZ(t);return e&&(0,Be.nV)(e)?{spaceRequestStatus:e.status,targetSpaceId:e.target_space_id}:{spaceRequestStatus:void 0,targetSpaceId:void 0}}),[t]);return"started"===o||"failed_with_closed_source"===o?(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)("div",{children:n}),(0,b.jsx)(Fe,{})]}):"completed"===o||"pending_deletion"===o?(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)("div",{children:s}),(0,b.jsx)(Fe,{}),(0,b.jsx)(Te,{targetSpaceId:l})]}):o?void(0,r.t1)(o):null};var Ve=n(84169),Le=n(12392),Pe=n(25888),Ze=n(50627),Ae=n(16354),De=n(46247);function Oe(e){window.__c={n:"TemplatePageBanner"};const{message:t,mobileMessage:n,learnMoreLink:i,context:a}=e,r=(0,s.Fy)(),o=(0,s.O7)(),l=(0,c.yK)((e=>({wrap:{display:"flex",alignItems:"center",minWidth:0,flexGrow:1},mobileBackContainer:{display:"flex",alignItems:"center"},mobileMessageContainer:{display:"flex",alignItems:"center",minWidth:0},mobileHelpContainer:{marginLeft:"auto"},divider:{height:18,width:1,marginLeft:4,marginRight:12,flexShrink:0,background:e.darkDividerColor},desktopBackContainer:{display:"flex",flex:1},desktopMessageContainer:{display:"flex",alignItems:"center",minWidth:0},desktopHelpContainer:{display:"flex",flex:1}})),[]),d=(0,b.jsx)(u.FormattedMessage,{defaultMessage:"Back",id:"pageViewBlock.templatePageBanner.backButton.label"}),g=()=>{P.op(o)};return r.isMobile?(0,b.jsxs)("div",{style:l.wrap,children:[(0,b.jsxs)("div",{style:l.mobileBackContainer,children:[(0,b.jsx)(xe.Z,{onClick:g,mobileFeedback:!0,style:{marginLeft:-8},children:d}),(0,b.jsx)("div",{style:l.divider})]}),(0,b.jsx)("div",{style:l.mobileMessageContainer,children:n??t}),i&&(0,b.jsx)("div",{style:l.mobileHelpContainer,children:(0,b.jsx)(De.Z,{href:i,isRight:!0,analyticsFrom:"collection_template_topbar"})})]}):(0,b.jsxs)("div",{style:l.wrap,children:[(0,b.jsx)("div",{style:l.desktopBackContainer,children:(0,b.jsx)(xe.Z,{icon:Le.S,isGray:!0,onClick:g,style:{marginRight:"auto",marginLeft:(0,Ze.OZ)(a)?-6:-4},children:d})}),(0,b.jsx)("div",{style:l.desktopMessageContainer,children:t}),(0,b.jsx)("div",{style:l.desktopHelpContainer,children:i&&(0,b.jsx)(Ae.Z,{href:i,style:{marginLeft:"auto",marginRight:-6},onClick:()=>Pe.Fs(o,{from:"collection_template_topbar"}),children:(0,b.jsx)(xe.Z,{isLightGray:!0,icon:Ve.m,children:(0,b.jsx)(u.FormattedMessage,{defaultMessage:"Learn more",id:"pageViewBlock.templatePageBanner.learnMoreLink"})})})})]})}const Ke=(0,u.defineMessages)({editInsideButton:{defaultMessage:"<mediumtext>You're editing a template in a button</mediumtext>",id:"pageViewBlock.templatePageBanner.editInsideButton"},editInsideButtonMobile:{defaultMessage:"<mediumtext>Template inside button</mediumtext>",id:"pageViewBlock.templatePageBanner.mobile.editInsideButton"}});const Ue=function(e){let{context:t}=e;window.__c={n:"TemplateInButtonBanner"};const n=(0,c.yK)((e=>({mediumText:{color:e.mediumTextColor}})),[]);return(0,b.jsx)(Oe,{context:t,message:(0,b.jsx)(u.FormattedMessage,{...Ke.editInsideButton,values:{mediumtext:e=>(0,b.jsx)("span",{style:n.mediumText,children:e})}}),mobileMessage:(0,b.jsx)(u.FormattedMessage,{...Ke.editInsideButtonMobile,values:{mediumtext:e=>(0,b.jsx)("span",{style:n.mediumText,children:e})}})})};var Re=n(97511),Ee=n(46654),Ne=n(99757);const Ye=(0,u.defineMessages)({viewTemplate:{defaultMessage:"<mediumtext>You're viewing a template in</mediumtext> {pageTitleWithIcon}",id:"pageViewBlock.templatePageBanner.viewTemplateLabel"},editTemplate:{defaultMessage:"<mediumtext>You're editing a template in</mediumtext> {pageTitleWithIcon}",id:"pageViewBlock.templatePageBanner.editTemplateLabel"},editTemplateMobile:{defaultMessage:"<mediumtext>Template in</mediumtext> {pageTitleWithIcon}",id:"pageViewBlock.templatePageBanner.mobile.editTemplateLabel"}});const We=function(e){let{blockStore:t,context:n,disabled:i}=e;window.__c={n:"TemplateInPageBanner"};const s=(0,a.VK)((()=>t.getAssociatedCollectionStore()),[t]),r=(0,a.VK)((()=>{const e=null==s?void 0:s.getParentBlockStore();if(e)return(0,R.Z)({pageId:e.id,pageVisitSource:U.tY.LinkInPage})}),[s]),o=(0,Re.l)(),l=(0,a.VK)((()=>{if(i)return!1;if(Ne.n.state)return!1;const e=o&&o.publicEditModeStore.state;if((0,Ee.YF)(e))return Ye.viewTemplate;return t.canEdit()?Ye.editTemplate:Ye.viewTemplate}),[o,i,t]),d=(0,c.yK)((e=>({mediumText:{color:e.mediumTextColor},innerLinkBox:{display:"flex",alignItems:"center"},linkBox:{marginLeft:8,marginRight:8,minWidth:0},linkBoxMobile:{marginLeft:8,marginRight:"auto",minWidth:0},recordTitle:{marginLeft:4},recordTitleMobile:{marginLeft:4,marginRight:8}})),[]),g=(0,Ce.UY)("guides.databaseTemplates"),p=(0,a.VK)((()=>null==s?void 0:s.getIcon()),[s]);return s&&r&&l?(0,b.jsx)(Oe,{learnMoreLink:g,context:n,message:(0,b.jsx)(u.FormattedMessage,{...l,values:{mediumtext:e=>(0,b.jsx)("span",{style:d.mediumText,children:e}),pageTitleWithIcon:(0,b.jsxs)(ie.Z,{href:r,style:d.linkBox,innerStyle:d.innerLinkBox,children:[(0,b.jsx)(se.Z,{disabled:!0,icon:p,isEmptyPage:!1,size:20}),(0,b.jsx)(ae.Z,{style:d.recordTitle,store:s,underline:!0})]})}}),mobileMessage:(0,b.jsx)(u.FormattedMessage,{...Ye.editTemplateMobile,values:{mediumtext:e=>(0,b.jsx)("span",{style:d.mediumText,children:e}),pageTitleWithIcon:(0,b.jsxs)(ie.Z,{href:r,style:d.linkBoxMobile,innerStyle:d.innerLinkBox,children:[(0,b.jsx)(se.Z,{disabled:!0,icon:p,isEmptyPage:!1,size:20}),(0,b.jsx)(ae.Z,{style:d.recordTitleMobile,store:s,underline:!0})]})}})}):null};var Ge=n(53471),ze=n(52533);const He=function(){window.__c={n:"UploadLimitExceededBanner"};const e=(0,s.O7)(),t=(0,a.VK)((()=>e.device.isMobile&&!e.device.isTablet),[e.device]),n=(0,a.VK)((()=>{const t="personal"===f.M9(e),n=x.subscriptionDataStoreInstance.state,i=f.GJ(n);return!((0,ze.S$)({environment:e})&&t&&!i)}),[e]);return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(u.FormattedMessage,{id:"uploadLimitExceededBanner.message",defaultMessage:"{shouldShowShortMessage, select, true {Your file is over the {maxFreeAccountFileSize} MB limit} other {Your file is over the {maxFreeAccountFileSize} MB limit of the Free plan}}",values:{shouldShowShortMessage:t,maxFreeAccountFileSize:Ge.K_}}),n&&(0,b.jsx)(p.Z,{onClick:()=>{h.y(e,{from:"upload_limit_banner",for:f.M9(e)||"plus"})},style:{marginLeft:12},children:(0,b.jsx)(u.FormattedMessage,{id:"uploadLimitExceededBanner.upgradeButton.label",defaultMessage:"{shouldShowShortMessage, select, true {Upgrade} other {Upgrade for unlimited uploads}}",values:{shouldShowShortMessage:t}})})]})};var $e=n(91754),Xe=n(20993);const qe=(0,n(45238).I)("mobileNewFeatures",{viewBox:"0 0 26 26",svg:(0,b.jsx)("path",{d:"M12.3984 5.47754C12.5273 5.47754 12.5918 5.40234 12.624 5.28418C12.9463 3.49023 12.9355 3.44727 14.8047 3.09277C14.9229 3.07129 15.0088 2.99609 15.0088 2.86719C15.0088 2.73828 14.9229 2.66309 14.8047 2.6416C12.9355 2.26562 13 2.22266 12.624 0.450195C12.5918 0.332031 12.5273 0.256836 12.3984 0.256836C12.2695 0.256836 12.1943 0.332031 12.1729 0.450195C11.7969 2.22266 11.8613 2.26562 9.99219 2.6416C9.86328 2.66309 9.78809 2.73828 9.78809 2.86719C9.78809 2.99609 9.86328 3.07129 9.99219 3.09277C11.8613 3.46875 11.8398 3.49023 12.1729 5.28418C12.1943 5.40234 12.2695 5.47754 12.3984 5.47754ZM7.19922 12.8682C7.40332 12.8682 7.54297 12.7393 7.56445 12.5459C7.95117 9.67773 8.04785 9.67773 11.0127 9.1084C11.1953 9.07617 11.335 8.94727 11.335 8.74316C11.335 8.5498 11.1953 8.41016 11.0127 8.37793C8.04785 7.96973 7.94043 7.87305 7.56445 4.95117C7.54297 4.75781 7.40332 4.61816 7.19922 4.61816C7.00586 4.61816 6.86621 4.75781 6.83398 4.96191C6.49023 7.84082 6.3291 7.83008 3.38574 8.37793C3.20312 8.4209 3.06348 8.5498 3.06348 8.74316C3.06348 8.95801 3.20312 9.07617 3.42871 9.1084C6.35059 9.58105 6.49023 9.65625 6.83398 12.5244C6.86621 12.7393 7.00586 12.8682 7.19922 12.8682ZM14.4824 24.7598C14.7617 24.7598 14.9658 24.5557 15.0088 24.2656C15.7715 18.3789 16.6094 17.4873 22.4316 16.8428C22.7324 16.8105 22.9365 16.585 22.9365 16.3057C22.9365 16.0264 22.7324 15.8115 22.4316 15.7686C16.6094 15.124 15.7715 14.2324 15.0088 8.3457C14.9658 8.05566 14.7617 7.8623 14.4824 7.8623C14.2031 7.8623 13.999 8.05566 13.9561 8.3457C13.1826 14.2324 12.3555 15.124 6.5332 15.7686C6.23242 15.8115 6.02832 16.0264 6.02832 16.3057C6.02832 16.585 6.23242 16.8105 6.5332 16.8428C12.3447 17.6055 13.1504 18.3896 13.9561 24.2656C13.999 24.5557 14.2031 24.7598 14.4824 24.7598Z"})});const Qe=function(e){window.__c={n:"UpdateBanner"};const t=(0,s.O7)(),{isMobile:n}=t.device;return(0,b.jsx)(H.Z,{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:n?"flex-start":"center"},onClick:e.onClick,mobileFeedback:!0,children:o.p9?(0,b.jsxs)(b.Fragment,{children:[qe({width:n?26:22,marginRight:n?12:8}),(0,b.jsx)("div",{style:{minWidth:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(0,b.jsx)(u.FormattedMessage,{defaultMessage:"Update and see what's new",id:"updateBanner.updateAvailableBanner.message"})})]}):(0,b.jsx)("div",{style:{minWidth:0,wordWrap:"break-word",whiteSpace:"normal",padding:10},children:n?(0,b.jsx)(u.FormattedMessage,{id:"updateBanner.updateMessage.noRedirectMobile",defaultMessage:"Tap here to update to the latest version"}):(0,b.jsx)(u.FormattedMessage,{id:"updateBanner.updateMessage.noRedirect",defaultMessage:"Click here to update to the latest version"})})})};const Je=function(e){let{isInPeekRenderer:t,arbitraryRenderBefore:n,banners:i,isMobile:r}=e;window.__c={n:"BannersRenderer"};const o=(0,s.O7)(),d=(0,a.VK)((()=>(0,l.ll)(o,t)),[o,t]);return(0,b.jsxs)("div",{style:{width:`calc(100% - ${d}px)`,userSelect:"none",WebkitUserSelect:"none"},children:[n,i.map(((e,t,n)=>(0,b.jsx)(et,{banner:e,index:t,array:n,isMobile:r},e.id)))]})};function et(e){let{banner:t,index:n,array:i,isMobile:a}=e;window.__c={n:"BannerComponent"};const l=(0,s.O7)(),{styleKey:c,contentKey:u}=t,g=i.length>1&&n!==i.length-1;let p=null;switch(u){case"over_free_block_limit":p=(0,b.jsx)(k,{});break;case"editing_page":p=(0,b.jsx)(be,{});break;case"subscription_trial_add_payment_method":p=(0,b.jsx)(Xe.a,{});break;case"upload_limit_exceeded":p=(0,b.jsx)(He,{});break;case"admin_mode":p=(0,b.jsx)(K,{});break;case"subscription_payment_status":p=(0,b.jsx)(y.k,{});break;case"test_clock":p=(0,b.jsx)(S.U,{});break;case"space_content_duplication":p=(0,b.jsx)(Ie,{blockStore:t.blockStore});break;case"minor_app_update":p=(0,b.jsx)(Qe,{onClick:()=>(0,o.mK)(l)});break;case"mobile_platform_unsupported":p=(0,b.jsx)(ye,{});break;case"deleted_or_moved_page":p=(0,b.jsx)(he,{blockStore:t.blockStore});break;case"page_in_archived_team":p=(0,b.jsx)(Se,{});break;case"importing_evernote":p=(0,b.jsx)(we,{blockStore:t.blockStore});break;case"template_in_page":p=(0,b.jsx)(We,{blockStore:t.blockStore,context:t.context,disabled:t.disabled});break;case"template_in_button":p=(0,b.jsx)(Ue,{context:t.context});break;case"crdt_page":p=(0,b.jsx)(q,{});break;case"asana_importer_banner":p=(0,b.jsx)($,{blockStore:t.blockStore});break;case"site":p=(0,b.jsx)(d.Z,{blockStore:t.blockStore});break;default:(0,r.t1)(u)}return(0,b.jsx)($e.Z,{styleKey:c,shouldUseDivider:g,isMobile:a,children:p})}},46247:(e,t,n)=>{n.d(t,{Z:()=>c});n(67294);var i=n(480),s=n(24405),a=n(84169),r=n(25888),o=n(64921),l=n(16354),d=n(85893);const c=function(e){window.__c={n:"HelpIconButtonMobile"};const t=(0,i.O7)(),n=(0,s.Fg)();return(0,d.jsx)(l.Z,{style:{display:"flex",alignSelf:"stretch",width:36,...e.isRight?{marginRight:-8}:{marginLeft:-8}},external:!0,href:e.href,onClick:()=>r.Fs(t,{from:e.analyticsFrom}),children:(0,d.jsx)(o.Z,{mobileFeedback:!0,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,a.m)({width:18,marginTop:1,fill:n.lightIconColor})})})}},43124:(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(67294),s=n(480),a=n(86628),r=n(24405),o=n(15145),l=n(40462),d=n(18442),c=n(9291),u=n(99553),g=n(12714),p=n(64921),m=n(84210),h=n(88923),f=n(81236),x=n(68973),b=n(72714),v=n(85893);function k(e){window.__c={n:"SitesBanner"};const{blockStore:t}=e,n=(0,s.O7)(),k=n.device.isMobile,w=(0,a.VK)((()=>{const e=t.getSpaceStore(),n=null==e?void 0:e.getPublicContentDomain();if(n)return(0,b.B)(n)}),[t]),M=(0,a.VK)((()=>(0,m.ZP)({store:t,preferPublicLink:!0,getSpaceDomain:()=>{var e;return null===(e=f.Z.getPublicSpaceData(n,t.getSpaceId()))||void 0===e?void 0:e.domain},pageVisitSource:o.tY.SiteBanner})),[t,n]),j=(0,i.useCallback)((()=>{g.D({environment:n,url:M})}),[n,M]),y=(0,i.useCallback)((()=>{var e;h.default.isSidePeekOpen()&&(null===(e=h.default.peekTarget.state)||void 0===e?void 0:e.id)!==t.id&&u.ME(),x.TA(n)}),[n,t]),S=(0,r.yK)((()=>({container:{display:"flex",alignItems:"center",justifyContent:"center"},viewSiteButton:{display:"flex",alignItems:"center",justifyContent:"center",marginLeft:32,padding:4,borderRadius:4},icon:{height:16,width:16,marginRight:4},settingsButton:{display:"flex",alignItems:"center",justifyContent:"center",marginLeft:16,padding:4,borderRadius:4}})),[]);return w?k?(0,v.jsx)(c.FormattedMessage,{defaultMessage:"This page is live on the web.",id:"pageViewBlock.sitesBannerMobile.message"}):(0,v.jsxs)("div",{style:S.container,children:[(0,v.jsx)(c.FormattedMessage,{defaultMessage:"This page is live on {domain}.",id:"pageViewBlock.sitesBanner.message",values:{domain:w}}),(0,v.jsxs)(p.Z,{onClick:j,style:S.viewSiteButton,children:[(0,l.o)(S.icon),(0,v.jsx)(c.FormattedMessage,{defaultMessage:"View site",id:"pageViewBlock.sitesBanner.viewSite"})]}),(0,v.jsxs)(p.Z,{onClick:y,style:S.settingsButton,children:[(0,d.H)(S.icon),(0,v.jsx)(c.FormattedMessage,{defaultMessage:"Site settings",id:"pageViewBlock.sitesBanner.settings"})]})]}):null}},29755:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(49085);class s extends i.default{getInitialState(){return{pageMap:{}}}setStatus(e,t){const{pageMap:n}=this.state;t?n[e]=t:delete n[e],this.emit()}}const a=new s},87199:(e,t,n)=>{n.d(t,{k:()=>i});const i=(0,n(9291).defineMessages)({paymentMethodUnverified:{id:"subscriptions.paymentMethodUnverified",defaultMessage:"Your payment is being processed. Please try again when your payment has completed."},otherPaymentMethod:{id:"subscriptions.otherPaymentMethod",defaultMessage:"Other"}})},44041:(e,t,n)=>{n.d(t,{y:()=>k});n(67294);var i=n(47425),s=n(9291),a=n(86572),r=n(47307),o=n(33929),l=n(52533),d=n(80444),c=n(92083),u=n(39343),g=n(87199),p=n(70060),m=n(88893),h=n(35057),f=n(88280),x=n(34583),b=n(64891),v=n(85893);const k=async function(e,t){var n;a.sA(e,{from:t.from,for_subscription_tier:t.for,addOnFeature:t.addOnFeature});if((0,h.QM)()&&["block_limit_sidebar","block_limit_settings","block_limit_banner"].includes(t.from)&&!t.addOnFeature&&(0,p.XA)(e))return void c.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0});if(!t.addOnFeature&&(0,i.QM)(t.for))return;const k=(0,l.S$)({environment:e})&&"personal"===t.for;if(e.device.isMobileNative){if("ai"===t.addOnFeature){const t=(0,l.Y2)({environment:e})?(0,v.jsx)(s.FormattedMessage,{id:"upsellActions.noIAPForAIWithExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Visit on desktop to purchase Notion AI and go unlimited."}):(0,v.jsx)(s.FormattedMessage,{id:"upsellActions.noIAPForAIWithoutExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Unfortunately, additional AI responses cannot be purchased on this platform."});return void r.showErrorMessage(t)}if(!k)return}const w=d.default.state.currentSpaceStore;if(!w)return;if(!w.canAdmin())return;await x.bi(e);const M=f.subscriptionDataStoreInstance.state;if(!M)return;if("unsubscribed_admin"!==M.type&&"subscribed_admin"!==M.type)return void(t.dontOpenPlansOnCancel||c.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0}));if(m.ri(M))return void r.showErrorMessage(o.default.formatMessage(g.k.paymentMethodUnverified));if(m.Q6(M)){const e=(0,v.jsx)(s.FormattedMessage,{id:"upsellActions.referToSalesRep",defaultMessage:"This workspace is part of a managed account. Please contact your account representative to discuss any changes to your subscription."});return void r.showErrorMessage(e)}if(k)return void(e.mobileNative&&w.id&&e.mobileNative.openUpgradeModal(w.id));if("revenueCat"===(null===(n=M.customerData)||void 0===n?void 0:n.activeSubscriptionPlatform)){const e=(0,v.jsx)(s.FormattedMessage,{id:"upsellActions.switchPlanFromInAppPurchase",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To switch plans, cancel your subscription with Apple first."});return void r.showErrorMessage(e)}const j=m.XX(M);if(t.addOnFeature&&(0,u.Fk)(j)){const e=(0,v.jsx)(s.FormattedMessage,{id:"upsellActions.noAddOnPurchaseDuringFreeTrial",defaultMessage:"Unfortunately, additional {addOn, select, ai {AI responses} other {features}} cannot be purchased while a workspace is on a free trial.",values:{addOn:t.addOnFeature}});r.showErrorMessage(e)}else{if(j&&m.MM(M))return t.addOnFeature?void b.af({environment:e,from:t.from,view:"add_ons",addOnFeature:t.addOnFeature,billingInterval:j.interval,pageSection:t.pageSection}):void b.af({environment:e,from:t.from,view:"plans",temporarySubscriptionTier:t.for,billingInterval:j.interval,pageSection:t.pageSection});{const n=(0,p.px)(e,t.for)?"ai_fifty_percent":void 0;x.I0(e,{subscriptionTier:t.for,from:t.from,addOnFeature:t.addOnFeature,coupon:n,isTrial:t.isTrial})}}}},39343:(e,t,n)=>{n.d(t,{Fk:()=>o,U6:()=>d,nx:()=>l});var i=n(30120),s=n(13991),a=n(7057),r=n(95477);function o(e){return!(null==e||!e.trialEnd)&&e.trialEnd>=i.ou.now().toSeconds()}function l(e){const t=function(e){if(!o(e))return;const t=1e3*(null==e?void 0:e.trialEnd);return null!=e&&e.periodEnd&&e.periodEnd>=i.ou.now().toSeconds()&&e.periodEnd<t?e.periodEnd:t}(e);return t?(0,a.Yx)(t,"long",s.SP):void 0}function d(e){return e?r.default.trials[e.id].duration:r.default.trials.default.duration}},2607:(e,t,n)=>{n.d(t,{b:()=>d});n(57658),n(30541);var i,s=n(21202),a=n(77420),r=n(19889),o=n(70203),l=n(97880);class d{}i=d,d.text=e=>new g(e),d.textValue=e=>"string"==typeof e?i.text(e).build():e,d.mentionDate=e=>new m(e),d.mentionUser=e=>new h(e),d.mentionGroup=(e,t)=>new v(e,t),d.mentionBot=e=>new h(e),d.mentionPage=e=>new h(e),d.mentionTemplateVariable=e=>new f(e),d.mentionFormulaContextVariable=e=>new x(e),d.mentionFormulaPagePropertyVariable=e=>new b(e),d.mentionCitation=e=>new k(e),d.equation=e=>new p(e),d.concat=e=>new c(e);class c{constructor(e){this.build=()=>{const e=[];for(const t of this.tokens){const n=t.build();e.push(n[0])}return e},this.tokens=e}}class u{constructor(e){this.styles={},this.highlight=void 0,this.linkData=void 0,this.bold=()=>(this.styles[o.GKr.Bold]=!0,this),this.italic=()=>(this.styles[o.GKr.Italic]=!0,this),this.strike=()=>(this.styles[o.GKr.Strike]=!0,this),this.code=()=>(this.styles[o.GKr.Code]=!0,this),this.underline=()=>(this.styles[o.GKr.Underline]=!0,this),this.color=e=>(this.highlight=e,this),this.link=e=>(this.linkData=e,this),this.build=()=>{const e=[];for(const t of(0,l.Yd)(this.styles))e.push([t]);return this.highlight&&e.push([o.GKr.Highlight,this.highlight]),this.linkData&&e.push([o.GKr.Link,this.linkData]),this.onBuild(e)},this.onBuild=e}}class g extends u{constructor(e){super((t=>{if(this.url&&t.unshift(o.edl(this.url)),t.length>0){return[[e,t]]}return[[e]]})),this.url=void 0,this.link=e=>(this.url=e,this)}}class p extends u{constructor(e){super((t=>[o.qZ6(e,t)]))}}class m extends u{constructor(e){super((t=>{let n;"date"in e?n=this.getDateAnnotationData(e.date):"time"in e?n=this.getTimeAnnotationData(e.time,e.timeZone):(0,l.t1)(e);const i=o.pZr(n);return[o.YCD(i,t)]})),this.getDateString=e=>e.toISOString().split("T")[0],this.getTimeString=e=>e.toISOString().split("T")[1].slice(0,5)}getDateAnnotationData(e){if(Array.isArray(e)){const[t,n]=e;return{type:"daterange",start_date:this.getDateString(t),end_date:this.getDateString(n)}}return{type:"date",start_date:this.getDateString(e)}}getTimeAnnotationData(e,t){if(Array.isArray(e)){const[n,i]=e;return{type:"datetimerange",start_date:this.getDateString(n),start_time:this.getTimeString(n),end_date:this.getDateString(i),end_time:this.getTimeString(i),time_zone:t??"Etc/GMT"}}return{type:"datetime",start_date:this.getDateString(e),start_time:this.getTimeString(e),time_zone:t??"Etc/GMT"}}}class h extends u{constructor(e){super((t=>{let n;return e.table===r.KJ?n=o.tEo(e.id):e.table===a.cZ?n=o.CbB(e.id):e.table===s.iU?n=o.$0A(e.id,e.spaceId):(0,l.t1)(e),[o.YCD(n,t)]}))}}class f extends u{constructor(e){super((t=>{const n=o.WBu({type:e});return[o.YCD(n,t)]}))}}class x extends u{constructor(e){super((t=>{const n=o._QF(e);return[o.YCD(n,t)]}))}}class b extends u{constructor(e){super((t=>{const n=o.kbv(e);return[o.YCD(n,t)]}))}}class v extends u{constructor(e,t){super((n=>{const i=o.XIB(e,t);return[o.YCD(i,n)]}))}}class k extends u{constructor(e){super((t=>{const n=o.hNu(e);return[o.YCD(n,t)]}))}}},72787:(e,t,n)=>{n.d(t,{Y:()=>a});n(67294);var i=n(45238),s=n(85893);const a=(0,i.I)("chevronDownThin",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M8.004 12a.72.72 0 00.54-.237l6.238-6.487A.735.735 0 0015 4.753c0-.426-.314-.753-.733-.753a.76.76 0 00-.524.213l-5.739 5.955-5.747-5.955A.73.73 0 001.733 4C1.314 4 1 4.327 1 4.753c0 .204.08.384.218.531l6.238 6.479a.751.751 0 00.548.237z"})})},12392:(e,t,n)=>{n.d(t,{S:()=>a});n(67294);var i=n(45238),s=n(85893);const a=(0,i.I)("historyBack",{viewBox:"0 0 14 14",svg:(0,s.jsx)("polygon",{points:"2.85893 7.74676 8.05608 12.9439 7 14 0.528042 7.52804 0 7 0.528042 6.47196 7 0 8.05608 1.05608 2.85893 6.25324 14 6.25324 14 7.74676"})})}}]);