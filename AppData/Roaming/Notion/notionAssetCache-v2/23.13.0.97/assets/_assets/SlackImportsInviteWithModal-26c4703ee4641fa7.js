"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[227],{81575:(e,t,s)=>{s.d(t,{AK:()=>h,Mc:()=>n,OS:()=>c,Td:()=>g,Uu:()=>a,XC:()=>d,ZK:()=>x,e8:()=>u,gV:()=>p,hc:()=>f,n0:()=>v,u0:()=>m,xi:()=>l});var i=s(97978),r=s(15010),o=s(35057);function n(e){i.j(e,"add_slack_integration")}function a(e){i.j(e,"remove_slack_integration")}function d(e,t){i.j(e,"slack_notification_create",t)}function l(e,t){i.j(e,"slack_notification_delete",t)}function c(e,t){i.j(e,"slack_notification_update",t)}function p(e,t){const s=o.zt(),n=r.JF();i.j(e,"slack_imports_invite_render_button",{subscription_tier:s,domain_type:n,origin:t.origin,invite_flow_id:t.invite_flow_id})}function u(e,t){const s=o.zt(),n=r.JF();i.j(e,"slack_imports_invite_render_invite_popup",{subscription_tier:s,domain_type:n,origin:t.origin,invite_flow_id:t.invite_flow_id})}function h(e,t){const s=o.zt(),n=r.JF();i.j(e,"slack_imports_invite_click_invite_button",{subscription_tier:s,domain_type:n,invited_user_count:t.invited_user_count,origin:t.origin,invite_token_query:t.inviteTokenQuery,invite_targets:t.inviteTargets,invite_flow_id:t.invite_flow_id})}function m(e,t){const s=o.zt(),n=r.JF();i.j(e,"slack_imports_invite_completed",{subscription_tier:s,domain_type:n,invited_user_count:t.invited_user_count,is_success:t.is_success,origin:t.origin,invite_flow_id:t.invite_flow_id,error:t.error,invite_stage:t.invite_stage})}function g(e,t){const s=o.zt(),n=r.JF();i.j(e,"slack_imports_invite_dismiss_popup",{subscription_tier:s,domain_type:n,origin:t.origin,invite_flow_id:t.invite_flow_id})}function f(e,t){const s=o.zt(),n=r.JF();i.j(e,"slack_imports_invite_click_select_all",{subscription_tier:s,domain_type:n,origin:t.origin,invite_flow_id:t.invite_flow_id,invited_user_count:t.invited_user_count,is_unselect:t.is_unselect,invite_token_query:t.invite_token_query})}function v(e,t){const s=o.zt(),n=r.JF();i.j(e,"slack_imports_invite_start_slack_integration",{subscription_tier:s,domain_type:n,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from})}function x(e,t){const s=o.zt(),n=r.JF();i.j(e,"slack_imports_invite_complete_slack_integration",{subscription_tier:s,domain_type:n,origin:t.origin,invite_flow_id:t.invite_flow_id,from:t.from,is_success:t.is_success})}},86125:(e,t,s)=>{s.d(t,{Z:()=>n});s(67294);var i=s(9291),r=s(74136),o=s(85893);function n(e){return(0,o.jsx)(r.Z,{...e,children:"membership_admin"===e.role?(0,o.jsx)(i.FormattedMessage,{id:"spacePermissionsSettings.user.membershipAdmin",defaultMessage:"Membership admin"}):(0,o.jsx)(i.FormattedMessage,{id:"spacePermissionsSettings.user.workspaceOwner",defaultMessage:"Workspace owner"})})}},21752:(e,t,s)=>{s.d(t,{K:()=>b,Z:()=>M});var i=s(67294),r=s(86628),o=s(24405),n=s(54368),a=s(77420),d=s(19889),l=s(97880),c=s(9291),p=s(4708),u=s(80444),h=s(86125),m=s(88198),g=s(70301),f=s(64369),v=s(45653),x=s(44156),_=s(88978),y=s(85893);function C(e){const{actorStore:t,avatar:s,isLarge:i}=e,r=i?32:28;return t?t.table===a.cZ?(0,y.jsx)(g.Z,{botStore:t,size:r}):t.table===d.KJ?(0,y.jsx)(v.Z,{userStore:t,size:r}):t.table===n.y?(0,y.jsx)(v.Z,{userStore:void 0,size:r}):void(0,l.t1)(t):s?(0,y.jsx)(v.Z,{avatar:s,size:r}):(0,y.jsx)(v.Z,{userStore:void 0,size:r})}function b(e){return"membership_admin"===e?"membership_admin":"editor"===e||"admin"===e?"admin":"none"===e||"guest"===e?"guest":"team_level_guest"===e?"team_level_guest":void("member"!==e&&"read_and_write"!==e&&"no_access"!==e&&"not_in_space"!==e&&e&&(0,l.t1)(e))}const M=function(e){window.__c={n:"CellMemberAvatar"};const t=(0,c.useIntl)(),{actorStore:s,avatar:n,containerStyle:a,id:l,spaceRole:g,avatarBadge:v,caption:b,isLarge:M,restorationStatus:S}=e,w="admin"===g||"membership_admin"===g,k="guest"===g||"team_level_guest"===g,j=(0,r.VK)((()=>s?s.getDisplayName(t):null==n?void 0:n.name),[s,n,t]),I=(0,r.VK)((()=>{const{currentUserStore:e}=u.default.state;return!!e&&(!!s&&e.id===s.id)}),[s]),Z=(0,o.yK)((e=>({titleYouIndicator:{color:e.mediumTextColor}})),[]),T=(0,r.VK)((()=>Boolean(b)?b:s?s.getDetail():null==n?void 0:n.email),[b,s,n]),R=(0,r.VK)((()=>(0,p.Mo)()),[]),F=(0,r.VK)((()=>u.default.state.currentSpaceStore),[]),[O,A]=(0,i.useState)(!1);return(0,y.jsxs)("div",{style:{display:"flex",alignItems:"center",maxWidth:M?"unset":300,marginLeft:M?2:0,...a},children:[(0,y.jsxs)("div",{style:{position:"relative",...!M&&{height:28,width:28}},children:[(0,y.jsx)(C,{actorStore:s,avatar:n,isLarge:M}),v]}),(0,y.jsxs)("div",{style:{minWidth:0,marginLeft:M?10:6,marginRight:M?10:6},children:[(0,y.jsxs)("div",{id:l,style:{display:"flex",gap:4},children:[(0,y.jsx)(f.Z,{children:I?(0,y.jsx)(c.FormattedMessage,{id:"cellMemberAvatar.displayName.title",defaultMessage:"{userFullDisplayName} <youIndicatorText>(You)</youIndicatorText>",values:{userFullDisplayName:j,youIndicatorText:e=>(0,y.jsx)("span",{style:Z.titleYouIndicator,children:e})}}):j}),w&&(0,y.jsx)(h.Z,{role:g}),k&&(0,y.jsx)(m.b,{labelType:g}),R&&F&&S&&(0,y.jsx)(x.Z,{spaceStore:F,restorationStatus:S})]}),(0,y.jsx)(f.Z,{isSmall:!0,style:{display:"flex"},children:(0,y.jsx)(f.Z,{isSmall:!0,children:T})})]}),R&&!O&&F&&(null==s?void 0:s.table)===d.KJ&&j&&"canBeRestored"===(null==S?void 0:S.status)&&(0,y.jsx)(_.Z,{spaceId:F.id,userId:null==s?void 0:s.id,userName:j,onSubmit:()=>A(!0)})]})}},47082:(e,t,s)=>{s.d(t,{U:()=>_,Z:()=>C});s(67294);var i=s(83355),r=s(480),o=s(24405),n=s(53465),a=s(72126),d=s(87279),l=s(98742),c=s(34859),p=s(64113),u=s(64921),h=s(37601),m=s(74194),g=s(3386),f=s(53336),v=s(64369),x=s(85893);let _=function(e){return e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.FilterValue=3]="FilterValue",e[e.Share=4]="Share",e[e.Group=5]="Group",e}({});class y extends i.Z{constructor(){super(...arguments),this.storeTypes={store:p.Z},this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleFocused=()=>{this.stores.store.setState({focused:!0})},this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleBlurred=()=>{this.stores.store.setState({focused:!1})},this.handleContainerClick=()=>{var e,t;this.props.disabled||(this.input.focusInput(),null===(e=(t=this.props).onClick)||void 0===e||e.call(t))}}UNSAFE_willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}UNSAFE_willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){const{disabled:e}=this.props;return(0,x.jsx)(g.Z,{debugName:"TokenInputMenuItem",capture:!e,onLeft:a.yR,onRight:a.yR,onSelectAll:a.yR,onRedo:a.yR,onUndo:a.yR,onToggleBold:a.yR,onToggleItalics:a.yR,onToggleCode:a.yR,onCut:a.yR,onCopy:a.yR,onPaste:a.yR,onKeypress:a.yR,children:(0,x.jsx)(g.Z,{debugName:"TokenInputMenuItem",capture:!e&&this.props.value.length>0,onDelete:a.yR,onBackspace:a.yR,children:(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",flex:1,minWidth:0,gap:this.props.message?4:void 0},children:[this.renderTokenInput(),this.props.message&&(0,x.jsx)(v.Z,{isSmall:!0,children:this.props.message})]})})})}renderTokenInput(){const{right:e,showClearButton:t}=this.props;return e||t?(0,x.jsxs)(f.Z,{type:c.Z.All,style:{...j(this.environment,this.theme,this.props.format,this.props.focus,this.props.dontShowBorderBottom,this.props.disabled,this.props.showBorder,this.context.menu),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,x.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...this.props.inputAndTokenWrapRightStyle},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,x.jsx)("div",{style:{flexShrink:0},children:(0,x.jsx)(k,{showClearButton:this.props.showClearButton,right:this.props.right,onClearButtonClick:this.props.onClearButtonClick,tokens:this.props.tokens,value:this.props.value})})]}):this.environment.device.isMobile?(0,x.jsxs)("div",{style:{...j(this.environment,this.theme,this.props.format,this.props.focus,this.props.dontShowBorderBottom,this.props.disabled,this.props.showBorder,this.context.menu),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,x.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:b(this.props.format)?6:0},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,x.jsx)(h.Z,{show:this.stores.store.state.focused})]}):(0,x.jsxs)(f.Z,{type:c.Z.All,style:{...j(this.environment,this.theme,this.props.format,this.props.focus,this.props.dontShowBorderBottom,this.props.disabled,this.props.showBorder,this.context.menu),...this.props.style},onClick:this.handleContainerClick,children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]})}renderInput(){const e=0===this.props.tokens.length;return(0,x.jsx)(m.Z,{disabled:this.props.disabled,format:m.B.Transparent,...(0,l.Z)({onKeyDown:e=>function(e,t,s,i){"Backspace"===e.key&&0===t.length&&s();i&&i(e)}(e,this.props.value,this.props.onRemoveLastToken,this.props.onKeyDown)},{onChange:this.props.onChange}),value:this.props.value,focus:this.props.focus,focusInitial:this.props.focusInitial,focusAfterAnimation:this.props.focusAfterAnimation,style:(t=this.props.format,s=this.environment,i=this.theme,r=this.props.inputFullWidth,o=this.props.inputDivStyle,{flexGrow:1,flexShrink:1,flexBasis:r?"100%":60,minWidth:60,width:"auto",lineHeight:"20px",...s.device.isMobile?{margin:"0 8px 8px 0"}:w(i)[t].inputDivDesktopStyle,...o}),inputStyle:this.props.inputStyle||{height:this.environment.device.isMobile?24:b(this.props.format)?20:18},size:1,ref:e=>e&&(this.input=e),type:this.props.type,placeholder:e?this.props.placeholder:"",onSubmit:e=>function(e,t,s,i){0===t.length&&s&&s();i&&i(e)}(e,this.props.value,this.props.onEmptySubmit,this.props.onSubmit),onFocus:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleFocused,onBlur:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleBlurred,textarea:this.props.textarea,autoComplete:this.props.autoComplete});var t,s,i,r,o}}y.displayName="TokenInputMenuItem",y.contextTypes={...d.mw,...i.w};const C=y;function b(e){return e===_.Group}function M(e,t){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:t?"none":e.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden"}}function S(e){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${e.regularDividerColor}`,fontSize:16,background:e.popoverBackground}}function w(e){const t={desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 6px 6px 0",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}};return{[_.Select]:t,[_.Person]:t,[_.Relation]:t,[_.Group]:t,[_.FilterValue]:{desktopWrapStyle:{padding:"6px 6px 1px",boxShadow:e.inputBoxShadow,background:e.inputBackground,margin:"6px 8px 2px 8px",minHeight:30,fontSize:12,borderRadius:4},inputDivDesktopStyle:{margin:"0 6px 4px 0"},inputDivDesktopFocusStyle:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"}},[_.Share]:{desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}function k(e){let{showClearButton:t,right:s,onClearButtonClick:i,tokens:a,value:d}=e;window.__c={n:"RightComponent"};const l=(0,o.Fg)(),c=(0,r.O7)(),{isMobile:p}=c.device;return s?(0,x.jsx)(x.Fragment,{children:s}):t&&(a.length>0||d.length>0)?(0,x.jsx)(u.Z,{onClick:i,style:{flexShrink:0,flexGrow:0,borderRadius:p?24:20,marginTop:2},children:(0,n.X)({width:p?16:14,height:p?16:14,fill:l.lightIconColor})}):null}function j(e,t,s,i,r,o,n,a){const{WindowSizeStore:l}=e;return{...e.device.isMobile?{...S(t),paddingTop:14,paddingBottom:8,paddingLeft:(null==a?void 0:a.menuType)!==d.og.Popup?l.getSafePaddingLeftCSS(16):16,paddingRight:(null==a?void 0:a.menuType)!==d.og.Popup?l.getSafePaddingRightCSS(16):16,...r&&{borderBottom:"none"}}:{...M(t,o),...w(t)[s].desktopWrapStyle},...n&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...n&&i&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...!e.device.isMobile&&i&&w(t)[s].inputDivDesktopFocusStyle}}},44156:(e,t,s)=>{s.d(t,{Z:()=>m});s(67294);var i=s(13991),r=s(86628),o=s(24405),n=s(7057),a=s(82990),d=s(9291),l=s(83420),c=s(90403),p=s(26388),u=s(64369),h=s(85893);function m(e){let{spaceStore:t,restorationStatus:s}=e;window.__c={n:"RecentlyReaddedBadge"};const i=(0,o.yK)((e=>({recentlyReaddedBadge:{background:e.fill.blue,marginLeft:0,maxWidth:"max-content"},recentlyReaddedText:{color:e.text.blue,fontSize:a.Z.fontSize.UISmall.desktop,fontStyle:"normal",fontWeight:400,lineHeight:"15px"}})),[]);return(0,h.jsx)(p.ZP,{placement:p.ug.Bottom,renderTooltip:()=>(0,h.jsx)(g,{spaceStore:t,restorationStatus:s}),render:e=>(0,h.jsx)("div",{...e,children:(0,h.jsx)(c.Z,{content:(0,h.jsx)(u.Z,{style:i.recentlyReaddedText,children:(0,h.jsx)(d.FormattedMessage,{id:"userCell.recentlyReadded.label",defaultMessage:"Recently re-added"})}),style:i.recentlyReaddedBadge})})})}function g(e){let{spaceStore:t,restorationStatus:s}=e;window.__c={n:"RecentlyReaddedTooltip"};const{displayName:o,displayTime:c}=function(e){let{spaceStore:t,restorationStatus:s}=e;const o="restored"===s.status?{table:s.restoredByTable,id:s.restoredById,spaceId:t.id}:void 0,a=o?(0,l.nc)({parentStore:t,pointer:o}):void 0,c=(0,d.useIntl)(),{displayName:p}=(0,r.VK)((()=>({displayName:null==a?void 0:a.getDisplayName(c)})),[a,c]),u="restored"===s.status?(0,n.Yx)(s.restoredTime,"medium_with_time",i.SP):void 0;return{displayName:p,displayTime:u}}({spaceStore:t,restorationStatus:s});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{style:{fontWeight:a.Z.fontWeight.semibold},children:(0,h.jsx)(d.FormattedMessage,{id:"userCell.recentlyReaddedTooltip.label",defaultMessage:"Member was removed and re-added within the last 30 days"})}),(0,h.jsx)("div",{children:o&&c&&(0,h.jsx)(d.FormattedMessage,{id:"userCell.recentlyReaddedTooltip.description",defaultMessage:"{displayName} restored their access and permissions at {displayTime}",values:{displayName:o,displayTime:c}})})]})}},88978:(e,t,s)=>{s.d(t,{Z:()=>S});var i=s(67294),r=s(55863),o=s(82990),n=s(9291),a=s(73063),d=s(26388),l=s(480),c=s(24405),p=s(98519),u=s(54642),h=s(47307),m=s(64964),g=s(44342),f=s(7184),v=s(69098),x=s(73420),_=s(7124),y=s(85893);const C=(0,n.defineMessages)({privatePages:{id:"restoreAccessModal.privatePages",defaultMessage:"Private pages"},favorites:{id:"restoreAccessModal.favorites",defaultMessage:"Favorites"},sidebarPreferences:{id:"restoreAccessModal.sidebarPreferences",defaultMessage:"Sidebar preferences and ordering"},sharedPages:{id:"restoreAccessModal.sharedPages",defaultMessage:"Shared pages"},groupMembership:{id:"restoreAccessModal.groupMembership",defaultMessage:"Group membership and access"},teamspaceMembership:{id:"restoreAccessModal.teamspaceMembership",defaultMessage:"Teamspace membership and access"}});function b(e){let{item:t,isPrimary:s}=e;window.__c={n:"CheckItem"};const i=(0,c.yK)((e=>({secondaryIcon:{fill:e.icon.uiBlueSecondary},primaryIcon:{fill:e.icon.uiBluePrimary}})),[]);return(0,y.jsxs)(x.X2,{gap:4,children:[(0,p.k)({width:20,height:20,...s?i.primaryIcon:i.secondaryIcon}),(0,y.jsx)(_.q,{styleName:"Body-14px/Regular",children:(0,y.jsx)(n.FormattedMessage,{...t})})]})}function M(e){let{spaceId:t,userId:s,userName:o,onDismiss:a,onSubmit:d}=e;window.__c={n:"RestoreAccessModalContent"};const c=(0,l.O7)(),p=(0,i.useCallback)((async()=>{const e=await u.recoverUserContentInSpace(c,{spaceId:t,userId:s});if("failed"===e.type)throw h.showError(e),e;d(),a(),m.oV({label:(0,y.jsx)(n.FormattedMessage,{id:"restoreAccessModal.snackbarMessage",defaultMessage:"Restored access and permissions for{nbsp}{displayName}",values:{displayName:(0,y.jsx)("b",{children:o}),nbsp:(0,y.jsx)(y.Fragment,{children:" "})}})})}),[c,t,s,o,a,d]);return(0,y.jsx)(g.sR,{header:(0,y.jsx)(g.vI,{iconAndTitle:(0,y.jsx)(g.kC,{icon:r.s,title:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"Restore access and permissions?",id:"restoreAccessModal.title"})})}),footer:(0,y.jsx)(g.a6,{layout:"vertical",primaryButtons:[{buttonType:"primary",label:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"Restore access and permissions",id:"restoreAccessModal.restoreButton"}),onClick:p}],caption:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"If member was removed and re-added in the last 30 days",id:"restoreAccessModal.restoreCaption"}),secondaryButtons:[{buttonType:"secondary",label:(0,y.jsx)(n.FormattedMessage,{defaultMessage:"Cancel",id:"restoreAccessModal.cancelButton"}),onClick:a}]}),children:(0,y.jsxs)(x.sg,{gap:24,children:[(0,y.jsx)(_.q,{styleName:"Body-14px/Regular",colorName:"secondary",customStyles:{textAlign:"center"},children:(0,y.jsx)(n.FormattedMessage,{id:"restoreAccessModal.contextDescription",defaultMessage:"When a member is re-added to a workspace, their <b>personal content</b> is automatically restored.",values:{b:e=>(0,y.jsx)("b",{children:e})}})}),(0,y.jsxs)(x.sg,{gap:8,children:[(0,y.jsx)(b,{item:C.privatePages}),(0,y.jsx)(b,{item:C.favorites}),(0,y.jsx)(b,{item:C.sidebarPreferences})]}),(0,y.jsx)(_.q,{styleName:"Body-14px/Regular",colorName:"secondary",customStyles:{textAlign:"center"},children:(0,y.jsx)(n.FormattedMessage,{id:"restoreAccessModal.actionDescription",defaultMessage:"You can choose to restore their <b>access and permissions</b> as well.",values:{b:e=>(0,y.jsx)("b",{children:e})}})}),(0,y.jsxs)(x.sg,{gap:8,children:[(0,y.jsx)(b,{item:C.sharedPages,isPrimary:!0}),(0,y.jsx)(b,{item:C.groupMembership,isPrimary:!0}),(0,y.jsx)(b,{item:C.teamspaceMembership,isPrimary:!0})]})]})})}function S(e){let{spaceId:t,userId:s,userName:i,onSubmit:o}=e;return(0,y.jsx)(d.ZP,{placement:d.ug.Right,renderTooltip:()=>(0,y.jsx)(w,{}),render:e=>(0,y.jsx)(a.Z,{icon:r.s,ariaLabel:"Restore access",onClick:()=>async function(e,t,s,i){return await v.o.showAsyncModal((r=>(0,y.jsx)(f.c,{isOpen:r.isOpen,onDismiss:r.onDismiss,onClosed:r.onClosed,areaConstraint:{width:{min:380,max:380}},children:(0,y.jsx)(M,{spaceId:e,userId:t,userName:s,onDismiss:r.onDismiss,onSubmit:i})})))}(t,s,i,o),...e})})}function w(){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{style:{fontWeight:o.Z.fontWeight.semibold},children:(0,y.jsx)(n.FormattedMessage,{id:"userCell.restoreAccessTooltip.label",defaultMessage:"Restore access to teamspaces, groups, and shared pages"})}),(0,y.jsx)("div",{children:(0,y.jsx)(n.FormattedMessage,{id:"userCell.restoreAccessTooltip.description",defaultMessage:"Only available if a member was removed and re-added in the last 30 days"})})]})}},69098:(e,t,s)=>{s.d(t,{j:()=>c,o:()=>i});var i={};s.r(i),s.d(i,{showAsyncModal:()=>u,showAsyncModalComponent:()=>h,testOnly:()=>C});var r=s(67294),o=s(86628),n=s(49085);class a extends n.default{getInitialState(){return{asyncModals:[]}}}const d=new a;var l=s(85893);const c=r.memo((e=>{window.__c={n:"AsyncModalRenderer"};const{store:t=d}=e,s=(0,o.VK)((()=>t.state.asyncModals),[t]);return(0,l.jsx)(l.Fragment,{children:s.map((e=>{const{id:t,internalRenderModal:s,isOpen:i}=e,o=s(i);return(0,l.jsx)(r.Fragment,{children:o},t)}))})}));var p=s(4615);function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return new Promise(((s,i)=>{try{m({asyncModal:x({renderModal:e,promiseResolve:s,promiseReject:i,store:t}),store:t})}catch(r){i(r)}}))}function h(e){return u((t=>r.createElement(e,t)),arguments.length>1&&void 0!==arguments[1]?arguments[1]:d)}function m(e){const{asyncModal:t,store:s=d}=e;s.update((e=>({asyncModals:[...e.asyncModals,t]})))}function g(e){const{id:t,promiseResolve:s,store:i=d}=e;return e=>{const r=_({id:t,store:i});null!=r&&r.isOpen&&(y({id:t,store:i,update:{isOpen:!1}}),s(e))}}function f(e){const{id:t,promiseResolve:s,store:i=d}=e;return()=>{const e=_({id:t,store:i});null!=e&&e.isOpen&&(y({id:t,store:i,update:{isOpen:!1}}),s())}}function v(e){const{id:t,store:s=d}=e;return()=>{s.update((e=>({asyncModals:e.asyncModals.filter((e=>e.id!==t))})))}}function x(e){const{renderModal:t,promiseResolve:s,promiseReject:i,store:r=d}=e,o=(0,p.ZP)(),n=v({id:o,store:r}),a=f({id:o,promiseResolve:s,store:r}),l=g({id:o,promiseResolve:s,store:r});return{id:o,internalRenderModal:e=>{try{return t({isOpen:e,onClosed:n,onDismiss:a,resolve:l})}catch(s){throw i(s),s}},isOpen:!0}}function _(e){const{id:t,store:s=d}=e;return s.state.asyncModals.find((e=>e.id===t))}function y(e){const{id:t,update:s,store:i=d}=e;i.update((e=>({asyncModals:e.asyncModals.map((e=>e.id!==t?e:{...e,...s}))})))}const C={addAsyncModal:m,createAsyncModal:x,createOnClosed:v,createOnDismiss:f,createResolve:g,getAsyncModal:_,updateAsyncModal:y}},83420:(e,t,s)=>{s.d(t,{TL:()=>p,nc:()=>c,ue:()=>l});var i=s(66897),r=s(54368),o=s(77420),n=s(19889),a=s(97880),d=s(79797);function l(e){const{parentStore:t,pointer:s}=e,r=(0,d.Kv)(t,s).getValue();if(r)return(0,i.LU)({table:s.table,value:r})}function c(e){const{parentStore:t,pointer:s}=e;return s.table===o.cZ?d.Qx.createChildStore(t,s):s.table===n.KJ?d.U6.createChildStore(t,s):s.table===r.y?d.fg.createChildStore(t,s):void(0,a.t1)(s)}function p(e){return e.table===o.cZ?(0,i.ON)(e.getValue()):e.table===n.KJ?(0,i.m3)(e.getValue()):e.table===r.y?(0,i.I4)(e.getValue()):void(0,a.t1)(e)}},26907:(e,t,s)=>{s.d(t,{B:()=>o,H:()=>i});const i=e=>{const{target:t,inviteTargetsStore:s}=e;return s.state.inviteTargets.some((e=>"newUser"===t.type?e.type===t.type&&t.value.email===e.value.email:"invalidUser"===t.type?e.type===t.type&&t.value.text===e.value.text:e.type===t.type&&e.value.id===t.value.id))};function r(e){return"invalidUser"!==e.type}const o=e=>{const{inviteTargetsStore:t}=e,{inviteTargets:s}=t.state;return s.filter(r)}},85834:(e,t,s)=>{s.d(t,{TG:()=>n,ZP:()=>d,uq:()=>o});var i=s(49085),r=s(4615);let o=function(e){return e.workspace_member="workspace_member",e.request_workspace_member="request_workspace_member",e.page_guest="page_guest",e.closed="closed",e}({}),n=function(e){return e[e.closed=0]="closed",e[e.share_page=1]="share_page",e[e.share_workspace=2]="share_workspace",e[e.request_workspace=3]="request_workspace",e}({});class a extends i.default{getInitialState(){return{inviteStage:n.closed,selection:o.workspace_member,order:[o.workspace_member,o.page_guest],invitedUsers:[],inviteTargets:[],invitedEmailToUserIdMap:{},flowId:(0,r.ZP)()}}startWorkspaceInvite(){this.setState({...this.state,inviteStage:n.share_workspace,order:[o.workspace_member,o.page_guest],selection:o.workspace_member})}startRequestMembership(){this.setState({...this.state,inviteStage:n.request_workspace,order:[o.request_workspace_member,o.page_guest],selection:o.request_workspace_member})}hasGuests(){return this.state.invitedUsers.some((e=>e.isGuest))}getGuestEmails(){return this.state.invitedUsers.filter((e=>e.isGuest)).map((e=>e.email))}}const d=a},55899:(e,t,s)=>{s.d(t,{KU:()=>o,ZP:()=>a,fZ:()=>r});var i=s(49085);function r(e){return"existingUser"===e.type}function o(e){return"newUser"===e.type&&"email"!==e.source}class n extends i.default{getInitialState(){return{tokenQuery:"",inviteTargets:[]}}}const a=n},87199:(e,t,s)=>{s.d(t,{k:()=>i});const i=(0,s(9291).defineMessages)({paymentMethodUnverified:{id:"subscriptions.paymentMethodUnverified",defaultMessage:"Your payment is being processed. Please try again when your payment has completed."},otherPaymentMethod:{id:"subscriptions.otherPaymentMethod",defaultMessage:"Other"}})},44041:(e,t,s)=>{s.d(t,{y:()=>y});s(67294);var i=s(47425),r=s(9291),o=s(86572),n=s(47307),a=s(33929),d=s(52533),l=s(80444),c=s(92083),p=s(39343),u=s(87199),h=s(70060),m=s(88893),g=s(35057),f=s(88280),v=s(34583),x=s(64891),_=s(85893);const y=async function(e,t){var s;o.sA(e,{from:t.from,for_subscription_tier:t.for,addOnFeature:t.addOnFeature});if((0,g.QM)()&&["block_limit_sidebar","block_limit_settings","block_limit_banner"].includes(t.from)&&!t.addOnFeature&&(0,h.XA)(e))return void c.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0});if(!t.addOnFeature&&(0,i.QM)(t.for))return;const y=(0,d.S$)({environment:e})&&"personal"===t.for;if(e.device.isMobileNative){if("ai"===t.addOnFeature){const t=(0,d.Y2)({environment:e})?(0,_.jsx)(r.FormattedMessage,{id:"upsellActions.noIAPForAIWithExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Visit on desktop to purchase Notion AI and go unlimited."}):(0,_.jsx)(r.FormattedMessage,{id:"upsellActions.noIAPForAIWithoutExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Unfortunately, additional AI responses cannot be purchased on this platform."});return void n.showErrorMessage(t)}if(!y)return}const C=l.default.state.currentSpaceStore;if(!C)return;if(!C.canAdmin())return;await v.bi(e);const b=f.subscriptionDataStoreInstance.state;if(!b)return;if("unsubscribed_admin"!==b.type&&"subscribed_admin"!==b.type)return void(t.dontOpenPlansOnCancel||c.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0}));if(m.ri(b))return void n.showErrorMessage(a.default.formatMessage(u.k.paymentMethodUnverified));if(m.Q6(b)){const e=(0,_.jsx)(r.FormattedMessage,{id:"upsellActions.referToSalesRep",defaultMessage:"This workspace is part of a managed account. Please contact your account representative to discuss any changes to your subscription."});return void n.showErrorMessage(e)}if(y)return void(e.mobileNative&&C.id&&e.mobileNative.openUpgradeModal(C.id));if("revenueCat"===(null===(s=b.customerData)||void 0===s?void 0:s.activeSubscriptionPlatform)){const e=(0,_.jsx)(r.FormattedMessage,{id:"upsellActions.switchPlanFromInAppPurchase",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To switch plans, cancel your subscription with Apple first."});return void n.showErrorMessage(e)}const M=m.XX(b);if(t.addOnFeature&&(0,p.Fk)(M)){const e=(0,_.jsx)(r.FormattedMessage,{id:"upsellActions.noAddOnPurchaseDuringFreeTrial",defaultMessage:"Unfortunately, additional {addOn, select, ai {AI responses} other {features}} cannot be purchased while a workspace is on a free trial.",values:{addOn:t.addOnFeature}});n.showErrorMessage(e)}else{if(M&&m.MM(b))return t.addOnFeature?void x.af({environment:e,from:t.from,view:"add_ons",addOnFeature:t.addOnFeature,billingInterval:M.interval,pageSection:t.pageSection}):void x.af({environment:e,from:t.from,view:"plans",temporarySubscriptionTier:t.for,billingInterval:M.interval,pageSection:t.pageSection});{const s=(0,h.px)(e,t.for)?"ai_fifty_percent":void 0;v.I0(e,{subscriptionTier:t.for,from:t.from,addOnFeature:t.addOnFeature,coupon:s,isTrial:t.isTrial})}}}},39343:(e,t,s)=>{s.d(t,{Fk:()=>a,U6:()=>l,nx:()=>d});var i=s(30120),r=s(13991),o=s(7057),n=s(95477);function a(e){return!(null==e||!e.trialEnd)&&e.trialEnd>=i.ou.now().toSeconds()}function d(e){const t=function(e){if(!a(e))return;const t=1e3*(null==e?void 0:e.trialEnd);return null!=e&&e.periodEnd&&e.periodEnd>=i.ou.now().toSeconds()&&e.periodEnd<t?e.periodEnd:t}(e);return t?(0,o.Yx)(t,"long",r.SP):void 0}function l(e){return e?n.default.trials[e.id].duration:n.default.trials.default.duration}},91315:(e,t,s)=>{s.d(t,{r:()=>o});s(67294);var i=s(45238),r=s(85893);const o=(0,i.I)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})},40462:(e,t,s)=>{s.d(t,{o:()=>o});s(67294);var i=s(45238),r=s(85893);const o=(0,i.I)("globe2",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM3.88477 3.76465C4.56836 3.11523 5.39551 2.61621 6.31836 2.34277C5.83301 2.82812 5.42285 3.51172 5.11523 4.3457C4.63672 4.19531 4.22656 3.99707 3.88477 3.76465ZM9.68848 2.34961C10.6045 2.62305 11.4316 3.11523 12.1084 3.76465C11.7734 4.00391 11.3633 4.19531 10.8848 4.35254C10.5771 3.51172 10.167 2.82812 9.68848 2.34961ZM8.47852 2.56836C9.0459 2.8418 9.56543 3.58008 9.93457 4.58496C9.4834 4.66699 8.99805 4.71484 8.47852 4.73535V2.56836ZM6.06543 4.58496C6.44141 3.58008 6.9541 2.8418 7.52148 2.56836V4.73535C7.00195 4.71484 6.5166 4.66699 6.06543 4.58496ZM2.05273 7.58594C2.14844 6.42383 2.58594 5.35059 3.25586 4.46875C3.67285 4.77637 4.21289 5.04297 4.8418 5.24121C4.66406 5.95215 4.54785 6.74512 4.51367 7.58594H2.05273ZM11.4863 7.58594C11.4521 6.74512 11.3359 5.95215 11.1582 5.24121C11.7871 5.04297 12.3271 4.7832 12.7373 4.46875C13.4141 5.35059 13.8516 6.42383 13.9473 7.58594H11.4863ZM5.49121 7.58594C5.52539 6.84082 5.62793 6.12988 5.78516 5.4873C6.33203 5.59668 6.91309 5.66504 7.52148 5.69238V7.58594H5.49121ZM8.47852 7.58594V5.69238C9.08691 5.66504 9.66797 5.59668 10.2148 5.4873C10.3721 6.12988 10.4746 6.84082 10.5088 7.58594H8.47852ZM2.05273 8.54297H4.51367C4.54785 9.39746 4.66406 10.1973 4.8418 10.915C4.21973 11.1133 3.68652 11.373 3.27637 11.6807C2.59277 10.792 2.14844 9.71191 2.05273 8.54297ZM5.49121 8.54297H7.52148V10.4707C6.91992 10.498 6.33203 10.5664 5.79199 10.6689C5.62793 10.0195 5.51855 9.29492 5.49121 8.54297ZM8.47852 10.4707V8.54297H10.5088C10.4814 9.29492 10.3721 10.0195 10.208 10.6689C9.66797 10.5664 9.08691 10.498 8.47852 10.4707ZM11.1582 10.915C11.3428 10.1973 11.4521 9.39746 11.4863 8.54297H13.9473C13.8516 9.71191 13.4072 10.792 12.7236 11.6807C12.3135 11.373 11.7803 11.1133 11.1582 10.915ZM8.47852 11.4277C8.99121 11.4482 9.47656 11.4961 9.9209 11.5781C9.55176 12.5625 9.03906 13.2939 8.47852 13.5605V11.4277ZM6.0791 11.5781C6.52344 11.4961 7.00879 11.4482 7.52148 11.4277V13.5605C6.96094 13.2939 6.44824 12.5625 6.0791 11.5781ZM3.90527 12.3848C4.24023 12.1523 4.65039 11.9609 5.12207 11.8105C5.42969 12.6309 5.83301 13.3008 6.30469 13.7793C5.40234 13.5059 4.58203 13.0205 3.90527 12.3848ZM10.8779 11.8105C11.3496 11.9609 11.7598 12.1523 12.0947 12.3848C11.418 13.0205 10.5977 13.5059 9.69531 13.7793C10.167 13.3008 10.5703 12.6309 10.8779 11.8105Z"})})},49364:(e,t,s)=>{s.d(t,{R:()=>o});s(67294);var i=s(45238),r=s(85893);const o=(0,i.I)("openTeam",{viewBox:"0 0 28 28",svg:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("path",{d:"M3.24121 21.4326C3.24121 22.4082 3.80371 23.0322 4.7002 23.0322H22.4629C23.3506 23.0322 23.9131 22.4082 23.9131 21.4326V10.2178C23.9131 9.24219 23.3506 8.61816 22.4629 8.61816H17.2334V5.89355C17.2334 4.91797 16.6709 4.29395 15.7832 4.29395H4.7002C3.80371 4.29395 3.24121 4.91797 3.24121 5.89355V21.4326ZM4.65625 21.1074V6.21875C4.65625 5.86719 4.81445 5.70898 5.16602 5.70898H15.3174C15.6602 5.70898 15.8184 5.86719 15.8184 6.21875V21.1074C15.8184 21.4502 15.6602 21.6172 15.3174 21.6172H13.2959V19.0244C13.2959 18.2686 12.9619 17.917 12.2412 17.917H8.2334C7.5127 17.917 7.17871 18.2686 7.17871 19.0244V21.6172H5.16602C4.81445 21.6172 4.65625 21.4502 4.65625 21.1074ZM7.31934 9.5498H9.0332C9.24414 9.5498 9.39355 9.40918 9.39355 9.18945V7.52832C9.39355 7.31738 9.24414 7.16797 9.0332 7.16797H7.31934C7.1084 7.16797 6.97656 7.31738 6.97656 7.52832V9.18945C6.97656 9.40918 7.1084 9.5498 7.31934 9.5498ZM11.4414 9.5498H13.1465C13.3574 9.5498 13.5068 9.40918 13.5068 9.18945V7.52832C13.5068 7.31738 13.3574 7.16797 13.1465 7.16797H11.4414C11.2217 7.16797 11.0898 7.31738 11.0898 7.52832V9.18945C11.0898 9.40918 11.2217 9.5498 11.4414 9.5498ZM17.2334 21.4326V10.0332H21.9971C22.3398 10.0332 22.498 10.2002 22.498 10.543V21.1074C22.498 21.4502 22.3398 21.6172 21.9971 21.6172H17.2246C17.2334 21.5557 17.2334 21.4941 17.2334 21.4326ZM7.31934 13.0303H9.0332C9.24414 13.0303 9.39355 12.8896 9.39355 12.6699V11.0088C9.39355 10.7979 9.24414 10.6484 9.0332 10.6484H7.31934C7.1084 10.6484 6.97656 10.7979 6.97656 11.0088V12.6699C6.97656 12.8896 7.1084 13.0303 7.31934 13.0303ZM11.4414 13.0303H13.1465C13.3574 13.0303 13.5068 12.8896 13.5068 12.6699V11.0088C13.5068 10.7979 13.3574 10.6484 13.1465 10.6484H11.4414C11.2217 10.6484 11.0898 10.7979 11.0898 11.0088V12.6699C11.0898 12.8896 11.2217 13.0303 11.4414 13.0303ZM19.1582 13.4521H20.5732C20.749 13.4521 20.8721 13.3291 20.8721 13.1533V11.7822C20.8721 11.6064 20.749 11.4834 20.5732 11.4834H19.1582C18.9736 11.4834 18.8682 11.6064 18.8682 11.7822V13.1533C18.8682 13.3291 18.9736 13.4521 19.1582 13.4521ZM7.31934 16.5107H9.0332C9.24414 16.5107 9.39355 16.3613 9.39355 16.1504V14.4893C9.39355 14.2695 9.24414 14.1289 9.0332 14.1289H7.31934C7.1084 14.1289 6.97656 14.2695 6.97656 14.4893V16.1504C6.97656 16.3613 7.1084 16.5107 7.31934 16.5107ZM11.4414 16.5107H13.1465C13.3574 16.5107 13.5068 16.3613 13.5068 16.1504V14.4893C13.5068 14.2695 13.3574 14.1289 13.1465 14.1289H11.4414C11.2217 14.1289 11.0898 14.2695 11.0898 14.4893V16.1504C11.0898 16.3613 11.2217 16.5107 11.4414 16.5107ZM19.1582 16.8096H20.5732C20.749 16.8096 20.8721 16.6865 20.8721 16.5107V15.1396C20.8721 14.9639 20.749 14.8408 20.5732 14.8408H19.1582C18.9736 14.8408 18.8682 14.9639 18.8682 15.1396V16.5107C18.8682 16.6865 18.9736 16.8096 19.1582 16.8096ZM19.1582 20.167H20.5732C20.749 20.167 20.8721 20.0439 20.8721 19.8682V18.4971C20.8721 18.3213 20.749 18.1982 20.5732 18.1982H19.1582C18.9736 18.1982 18.8682 18.3213 18.8682 18.4971V19.8682C18.8682 20.0439 18.9736 20.167 19.1582 20.167ZM8.33008 19.3496C8.33008 19.165 8.42676 19.0684 8.61133 19.0684H11.8633C12.0566 19.0684 12.1445 19.165 12.1445 19.3496V21.6172H8.33008V19.3496Z"})})})},22686:(e,t,s)=>{s.d(t,{f:()=>o});s(67294);var i=s(45238),r=s(85893);const o=(0,i.I)("person",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M7.7832 8.00195C9.27344 8.00195 10.5381 6.67578 10.5381 4.95996C10.5381 3.28516 9.2666 2 7.7832 2C6.29297 2 5.01465 3.30566 5.02148 4.97363C5.02148 6.67578 6.28613 8.00195 7.7832 8.00195ZM3.51758 14.3594H12.0352C13.1631 14.3594 13.5527 14.0176 13.5527 13.3887C13.5527 11.6318 11.3242 9.21191 7.77637 9.21191C4.23535 9.21191 2 11.6318 2 13.3887C2 14.0176 2.38965 14.3594 3.51758 14.3594Z"})})},14734:(e,t,s)=>{s.d(t,{X:()=>o});s(67294);var i=s(45238),r=s(85893);const o=(0,i.I)("personCrossedOut",{viewBox:"0 0 44 44",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M5.4857 44H0L44 8.56549V13.0061L5.4857 44Z"}),(0,r.jsx)("path",{d:"M39.8048 44H8.66491L25.6448 30.4378C26.9394 30.6489 28.1581 30.9719 29.3009 31.4067C31.5362 32.2374 33.4346 33.326 34.9964 34.6723C36.5725 36.0044 37.7761 37.4367 38.6071 38.9692C39.4525 40.5018 39.8752 41.9555 39.8752 43.3305C39.8752 43.5675 39.8517 43.7906 39.8048 44Z"}),(0,r.jsx)("path",{d:"M30.3971 16.7973C30.3971 16.8668 30.3965 16.9359 30.3952 17.0048L19.3828 25.9192C18.7467 25.7134 18.1339 25.4228 17.5446 25.0473C16.2408 24.2023 15.1876 23.0708 14.3853 21.6528C13.5972 20.2205 13.2032 18.6163 13.2032 16.8403C13.2032 15.0929 13.5972 13.5174 14.3853 12.1137C15.1876 10.7101 16.2408 9.60007 17.5446 8.78366C18.8485 7.96725 20.267 7.55905 21.8001 7.55905C23.3332 7.55905 24.7517 7.96009 26.0556 8.76218C27.3595 9.56426 28.4054 10.6671 29.1935 12.0708C29.9959 13.4601 30.3971 15.0356 30.3971 16.7973Z"})]})})}}]);