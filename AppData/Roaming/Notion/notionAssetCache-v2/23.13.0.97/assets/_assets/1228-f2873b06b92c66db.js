"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[1228],{21797:(e,t,n)=>{n.d(t,{Sw:()=>M,Tr:()=>P,Vm:()=>S,b4:()=>C,rz:()=>N,te:()=>A});n(67294);var o=n(8848),a=n(80988),i=n(72126),s=n(9291),l=n(36610),r=n(96802),c=n(98724),d=n(82530),u=n(41216),m=n(72495),p=n(19037),f=n(80025),v=n(51783),g=n(65598),h=n(52689),y=n(62967),b=n(85893);const k=(0,s.defineMessages)({lastUsedHighlightTitle:{id:"action.lastUsedHighlight.title",defaultMessage:"Last used"},lastUsedHighlightKeywords:{id:"action.lastUsedHighlight.fuzzySearchKeywords",defaultMessage:"Color last used"},highlightName:{id:"action.highlight.name",defaultMessage:"Highlight"}}),N=(0,y.$J)({key:"text color actions",title:y.RE.colorSection,render:e=>(0,b.jsx)(m.Z,{...e}),actions:o.CY.map((e=>T(e)))}),S=(0,y.$J)({key:"background color actions",title:y.RE.backgroundSection,overrideSearchTitle:y.RE.backgroundSectionKeywords,render:e=>(0,b.jsx)(m.Z,{...e}),actions:[T("default","default background",f.mF.backgroundColorDefault),...o._K.map((e=>T(e)))]}),M=(0,y.$J)({key:"background color selection actions",title:y.RE.backgroundSection,overrideSearchTitle:y.RE.backgroundSectionKeywords,render:e=>(0,b.jsx)(m.Z,{...e}),actions:[T("default","default background",f.mF.backgroundColorDefault),...o._K.map((e=>x(e)))]}),C=(0,y.$J)({key:"text color selection actions",title:y.RE.colorSection,render:e=>(0,b.jsx)(m.Z,{...e}),actions:o.CY.map((e=>x(e)))});function w(){return[p.J5,p.ff(p.fI),p.XQ,p.YB,p.ff(p.O4),p.IZ]}function T(e,t,n){const a=n||(0,f.qf)(e),s=(0,y.cN)({key:`color ${t||e}`,displayName:a,analyticsName:a.defaultMessage,analyticsActionType:"change_block_color",fuzzySearchKeywords:(0,y.CJ)(e),validators:w(),action:t=>{let{blocks:n,environment:a}=t;h.Z.setHighlightColor(e),d.createAndCommit({userAction:"actionRegistry.createBlockColorAction",environment:a,perform:t=>{(0,o.jS)(e)||(c.QE({environment:a,annotationType:"h",blocks:n,transaction:t}),r.FH({stores:i.VS(n,(e=>(0,g.MI)({blockStore:e,traverseTransclusionReferences:!1}))),update:{block_color:void 0},transaction:t})),r.FH({stores:n,update:{block_color:e},transaction:t})}})},closeParentMenu:!0,render:t=>(0,b.jsx)(u.Z,{...t,color:e,overrideDisplayName:s.displayName}),nativeImageReference:n=>{let{environment:o}=n;return(0,y.q7)(o,e,t)}});return s}function x(e,t,n){const o=n||(0,f.qf)(e),a=(0,y.cN)({key:`color ${t||e}`,displayName:o,analyticsName:o.defaultMessage,fuzzySearchKeywords:(0,y.CJ)(e),validators:w(),action:async t=>{let{blocks:n,environment:o}=t;var a;v.y6(o)&&await(null===(a=o.NativeMobileActionBarStore)||void 0===a?void 0:a.clearNativeActionMenuAndRestoreSelectionIfNecessary());c.mX({environment:o,annotationType:"h"}),"default"!==e&&(h.Z.setHighlightColor(e),c.aS({environment:o,annotation:["h",h.Z.state.color]}),l.mt(o,{action:"h",color:h.Z.state.color}))},closeParentMenu:!0,render:t=>(0,b.jsx)(u.Z,{...t,color:e,overrideDisplayName:a.displayName}),nativeImageReference:n=>{let{environment:o}=n;return(0,y.q7)(o,e,t)}});return a}const A=(0,y.$J)({key:"toggle last highlight",title:k.lastUsedHighlightTitle,overrideSearchTitle:k.lastUsedHighlightKeywords,render:e=>(0,b.jsx)(m.Z,{...e}),actions:[(0,y.cs)({key:"toggle highlight action",displayName:k.highlightName,analyticsName:k.highlightName.defaultMessage,validators:w(),shortcuts:["toggleHighlight"],closeParentMenu:!0,action:e=>{let{environment:t,blocks:n}=e;const o=h.Z.state.color;d.createAndCommit({userAction:"actionRegistry.toggleLastUsedHighlight",environment:t,perform:e=>{const t=i.yW(n.map((e=>{const t=e.getFormat();return t&&t.block_color===o})))?void 0:o;r.FH({stores:n,update:{block_color:t},transaction:e})}})},render:e=>{const t=h.Z.state.color;return(0,b.jsx)(u.Z,{...e,color:t,shortcuts:["toggleHighlight"]})}})]}),P=(0,y.MV)({key:"color section",displayName:y.RE.colorName,analyticsName:y.RE.colorName.defaultMessage,svg:a.U,validators:w(),subActions:()=>[A,N,S]})},69815:(e,t,n)=>{n.d(t,{U:()=>g,V:()=>h});var o=n(41432),a=n(49089),i=n(45137),s=n(9291),l=n(42858),r=n(18821),c=n(19037),d=n(68056),u=n(89086),m=n(58202),p=n(24666),f=n(62967);const v=(0,s.defineMessages)({commentName:{id:"action.comment.name",defaultMessage:"Comment"},captionName:{id:"action.caption.name",defaultMessage:"Caption"}}),g=(0,f.cs)({key:"comment",displayName:v.commentName,analyticsName:v.commentName.defaultMessage,svg:i.o,validators:[c.J5,c.ff(c.fI),c.XQ,c.ff(c.DF),c.ff(c.F6),c.ff(c.Rr),c.or([c.U7,c.KL]),c.ff(c.OX)],shortcuts:["comment"],closeParentMenu:!0,action:e=>{let{blocks:t,environment:n}=e;const a=t[0],i=null==a?void 0:a.getModel();if(a){const e="editing"===p.default.state.mode&&p.default.state.multiSelection;if(e&&!(0,d.iG)(e)&&(e.start.store.id===a.id||null!=i&&i.isType("table")&&"properties"===e.start.store.path[0]&&e.start.store.path[1]&&(a.getFormatStore().getKeyStore("table_block_column_order").getValue()??[]).includes(String(e.start.store.path[1]))))r.WD({environment:n,blockStore:a,multiSelection:e});else if(a.isDefined()&&null!=i&&i.isType(o.eh)){const e=a.getTitleStore(),t=e&&(0,u.x0)(e);if(e&&t&&t.endIndex>0){const o={startIndex:0,endIndex:t.endIndex};r.WD({environment:n,blockStore:a,multiSelection:(0,d.TD)({store:e,selection:o}),rect:m.R.getRect(a)})}}else r.yw({environment:n,blockStore:a})}}}),h=(0,f.cs)({key:"caption",displayName:v.captionName,analyticsName:v.captionName.defaultMessage,svg:a.o,validators:[c.J5,c.ff(c.fI),c.U7,c.W2,c.or([c.l$("source"),c.l$("link"),c.P9("code")])],shortcuts:["caption"],closeParentMenu:!0,action:e=>l.VJ(e)})},89941:(e,t,n)=>{n.d(t,{f:()=>i,v:()=>s});var o=n(19037),a=n(19124);const i=[e=>(0,a.GD)(e.publicEditMode),o.J5],s=[...i,o.ff(o.fI),o.ff(o.OX)]},52922:(e,t,n)=>{n.d(t,{N:()=>u,O:()=>m});var o=n(11751),a=n(9291),i=n(19037),s=n(95083),l=n(89941),r=n(62967);const c=[...l.v,e=>{const{blocks:t}=e;return t.some((e=>{const t=e.getType();return void 0!==t&&s.d[t]}))}],d=(0,a.defineMessages)({blockSelectionCompletionName:{id:"action.blockSelectionCompletionName.name",defaultMessage:"Ask AI"},executeFillAiSectionName:{id:"action.executeAiSection.name",defaultMessage:"Fill with AI"},editAiSectionName:{id:"action.editAiSection.name",defaultMessage:"Edit AI autofill"}}),u=(0,r.cs)({key:"block selection completion",displayName:d.blockSelectionCompletionName,analyticsName:d.blockSelectionCompletionName.defaultMessage,svg:o.t,shortcuts:["commandJ"],validators:c,hideFromSlashActionMenu:!0,closeParentMenu:!0,action:(e,t)=>{const{environment:n,lazyDependencies:{ai:o}}=e;null==o||o.completionInitialPromptActions.toggleInitialPrompt({from:"block_action_menu",environment:n})}}),m=(0,r.cs)({key:"ai prompt menu",analyticsName:"ai_prompt_menu",displayName:void 0,validators:[...l.v,i.FS],shortcuts:["commandJ"],closeParentMenu:!0,action:e=>{let{environment:t,lazyDependencies:{ai:n}}=e;null==n||n.completionInitialPromptActions.toggleInitialPrompt({from:"keyboard_shortcut",environment:t})}})},82763:(e,t,n)=>{n.d(t,{H:()=>r,K:()=>l});var o=n(27714),a=n(893),i=n(19037),s=n(62967);const l=(0,s.cN)({key:"copy link to page",displayName:s.RE.copyLinkNavigableTypeName,analyticsName:s.RE.copyLinkNavigableTypeName.defaultMessage,svg:o.N,validators:[i.jl,i.U7,i.DF,i.ff(i.q4)],closeParentMenu:!0,action:(e,t)=>{a.Hs({...e,event:t})}}),r=(0,s.cs)({key:"copy link to block",displayName:s.RE.copyLinkName,analyticsName:s.RE.copyLinkName.defaultMessage,svg:o.N,shortcuts:["copyLinkToBlock"],validators:[i.jl,i.U7,i.ff(i.DF),i.ff(i.q4)],closeParentMenu:!0,action:(e,t)=>{a.Hs({...e,event:t})}})},35067:(e,t,n)=>{n.d(t,{G:()=>r});var o=n(41432),a=n(37612),i=n(42858),s=n(19037),l=n(62967);const r=(0,l.cs)({key:"delete block",displayName:l.RE.deleteName,analyticsName:l.RE.deleteName.defaultMessage,svg:a.y,validators:[s.or([s.xD([s.lA,s.M]),s.xD([s.eo,s.ff(s.sR)])]),s.ff(s.fI),s.ff(s.Vf),s.ff(s.oY),s.ff(s.P9(o.Ti.externalObjectInstancePage)),s.vd],shortcuts:["delete","backspace"],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:n}=e;await i.Qw({environment:n,blocks:t})}})},29768:(e,t,n)=>{n.d(t,{MI:()=>N,UO:()=>g,fI:()=>k,m7:()=>h,nh:()=>y,o1:()=>f,vh:()=>v});n(67294);var o=n(88437),a=n(3297),i=n(42858),s=n(72495),l=n(27105),r=n(19037),c=n(80444),d=n(77080),u=n(34583),m=n(62967),p=n(85893);const f=(0,m.cs)({key:"duplicate",displayName:m.RE.duplicateName,analyticsName:m.RE.duplicateName.defaultMessage,svg:o.a,validators:[r.M,r.ff(r.sR),r.ff(r.cW),r.or([r.O4,r.ff(r.fI)]),r.or([r.ff(r.pl),r.f7]),...m.kv],shortcuts:["duplicate"],closeParentMenu:!0,action:async(e,t)=>{let{blocks:n,environment:o}=e;await i.nG({environment:o,blocks:n,event:t})}}),v=(0,m.MV)({key:"duplicateCollection",displayName:m.RE.duplicateName,analyticsName:m.RE.duplicateName.defaultMessage,svg:o.a,width:275,validators:[r.M,r.ff(r.sR),r.ff(r.cW),r.or([r.O4,r.ff(r.fI)]),r.xD([r.pl,r.ff(r.f7)]),...m.kv],subActions:()=>[{key:"collection duplication options",render:e=>(0,p.jsx)(s.Z,{...e}),actions:g.actions}]}),g=(0,m.$J)({key:"duplicate collection actions",title:m.RE.duplicateName,render:e=>(0,p.jsx)(s.Z,{...e}),actions:[(0,m.cs)({key:"duplicate with data",displayName:m.RE.duplicateCollectionWithDataName,analyticsName:"",validators:[],shortcuts:["duplicate"],closeParentMenu:!0,action:async(e,t)=>{let{blocks:n,environment:o}=e;await i.nG({environment:o,blocks:n,duplicateOnlyCollectionSchema:!1,event:t}),d.default.logEvent("duplicate_collection","true")}}),(0,m.cs)({key:"duplicate schema only",displayName:m.RE.duplicateCollectionSchemaOnlyName,analyticsName:"",validators:[],shortcuts:["duplicateSchema"],closeParentMenu:!0,action:async(e,t)=>{let{blocks:n,environment:o}=e;await i.nG({environment:o,blocks:n,duplicateOnlyCollectionSchema:!0,event:t}),d.default.logEvent("duplicate_collection_schema","true")}})]}),h=(0,m.cs)({key:"duplicate",displayName:m.RE.duplicateName,analyticsName:m.RE.duplicateName.defaultMessage,svg:o.a,validators:[r.U7,r.KE,r.ff(r.xk),r.or([r.ff(r.pl),r.f7]),...m.kv],shortcuts:["duplicate"],closeParentMenu:!0,action:(e,t)=>{let{blocks:n,environment:o}=e;M(n,o,{event:t})}}),y=(0,m.MV)({key:"duplicateCollection",displayName:m.RE.duplicateName,analyticsName:m.RE.duplicateName.defaultMessage,svg:o.a,width:275,validators:[r.U7,r.KE,r.ff(r.xk),r.xD([r.pl,r.ff(r.f7)]),...m.kv],subActions:()=>[{key:"collection duplication options",render:e=>(0,p.jsx)(s.Z,{...e}),actions:b.actions}]}),b=(0,m.$J)({key:"duplicate collection actions",title:m.RE.duplicateName,render:e=>(0,p.jsx)(s.Z,{...e}),actions:[(0,m.cs)({key:"duplicate with data",displayName:m.RE.duplicateCollectionWithDataName,analyticsName:"",validators:[],shortcuts:["duplicate"],closeParentMenu:!0,action:e=>{let{blocks:t,environment:n}=e;M(t,n,{duplicateOnlyCollectionSchema:!1}),d.default.logEvent("duplicate_collection","true")}}),(0,m.cs)({key:"duplicate schema only",displayName:m.RE.duplicateCollectionSchemaOnlyName,analyticsName:"",validators:[],shortcuts:["duplicateSchema"],closeParentMenu:!0,action:e=>{let{blocks:t,environment:n}=e;M(t,n,{duplicateOnlyCollectionSchema:!0}),d.default.logEvent("duplicate_collection_schema","true")}})]}),k=(0,m.cN)({key:"duplicate into private",displayName:m.RE.duplicateToPrivateName,analyticsName:m.RE.duplicateToPrivateName.defaultMessage,svg:o.a,validators:[r.ff(r.sR),r.DF,r.J5,r.ff(r.nJ),r.or([r.cW,r.ff(r.KE),r.b1]),r.or([r.ff(r.pl),r.f7])],closeParentMenu:!0,action:async(e,t)=>{let{blocks:n,environment:o}=e;await C(n,o,void 0,t)}}),N=(0,m.MV)({key:"duplicate collection to private",displayName:m.RE.duplicateToPrivateName,analyticsName:m.RE.duplicateToPrivateName.defaultMessage,svg:o.a,width:275,validators:[r.ff(r.sR),r.DF,r.J5,r.ff(r.nJ),r.or([r.cW,r.ff(r.KE),r.b1]),r.xD([r.pl,r.ff(r.f7)])],subActions:()=>[{key:"collection duplication options",render:e=>(0,p.jsx)(s.Z,{...e}),actions:S.actions}]}),S=(0,m.$J)({key:"duplicate collection to private actions",title:m.RE.duplicateName,render:e=>(0,p.jsx)(s.Z,{...e}),actions:[(0,m.cN)({key:"duplicate with data",displayName:m.RE.duplicateCollectionWithDataName,analyticsName:"",validators:[],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:n}=e;await C(t,n,!1),d.default.logEvent("duplicate_collection","true")}}),(0,m.cN)({key:"duplicate schema only",displayName:m.RE.duplicateCollectionSchemaOnlyName,analyticsName:"",validators:[],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:n}=e;await C(t,n,!0),d.default.logEvent("duplicate_collection_schema","true")}})]}),M=(e,t,n)=>{const{duplicateOnlyCollectionSchema:o,event:i}=n??{};if(!u.M_(t))return;const s=e[0].getParentStore();"block"!==(null==s?void 0:s.table)&&"team"!==(null==s?void 0:s.table)&&"space"!==(null==s?void 0:s.table)||a.VE({environment:t,store:e[0],newParent:s,duplicateOnlyCollectionSchema:o,event:i})},C=async(e,t,n,o)=>{if(!u.M_(t))return;const i=e[0],s=c.default.state.currentSpaceStore,r=c.default.state.currentSpaceViewStore;s&&r&&await a.DK({environment:t,store:i,spaceStore:s,spaceViewStore:r,isPrivate:!0,context:"duplicate_to_private_space",duplicateOnlyCollectionSchema:n,useCrdt:(0,l.Sy)({event:o,source:"private",contextualDefault:i.useCrdt()})})}},20422:(e,t,n)=>{n.d(t,{d:()=>u});n(67294);var o=n(45238),a=n(85893);const i=(0,o.I)("fullscreen",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M1.25293 6.82031C1.25293 9.88965 3.74805 12.3848 6.81738 12.3848C7.95898 12.3848 9.00488 12.0361 9.87988 11.4414L13.0244 14.5859C13.2158 14.7842 13.4824 14.873 13.749 14.873C14.3301 14.873 14.7471 14.4355 14.7471 13.8682C14.7471 13.5947 14.6514 13.3418 14.4668 13.1504L11.3428 10.0195C11.9922 9.12402 12.3818 8.0166 12.3818 6.82031C12.3818 3.75098 9.88672 1.25586 6.81738 1.25586C3.74805 1.25586 1.25293 3.75098 1.25293 6.82031ZM2.70215 6.82031C2.70215 4.55078 4.54102 2.70508 6.81738 2.70508C9.08691 2.70508 10.9326 4.55078 10.9326 6.82031C10.9326 9.08984 9.08691 10.9355 6.81738 10.9355C4.54102 10.9355 2.70215 9.08984 2.70215 6.82031ZM4.52051 6.82031C4.52051 7.12109 4.75293 7.35352 5.05371 7.35352H6.27734V8.58398C6.27734 8.88477 6.5166 9.11719 6.81738 9.11719C7.11816 9.11719 7.35059 8.87793 7.35059 8.58398V7.35352H8.58105C8.875 7.35352 9.11426 7.12109 9.11426 6.82031C9.11426 6.51953 8.875 6.28711 8.58105 6.28711H7.35059V5.05664C7.35059 4.7627 7.11133 4.52344 6.81738 4.52344C6.5166 4.52344 6.27734 4.7627 6.27734 5.05664V6.28711H5.05371C4.75293 6.28711 4.52051 6.51953 4.52051 6.82031Z"})});var s=n(9291),l=n(42858),r=n(19037),c=n(62967);const d=(0,s.defineMessages)({fullScreenName:{id:"action.fullScreen.name",defaultMessage:"Full screen"}}),u=(0,c.cs)({key:"full screen",displayName:d.fullScreenName,analyticsName:d.fullScreenName.defaultMessage,svg:i,validators:[r.U7,r.Cj,r.IT,r.ff(r.D)],shortcuts:["space"],closeParentMenu:!0,action:e=>l.dK(e)})},2295:(e,t,n)=>{n.d(t,{Q:()=>S,A:()=>M});n(67294);var o=n(45238),a=n(85893);const i=(0,o.I)("moveTo",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M2.34668 13.5469C2.78418 13.5469 3.07812 13.2393 3.07812 12.8018C3.07812 12.542 3.05762 12.2754 3.05762 11.8994C3.05762 9.60254 3.86426 8.67285 6.14062 8.67285H10.5771L12.2109 8.57031L10.1738 10.4297L8.64941 11.9678C8.5127 12.1045 8.43066 12.2891 8.43066 12.501C8.43066 12.9111 8.73828 13.2188 9.16895 13.2188C9.35352 13.2188 9.53809 13.1436 9.70215 12.9863L14.207 8.48145C14.3711 8.33105 14.4531 8.12598 14.4531 7.9209C14.4531 7.71582 14.3711 7.51758 14.207 7.36035L9.71582 2.86914C9.53809 2.70508 9.35352 2.62305 9.16895 2.62305C8.73828 2.62305 8.43066 2.93066 8.43066 3.34082C8.43066 3.55273 8.5127 3.7373 8.64941 3.87402L10.1738 5.41895L12.2041 7.27148L10.5771 7.17578H6.04492C2.87988 7.17578 1.54688 8.63184 1.54688 11.8516C1.54688 12.2549 1.56055 12.6035 1.61523 12.877C1.67676 13.2051 1.88184 13.5469 2.34668 13.5469Z"})});var s=n(97880),l=n(9291),r=n(73990),c=n(11302),d=n(64964),u=n(93405),m=n(1951),p=n(26388),f=n(19037),v=n(28020),g=n(43250),h=n(98742),y=n(75770),b=n(80444),k=n(62967);const N=(0,l.defineMessages)({moveToName:{id:"action.moveTo.name",defaultMessage:"Move to"}}),S=(0,k.cs)({key:"move page to",displayName:N.moveToName,analyticsName:N.moveToName.defaultMessage,shortcuts:["moveTo"],validators:[f.ff(f.q4)],closeParentMenu:!0,action:e=>{let{environment:t,publicEditMode:n,lazyDependencies:o}=e;const{mainEditorCurrentBlockStore:a}=b.default.state;if(!a)return;const i=M.validators||[],s=document.querySelector(`.${g.mSZ}`);if(!s)return;const l={environment:t,blocks:[a],originRect:s.getBoundingClientRect(),publicEditMode:n,lazyDependencies:o};i.every((e=>e(l)))&&M.action(l)}}),M=(0,k.cs)({key:"move to",displayName:N.moveToName,analyticsName:N.moveToName.defaultMessage,svg:i,shortcuts:["moveTo"],validators:[...c.z1()],closeParentMenu:!0,render:(e,t)=>{const{environment:n,blocks:o}=t,s=y.hD({environment:n,blocks:o}),r=s.canMoveBlocks?void 0:C(s.reason),c=Boolean(r);return(0,a.jsx)(p.ZP,{placement:p.ug.Right,textWrap:!0,style:{maxWidth:240},disableTooltip:!c,renderTooltip:()=>r,render:t=>(0,a.jsx)(u.Z,{...(0,h.Z)(e,t),svg:i,title:(0,a.jsx)(l.FormattedMessage,{...N.moveToName}),disabled:c,disabledFeedback:c,shortcut:"moveTo"})})},action:async e=>{const{environment:t}=e,n=y.hD({environment:t,blocks:e.blocks});if(!n.canMoveBlocks){const{reason:t}=n;return void function(e){let{environment:t,reason:n}=e;switch(d.oV({label:C(n)}),n.key){case"lockedTopLevelTeamPage":r.fW(t,{type:"locked_top_level_team"});break;case"needsFullAccess":case"needsEditAccessOnParent":case"unknown":r.fW(t,{type:"no_permission"});break;default:(0,s.t1)(n)}}({environment:e.environment,reason:t})}let o=[];const a=b.default.state.mainEditorCurrentBlockStore,i=v.np();e.blocks.length>0&&e.blocks[0]!==a?o=e.blocks:i&&(o=[i]),e.environment.device.isMobileNative?await c.$X({environment:e.environment,blocks:o,originRect:e.originRect,moveToContext:"action_menu"}):c.bA({environment:e.environment,blocks:o,originRect:e.originRect,moveToContext:"action_menu"})}});function C(e){var t;switch(e.key){case"needsFullAccess":return(0,a.jsx)(l.FormattedMessage,{id:"blockMenu.moveTo.disabled.fullAccess.reason",defaultMessage:'You need "Full access" to this page to move it.'});case"needsEditAccessOnParent":return null!==(t=e.parentStore)&&void 0!==t&&t.canRead()?(0,a.jsx)(l.FormattedMessage,{id:"blockMenu.moveTo.disabled.editAccessOnParent.reasonWithParentName",defaultMessage:"You need edit access to {parentPageName} to move this page.",values:{parentPageName:(0,a.jsx)(m.Z,{store:e.parentStore,useInvertedColors:!0})}}):(0,a.jsx)(l.FormattedMessage,{id:"blockMenu.moveTo.disabled.editAccessOnParent.reason",defaultMessage:"You need edit access to the parent page to move this page."});case"unknown":return(0,a.jsx)(l.FormattedMessage,{id:"action.doNotHavePermissionToMoveBlock",defaultMessage:"You do not have permission to move this page."});case"lockedTopLevelTeamPage":return(0,a.jsx)(l.FormattedMessage,{id:"action.isLockedTopLevelTeamPage",defaultMessage:"This teamspace has its sidebar locked. You must be a teamspace owner to move this page."});default:(0,s.t1)(e)}}},34658:(e,t,n)=>{n.d(t,{Jw:()=>N,KB:()=>S,OW:()=>w,Qk:()=>C,oL:()=>M,sN:()=>k});var o=n(15145),a=n(9999),i=n(31490),s=n(32240),l=n(21202),r=n(70279),c=n(9291),d=n(72711),u=n(26999),m=n(8055),p=n(19037),f=n(84210),v=n(80444),g=n(88923),h=n(62967);const y=(0,c.defineMessages)({openInFullPage:{id:"action.navigation.openInFullPage",defaultMessage:"Open in full page"},openInSidePeek:{id:"action.navigation.openInSidePeek",defaultMessage:"Open in side peek"},openInNewTab:{id:"action.openInNewTab.name",defaultMessage:"Open in new tab"},openInNewWindow:{id:"action.openInNewWindow.name",defaultMessage:"Open in new window"}}),b=e=>{var t;const n=e.blocks[0];if(!n)return!1;if(null!==(t=n.getModel())&&void 0!==t&&t.isNavigableBlock())return!0;if(n.isType("alias")){var o;const e=null===(o=n.getAliasTargetStore())||void 0===o?void 0:o.getModel();if((null==e?void 0:e.table)===l.iU&&null!=e&&e.isNavigableBlock())return!0}return!1},k=(0,h.cN)({key:"open in full page",displayName:y.openInFullPage,analyticsName:y.openInFullPage.defaultMessage,svg:i.M,validators:[p.U7,b,e=>g.default.isSidePeekOpen()],closeParentMenu:!0,action:e=>{const t=e.blocks[0],n=t.getAliasTargetStore()??t;if(n.table===r.x_)return;const a=(0,f.ZP)({store:n,pageVisitSource:o.tY.LinkInPage});m.c4({environment:e.environment,url:a})}}),N=(0,h.cs)({key:"open side peek",displayName:y.openInSidePeek,analyticsName:y.openInSidePeek.defaultMessage,svg:s.y,shortcuts:["openInSidePeek"],validators:[p.U7,b,p.ff(p.tq),p.WC,p.ff(p.mq)],closeParentMenu:!0,action:e=>{var t;const n=e.blocks[0];if(!(null===(t=v.default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.id))return;const a=n.getAliasTargetStore()??n;if(a.table===r.x_)return;const i=(0,f.ZP)({store:a,openInSidePeek:!0,peekViewBlockId:a.id,peekMode:"s",pageVisitSource:o.tY.PeekOpen});m.c4({environment:e.environment,url:i})}}),S=(0,h.cs)({key:"navigate to page in new tab",analyticsName:"Navigate to page in new tab",displayName:y.openInNewTab,svg:a.J,validators:[p.U7,p.DF,p.ff(p.tq),p.ff(p.K5)],shortcuts:["commandShiftEnter"],closeParentMenu:!0,action:e=>{let{blocks:t,environment:n}=e;d.ru({environment:n,blocks:t,openInNew:"tab",pageVisitSource:o.tY.LinkInPage})}}),M=(0,h.cN)({key:"navigate to page in new window",analyticsName:"Navigate to page in new window",displayName:y.openInNewWindow,svg:a.J,validators:[p.U7,p.DF,p.tY,p.ff(p.vj),p.ff(p.tq),p.ff(p.K5)],closeParentMenu:!0,action:e=>{let{blocks:t,environment:n}=e;d.ru({environment:n,blocks:t,openInNew:"window",pageVisitSource:o.tY.LinkInPage})}}),C=(0,h.cs)({key:"go up one page",analyticsName:"Go up one page",displayName:void 0,validators:[p.Tx],shortcuts:["peekUp"],closeParentMenu:!0,action:()=>u.Qk()}),w=(0,h.cs)({key:"go down one page",analyticsName:"Go down one page",displayName:void 0,validators:[p.Tx],shortcuts:["peekDown"],closeParentMenu:!0,action:()=>u.OW()})},6471:(e,t,n)=>{n.d(t,{$:()=>u,g:()=>m});var o=n(41432),a=n(53470),i=n(9291),s=n(43008),l=n(52771),r=n(19037),c=n(62967);const d=(0,i.defineMessages)({renameName:{id:"action.rename.name",defaultMessage:"Rename"}}),u=(0,c.cs)({key:"rename page",displayName:d.renameName,analyticsName:d.renameName.defaultMessage,svg:a.H,validators:[r.YZ,r.k5,r.U7,r.DF,r.ff(r.Nn),r.ff(r.p1),r.ff(r.Vw),r.ff(r.P9(o.Ti.externalObjectInstancePage)),r.ff(r.K5),r.ff(r.q4)],shortcuts:["rename"],closeParentMenu:!0,action:e=>{const{blocks:t,originRect:n}=e;if(t.length>0)return l.$({blockStore:t[0],originRect:n})}}),m=(0,c.cs)({key:"rename file",displayName:d.renameName,analyticsName:d.renameName.defaultMessage,svg:a.H,validators:[r.J5,r.U7,r.$H,r.ff(r.j2("table"))],shortcuts:["rename"],closeParentMenu:!0,action:e=>{const{blocks:t,originRect:n}=e;if(t.length>0)return s.g({blockStore:t[0],originRect:n})}})},41670:(e,t,n)=>{n.d(t,{L9:()=>M,B:()=>S});var o=n(41432),a=n(69619),i=n(9291),s=(n(57658),n(72126)),l=n(23867),r=n(25157),c=n(95477),d=n(65598),u=n(58202),m=n(54642),p=n(54532),f=n(94419),v=n(42858),g=n(24677),h=n(82530);function y(e){return u.R.find((t=>t instanceof r.Z&&t.props.store===e))}var b=n(19037),k=n(62967);const N=(0,i.defineMessages)({unsyncTransclusionReferenceName:{id:"action.unsyncTransclusionReference.name",defaultMessage:"Unsync"},unsyncTransclusionReferenceFuzzySearch:{id:"action.unsyncTransclusionReference.fuzzySearchKeywords",defaultMessage:"Unsync ungroup"},unsyncTransclusionContainerName:{id:"action.unsyncTransclusionContainerName.name",defaultMessage:"Unsync all"},unsyncTransclusionContainerFuzzySearch:{id:"action.unsyncTransclusionContainer.fuzzySearchKeywords",defaultMessage:"Unsync all ungroup"}}),S=(0,k.cs)({key:"unsyncTransclusionReference",displayName:N.unsyncTransclusionReferenceName,analyticsName:N.unsyncTransclusionReferenceName.defaultMessage,fuzzySearchKeywords:N.unsyncTransclusionReferenceFuzzySearch,svg:a.T,validators:[b.J5,b.FY,b.U7],shortcuts:["ungroup"],closeParentMenu:!0,action:e=>{!async function(e){const{environment:t,store:n}=e,o=n.getRecordStoreUIParent(),a=n.getTransclusionReferenceTargetStore();if(!o||!(0,d.dz)(o)||!a)return;const i=y(a);i&&await i.confirmUnsyncTransclusionReference()&&h.createAndCommit({userAction:"transclusionActions.unsyncTransclusionReference",environment:t,perform:e=>{const i=a.getContentStores().map((n=>{const[a,i]=p.Qi({environment:t,stores:[n],addCopyName:!1,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!1,targetSpaceId:(0,l.C)(n.pointer.spaceId),baseUrl:c.default.domainBaseUrl,publicDomainName:c.default.publicDomainName,preferDuplicateLocation:"local",useCrdt:o.getRecordStoreAtRootPath().useCrdt()});return a[0]})),r=s.d9(i).reverse().map((t=>{const{child:a}=f.BE({parent:o,insert:t,after:n,transaction:e});return a}));v.Od({store:n,transaction:e}),g.Z5({environment:t,stores:r})}})}({environment:e.environment,store:e.blocks[0]})}}),M=(0,k.cs)({key:"unsyncTransclusionContainer",displayName:N.unsyncTransclusionContainerName,analyticsName:N.unsyncTransclusionContainerName.defaultMessage,fuzzySearchKeywords:N.unsyncTransclusionContainerFuzzySearch,svg:a.T,validators:[b.J5,b.P9(o.Ti.transclusionContainer),b.U7],shortcuts:["ungroup"],closeParentMenu:!0,action:e=>{!async function(e){const{environment:t,store:n}=e,o=y(n),a=n.getRecordStoreUIParent();if(!a||!(0,d.dz)(a)||!o)return;if(!(await o.confirmUnsyncTransclusionContainer()))return;const i=n.getContentStores();h.createAndCommit({userAction:"transclusionActions.unsyncTransclusionContainer",environment:t,canUndo:!1,perform:e=>{const o=i.map((n=>{const[o,i]=p.Qi({environment:t,stores:[n],addCopyName:!1,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!1,targetSpaceId:(0,l.C)(n.pointer.spaceId),baseUrl:c.default.domainBaseUrl,publicDomainName:c.default.publicDomainName,preferDuplicateLocation:"local",useCrdt:a.getRecordStoreAtRootPath().useCrdt()});return o[0]})),r=s.d9(o).reverse().map((t=>{const{child:o}=f.BE({parent:a,insert:t,after:n,transaction:e});return o}));v.Od({store:n,transaction:e}),g.Z5({environment:t,stores:r}),e.postSubmitCallbacks.push((async e=>{e||await m.deleteBlocks(t,{blocks:[{id:n.id,spaceId:(0,l.C)(n.pointer.spaceId)}],permanentlyDelete:!1})}))}})}({environment:e.environment,store:e.blocks[0]})}})},11732:(e,t,n)=>{n.d(t,{g:()=>k,s:()=>b});n(67294);var o=n(41892),a=n(41432),i=n(8848),s=n(72126),l=n(97880),r=n(9291),c=n(62967),d=n(82530),u=n(68422),m=n(47099),p=n(72495),f=n(19037),v=n(40959),g=n(5162),h=n(85893);const y={column_list:!0,transclusion_container:!0},b=(0,r.defineMessages)({turnIntoSection:{id:"action.section.turnInto",defaultMessage:"Turn into"}}),k=(0,c.$J)({key:"turn into actions",title:b.turnIntoSection,render:e=>(0,h.jsx)(p.Z,{...e}),actions:[...(0,l.Yd)(a.Zi),...Object.values(a.MF)].map((e=>function(e){const t=v.Hc[e],n=y[e];return{key:`turn into ${e}`,displayName:t.displayName,analyticsName:t.analyticsName,analyticsActionType:"turn_block_into",searchName:t.searchName,validators:s.oA([f.J5,n?void 0:f.wF,f.XQ,"transclusion_container"===e?f.xD([f.ff(f.wT),N]):void 0,(0,a.sX)(e)?e=>1===e.blocks.length:void 0,(0,a.UW)(e)?e=>!1:void 0,"column_list"===e?e=>{if(!e.blocks)return!1;const t=e.blocks.length;if(t<2||t>5)return!1;const n=e.blocks[0].getParentBlockStore();if(!n)return!1;const o=e.blocks.map((e=>{const t=e.getParentBlockStore();return(null==t?void 0:t.id)!==n.id?-1:n.getRenderableContentIds().indexOf(e.id)}));for(let a=0;a<o.length;a++)if(a>0&&o[a-1]+1!==o[a])return!1;return!0}:void 0,(0,a.Fx)(e)?()=>!0:void 0,"mermaid_code_block"===e?()=>!1:void 0]),shortcuts:"transclusion_container"===e?["group"]:void 0,closeParentMenu:!0,action:t=>{let{environment:n,blocks:o}=t;d.createAndCommit({userAction:`actionRegistry.turnIntoAction.${e}`,environment:n,perform:t=>{u.Cj({environment:n,blocks:o,blockType:e,transaction:t})}})},render:(e,n)=>{const o=function(e,t){const n=e.blocks[0];if(!n)return!1;const o=n.getType()===t.blockType;if(o&&("header"===t.blockType||"sub_header"===t.blockType||"sub_sub_header"===t.blockType)){const e=n.getFormat().toggleable;return!(e&&!t.key.includes("toggle"))&&!(!e&&t.key.includes("toggle"))}return o}(n,t);return(0,h.jsx)(m.Z,{...e,...t,title:t.displayName,format:m.Q.TurnInto,selected:o})},nativeImageReference:n=>{if((0,g.Y)("supportsNativeMobileDynamicActionBar")){const t=o.Z.images.mab,a=`${s.eV(e)}Svg`,l=(0,i.gh)({theme:n.environment.ThemeModeStore.state});return{imageUrl:t[a],imageTintColor:(0,i.J1)(l.v2.icon.secondary)}}return(0,c.aS)({thumbnail:t.thumbnail})}}}(e)))});function N(e){return!f.KL(e)||f.D(e)&&f.EC(e)}},41216:(e,t,n)=>{n.d(t,{Z:()=>f});var o=n(67294),a=n(480),i=n(24405),s=n(8848),l=n(82990),r=n(80025),c=n(33929),d=n(52275),u=n(58261),m=n(85893);function p(e,t){window.__c={n:"BlockColorMenuItem"};const n=(0,a.Fy)(),{color:p,overrideDisplayName:f,right:v,shortcuts:g}=e,h=f||c.default.formatMessage((0,r.qf)(p)),y=!n.isMobile&&g&&g[0],b=(0,i.yK)((e=>({icon:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,textAlign:"center",fontSize:16,borderRadius:4,fontWeight:l.Z.fontWeight.medium,boxShadow:e.innerBorderBoxShadow,...(0,s.fi)(p,e)},shortcut:{color:e.lightTextColor,fontSize:12,whiteSpace:"nowrap"}})),[p]),k=(0,o.useCallback)((()=>(0,m.jsx)("div",{style:b.icon,"aria-hidden":"true",children:"A"})),[b.icon]);return(0,m.jsx)(d.Z,{...e,ref:t,title:h,icon:k(),dontShrinkRight:!0,right:v||y&&(0,m.jsx)(u.Z,{name:y,style:b.shortcut})})}const f=o.forwardRef(p)},47099:(e,t,n)=>{n.d(t,{Q:()=>N,Z:()=>M});var o=n(67294),a=n(480),i=n(24405),s=n(8848),l=n(36591),r=n(11751),c=n(25666),d=n(9291),u=n(47853),m=n(98742),p=n(52275),f=n(73420),v=n(12981),g=n(26388),h=n(82990),y=n(85893);const b=function(e){window.__c={n:"FrontNewBadge"};const t=(0,i.Fg)();return(0,y.jsx)("div",{style:{alignSelf:"center",marginBottom:!1===e.margin?0:8,padding:"1px 3px",background:t.redBadgeBackground,color:s.ZP.white,borderRadius:4,marginLeft:!1===e.margin?0:6,fontSize:9,lineHeight:1.3,textTransform:"uppercase",fontWeight:h.Z.fontWeight.semibold,letterSpacing:.5},children:(0,y.jsx)(d.FormattedMessage,{id:"newBadge.label",defaultMessage:"New"})})};var k=n(60442);let N=function(e){return e[e.Insert=0]="Insert",e[e.TurnInto=1]="TurnInto",e}({});function S(e,t){window.__c={n:"BlockMenuItem"};const n=(0,a.Fy)(),{badge:h,description:S,format:M,selected:C,title:w,thumbnail:T,tooltipPhoto:x}=e,A=M===N.Insert,P=(0,i.yK)((e=>({thumbnail:{display:"block",width:A?46:22,height:A?46:22,borderRadius:4,flexGrow:0,flexShrink:0,boxShadow:e.borderBoxShadow,background:s.ZP.white},selected:{width:14,padding:"1px 1px"},titleDiv:{display:"flex",alignItems:"center"}})),[A]),I=(0,o.useCallback)((()=>{const e=(0,u.D)(T)||c.T;return(0,y.jsx)(v.Z,{src:e,style:P.thumbnail})}),[T,P.thumbnail]),R=(0,o.useCallback)((n=>(0,y.jsx)(p.Z,{...(0,m.Z)(n||{},e),ref:t,right:C&&(0,y.jsx)("div",{style:P.selected,children:(0,l.e)()}),title:(0,y.jsxs)("div",{style:P.titleDiv,children:[(0,y.jsx)("span",{style:{marginRight:6},children:w}),!C&&"new"===h&&(0,y.jsx)(b,{margin:!1}),!C&&"ai"===h&&(0,y.jsx)("div",{style:{color:s.FN.light.purple[500]},children:(0,y.jsxs)(f.X2,{gap:4,alignItems:"center",children:[(0,r.t)({fill:s.FN.light.purple[500],width:14,height:14}),(0,y.jsx)(d.FormattedMessage,{id:"blockMenuItem.aiBadge",defaultMessage:"AI"})]})})]}),icon:I(),caption:A&&S})),[t,h,I,S,A,e,C,P,w]),B=(0,o.useCallback)((()=>{const e=x?(0,u.D)(x):void 0;return(0,y.jsx)(k.Z,{imageURL:e,imageWidth:e?140:void 0,imageHeight:100,caption:S})}),[x,S]);return n.isMobile?R():(0,y.jsx)(g.ZP,{renderTooltip:B,placement:g.ug.Right,delayThreshold:0,render:e=>R(e)})}const M=o.forwardRef(S)},95083:(e,t,n)=>{n.d(t,{D:()=>a,d:()=>o});const o={text:!0,bulleted_list:!0,numbered_list:!0,quote:!0,to_do:!0,header:!0,sub_header:!0,sub_sub_header:!0,callout:!0,toggle:!0,table:!0,equation:!0,code:!0},a={...o}},51783:(e,t,n)=>{n.d(t,{Bo:()=>J,eQ:()=>W,QG:()=>ee,ol:()=>re,fn:()=>G,_W:()=>ce,vs:()=>de,O2:()=>$,UF:()=>le,Z3:()=>X,w1:()=>ue,rZ:()=>q,s0:()=>Q,GH:()=>ie,hc:()=>oe,hD:()=>ae,pk:()=>ne,i2:()=>se,$$:()=>Y,LQ:()=>L,$3:()=>U,y6:()=>K,Tz:()=>z,oQ:()=>V,Oh:()=>me});var o=n(1302),a=n(70203),i=n(11342),s=n(83249),l=n(6404),r=n(36280),c=n(45990),d=n(67060),u=n(28020),m=n(27724),p=n(31781),f=n(42858),v=n(24677),g=n(82530),h=n(53471);var y=n(52423),b=n(993),k=n(98724),N=n(98104),S=n(92022),M=n(18821),C=n(45162),w=n(24646),T=n(38676),x=n(50694),A=n(5162),P=n(80444),I=n(3418),R=n(19111),B=n(19671),_=n(56638),E=n(55320),Z=n(24666),F=n(19037),H=n(68056),D=n(46654),j=n(73959),O=n(89086);function L(e){const{environment:t}=e,{isMobileNative:n,osVersion:o,isIOS:a}=t.device;return!!n&&(!a||!i.isLessThanVersion(o,[14,0]))}const U=(e,t,n)=>{var o;const{NativeMobileActionBarStore:a}=e,i=Boolean(null==a?void 0:a.state.enableShouldShowDebugging);if(!((e,t,n)=>{const{device:o,NativeMobileActionBarStore:a}=e,i=Boolean(null==a?void 0:a.state.enableShouldShowDebugging);return o.isMobile?E.default.state.open?(pe(i,"canShowMobileActionBar = false (reason: quickFindOpen)"),!1):B.Z.state.isOpen?(pe(i,"canShowMobileActionBar = false (reason: blockPropertyOverlayOpen)"),!1):!o.isMobileNative&&R.Z.state.open?(pe(i,"canShowMobileActionBar = false (reason: !device.isMobileNative && MentionMenuStore.state.open)"),!1):Z.default.isEditingComment()?(pe(i,"canShowMobileActionBar = false (reason: TextSelectionStore.isEditingComment())"),!1):!_.Z.state.open&&L({environment:e})&&I.Z.hasOpenPopups()?(pe(i,"canShowMobileActionBar = false (reason: !PageTemplateModalStore.state.open && isNativeMobileActionBarAvailable({ environment }) && GlobalPopupStore.hasOpenPopups() > 0)"),!1):w.in(e)&&T.sidebarOpenStore.state?(pe(i,"canShowMobileActionBar = false (reason: sidebarHelpers.sidebarIsExpanded(environment) && sidebarOpenStore.get()"),!1):(0,F.ry)()?!!(0,F.J5)({environment:e,blocks:[t],publicEditMode:n})||(pe(i,"canShowMobileActionBar = false (reason: !_canEdit)"),!1):(pe(i,"canShowMobileActionBar = false (reason: !currentPageIsNotLocked())"),!1):(pe(i,"canShowMobileActionBar = false (reason: !device.isMobile)"),!1)})(e,t,n))return pe(i,"shouldShowMobileActionBar = false (reason: !canShowMobileActionBar)"),{canShow:!1,canShowNativeBar:!1,shouldShow:!1};const s=L({environment:e});if(a&&null!==a.state.menuType&&!(0,u.JE)())return pe(i,"shouldShowMobileActionBar = true (reason: NativeMobileActionBarStore && NativeMobileActionBarStore.state.menuType !== null"),{canShow:!0,canShowNativeBar:s,shouldShow:!0};const l=Z.default.state;if("editing"!==l.mode)return pe(i,"shouldShowMobileActionBar = false (reason: TextSelectionStore.state.mode !== editing"),{canShow:!0,canShowNativeBar:s,shouldShow:!1};const r=l.multiSelection,c=(0,C.L5)(r),d=c.some((e=>e.editable.props.disableStyleAnnotations)),m=c.some((e=>e.editable.props.disableMobileActionBar)),p=c.some((e=>e.editable.props.disableComment));return c&&m?(pe(i,"shouldShowMobileActionBar = false (reason: !renderedBlocks || !disableMobileActionBar)"),{canShow:!0,canShowNativeBar:s,shouldShow:!1}):(pe(i,"shouldShowMobileActionBar = true"),{shouldShow:!0,canShowNativeBar:s,disableStyleAnnotations:d,disableComment:p,isEmpty:(0,H.iG)(r)&&0===r.end.index&&0===(null===(o=(0,O.x0)(r.end.store))||void 0===o?void 0:o.endIndex)})};function z(e){const{environment:t,store:n}=e,{isPhone:o}=t.device,a=P.default.state.currentLoadingContainerStore,i=Boolean(null==n?void 0:n.isCollectionView()),s=Boolean(null==n?void 0:n.getAssociatedCollectionStore()),l=t.currentUser.isLoggedIn(),r=_.Z.state.open;return Boolean(!s&&!i&&!r&&o&&n&&a&&n.isDefined()&&n.canEdit()&&!n.hasContent()&&l&&a.state.ready)}const V=(e,t)=>{const n=(0,A.Y)("supportsNativeMobileDynamicActionBar"),o=Z.default.state;if("editing"===o.mode)return!t.state.isComposing&&!(0,H.iG)(o.multiSelection)||!n&&x.g$.getSimpleTableCellFromTextSelection();const a=e.state.savedTextSelectionStoreState;return!(!a||"editing"!==a.mode)&&!(0,H.iG)(a.multiSelection)},K=e=>{const{NativeMobileActionBarStore:t,device:n}=e;return Boolean(t&&null!==t.state.menuType&&!n.isTablet&&!n.isAndroid&&!(0,A.Y)("supportsMobileActionBarNativeActionMenuWithoutIgnoreSelectionArea"))},J=e=>{if((0,D.YF)(e))return!1;const{stores:t}=m.default.state;return t.length>0&&t[0].canEdit()&&!t[0].isNavigableBlock()&&!Boolean(x.g$.getSimpleTableCellFromTextSelection())},W=(e,t)=>!(0,D.YF)(e)&&t.canEdit(),$=e=>{if("editing"!==Z.default.state.mode)return;const t=(0,j.sQ)(Z.default.state.multiSelection.start.store);t&&g.createAndCommit({userAction:"mobileActionBarHelpers.handleIndent",environment:e,perform:n=>{b.n2({environment:e,transaction:n,shiftKey:!1,closestSelectable:t})}}),me(e,"indent")},Y=e=>{if("editing"!==Z.default.state.mode)return;const t=(0,j.sQ)(Z.default.state.multiSelection.start.store);t&&g.createAndCommit({userAction:"mobileActionBarHelpers.handleUnindent",environment:e,perform:n=>{b.n2({environment:e,transaction:n,shiftKey:!0,closestSelectable:t})}}),me(e,"unindent")},Q=e=>{g.createAndCommit({userAction:"mobileActionBarHelpers.handleMoveUp",environment:e,perform:t=>{b.fs({environment:e,transaction:t,direction:"up"})}}),me(e,"move-up")},q=e=>{g.createAndCommit({userAction:"mobileActionBarHelpers.handleMoveDown",environment:e,perform:t=>{b.fs({environment:e,transaction:t,direction:"down"})}}),me(e,"move-down")},G=e=>{const t=m.default.state.stores[0],n=Z.default.state;if(t&&"editing"===n.mode){const{multiSelection:o}=n,a=(0,O.hn)(o.end.store)||(0,O.mK)(o.start.store);g.createAndCommit({userAction:"mobileActionBarHelpers.handleDelete",environment:e,perform:e=>{f.Od({store:t,transaction:e})}});if(x.g$.getSimpleTableCellFromTextSelection())g.createAndCommit({userAction:"mobileActionBarHelpers.handleDelete",environment:e,perform:t=>{x.HM.clearSelectedCell({environment:e,transaction:t})}});else if(a){const t=(0,j.sQ)(a);v.eP({environment:e,store:t}),v.Db(e)}else v.ZH(e);me(e,"remove")}},X=e=>{d.lZ(e,{page:!0,heading:!0,createPage:!0,user:!0,inviteUser:!1,bot:!0,date:!0,reminder:!0,templateVariable:!0,group:!0}),me(e,"mention")},ee=e=>{te(e),(0,S.toggleInitialPrompt)({from:"mobile_action_bar",environment:e}),me(e,"ai")},te=e=>{if(1!==m.default.state.stores.length)return;const t=Z.default.state;if("empty"!==t.mode&&(0,H.iG)(t.multiSelection)){const n=t.multiSelection.start.store;N.mT({environment:e,store:n,canSelectAllBlocks:!1})}},ne=(e,t)=>{k.aS({environment:e,annotation:t}),me(e,t[0])},oe=(e,t,n)=>{const{NativeMobileActionBarStore:o}=e;null==o||o.update((e=>({...e,menuType:t,shouldRestoreSelectionForMenu:n})))},ae=(e,t,n)=>{const{NativeMobileActionBarStore:o}=e;null==o||o.update((e=>({...e,isSubMenuOverridden:n,subMenuType:t}))),null!==t&&me(e,t)},ie=e=>{y.KX(e),me(e,"redo")},se=e=>{y.Yw(e),me(e,"undo")},le=e=>{c.dz({type:"focusOnly",focus:!0}),me(e,a.GKr.Link)},re=(e,t,n)=>{let o=!1;const a=m.default.state.stores[0];if(a){if(t){const t=Z.default.state,i="empty"!==t.mode&&t.multiSelection;if(!i)return;o=!0,M.WD({environment:e,blockStore:a,multiSelection:i}),me(e,"comment",n)}o||(M.yw({environment:e,blockStore:a}),me(e,"discuss",n))}},ce=e=>{r.qn({environment:e,analyticsFrom:"rich_text_menu"}),me(e,"equation")},de=e=>{!async function(e){const t=m.default.state.stores,n=await h.y({multiple:!0,accept:e.device.isIOS?"image/*, video/*":"image/*"}),o=m.default.getCurrentRecordCache(),a=u.qQ(e);0!==n.length&&o&&g.createAndCommit({userAction:"mobileActions.takePicture",environment:e,perform:i=>{var s,l;const r=p.z({environment:e,files:n,inMemoryRecordCache:o,pageWidth:a,transaction:i,spaceId:0!==t.length?t[0].pointer.spaceId:null===(s=(0,u.RM)())||void 0===s?void 0:s.pointer.spaceId,useCrdt:0!==t.length?t[0].useCrdt():(null===(l=(0,u.RM)())||void 0===l?void 0:l.useCrdt())??!1});f.is({environment:e,blocks:r,selection:t,transaction:i,replaceEmptyTextBlock:!0}),v.ZH(e)}})}(e),me(e,"take_picture")},ue=(e,t,n)=>{const{device:a}=e,i=a.isMobileNative&&a.isIOS&&a.isPhone;i||v.Z5({environment:e,stores:m.default.state.stores}),t&&n?l.Qn({environment:e,stores:m.default.state.stores,actionSectionGroupKey:"default",left:t,top:n,showInput:!1,analyticsFrom:"mobile_more_menu"}):l.$Z({environment:e,stores:m.default.state.stores,actionSectionGroupKey:"default",showInput:!1,analyticsFrom:"mobile_more_menu"}),me(e,"more"),o.default.afterNextFlush((()=>{i&&N.sD()}))},me=(e,t,n)=>{s.YO(e,{itemName:t,from:n})};function pe(e,t){e&&console.log(t)}},80988:(e,t,n)=>{n.d(t,{U:()=>i});n(67294);var o=n(45238),a=n(85893);const i=(0,o.I)("blockColor",{viewBox:"0 0 30 30",svg:(0,a.jsx)("path",{d:"M25,5c0-2.2-1.8-4-4-4H6C3.8,1,2,2.8,2,5H1v2h1c0,2.2,1.8,4,4,4h15c2.2,0,4-1.8,4-4h2v6H14v4h-2v9c0,1.657,1.344,3,3,3 s3-1.343,3-3v-9h-2v-2h13V5H25z M23,7c0,1.103-0.896,2-2,2H6C4.896,9,4,8.103,4,7V5c0-1.103,0.896-2,2-2h15c1.104,0,2,0.897,2,2V7z M16,26c0,0.552-0.449,1-1,1s-1-0.448-1-1v-7h2V26z"})})},38491:(e,t,n)=>{n.d(t,{N:()=>i});n(67294);var o=n(45238),a=n(85893);const i=(0,o.I)("redo",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M1.45117 10.6826C1.45117 13.4102 3.24219 15.208 6.29785 15.208H7.93848C8.38281 15.208 8.69727 14.873 8.69727 14.4629C8.69727 14.0459 8.38281 13.7109 7.93848 13.7109H6.3457C4.14453 13.7109 2.92773 12.4053 2.92773 10.6211C2.92773 8.84375 4.14453 7.59277 6.3457 7.59277H10.7002L12.2793 7.52441L11.0762 8.53613L9.31934 10.252C9.18262 10.3887 9.10059 10.5527 9.10059 10.7715C9.10059 11.1953 9.39453 11.5029 9.83203 11.5029C10.0234 11.5029 10.2285 11.4141 10.3721 11.2705L14.3027 7.40137C14.46 7.25098 14.542 7.05273 14.542 6.84766C14.542 6.64258 14.46 6.4375 14.3027 6.29395L10.3721 2.4248C10.2285 2.28125 10.0234 2.19238 9.83203 2.19238C9.39453 2.19238 9.10059 2.5 9.10059 2.91699C9.10059 3.14258 9.18262 3.30664 9.31934 3.43652L11.0762 5.15234L12.2793 6.1709L10.7002 6.10254H6.38672C3.2832 6.10254 1.45117 7.96875 1.45117 10.6826Z"})})},45137:(e,t,n)=>{n.d(t,{o:()=>i});n(67294);var o=n(45238),a=n(85893);const i=(0,o.I)("speechBubbleThin",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M4.73926 15.6797C5.12207 15.6797 5.40918 15.4951 5.87402 15.085L8.21875 13.0068H12.3545C14.4121 13.0068 15.5674 11.8311 15.5674 9.80078V4.49609C15.5674 2.46582 14.4121 1.29004 12.3545 1.29004H3.63867C1.58105 1.29004 0.425781 2.46582 0.425781 4.49609V9.80078C0.425781 11.8311 1.6084 13.0068 3.59082 13.0068H3.87109V14.6953C3.87109 15.3037 4.19238 15.6797 4.73926 15.6797ZM5.07422 14.1758V12.2275C5.07422 11.8242 4.90332 11.667 4.51367 11.667H3.67285C2.38086 11.667 1.76562 11.0176 1.76562 9.75977V4.53711C1.76562 3.2793 2.38086 2.62988 3.67285 2.62988H12.3135C13.6055 2.62988 14.2275 3.2793 14.2275 4.53711V9.75977C14.2275 11.0176 13.6055 11.667 12.3135 11.667H8.14355C7.7334 11.667 7.52832 11.7354 7.24121 12.0361L5.07422 14.1758ZM4.51367 5.35059H11.4043C11.6367 5.35059 11.8281 5.15918 11.8281 4.91992C11.8281 4.69434 11.6367 4.50293 11.4043 4.50293H4.51367C4.28125 4.50293 4.09668 4.69434 4.09668 4.91992C4.09668 5.15918 4.28125 5.35059 4.51367 5.35059ZM4.51367 7.53125H11.4043C11.6367 7.53125 11.8281 7.33301 11.8281 7.10059C11.8281 6.86816 11.6367 6.67676 11.4043 6.67676H4.51367C4.28125 6.67676 4.09668 6.86816 4.09668 7.10059C4.09668 7.33301 4.28125 7.53125 4.51367 7.53125ZM4.51367 9.70508H9.00488C9.2373 9.70508 9.42188 9.51367 9.42188 9.28125C9.42188 9.04199 9.2373 8.85742 9.00488 8.85742H4.51367C4.28125 8.85742 4.09668 9.04199 4.09668 9.28125C4.09668 9.51367 4.28125 9.70508 4.51367 9.70508Z"})})},69619:(e,t,n)=>{n.d(t,{T:()=>i});n(67294);var o=n(45238),a=n(85893);const i=(0,o.I)("unsync",{viewBox:"0 0 30 30",svg:(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.768 23.295l1.353 1.351a11.298 11.298 0 01-6.118 1.81c-5.862 0-10.781-4.538-11.387-10.254h-1.55c-.809 0-1.011-.55-.573-1.168l2.516-3.572c.37-.527.91-.516 1.269 0l2.515 3.583c.427.606.225 1.157-.572 1.157H5.536a9.496 9.496 0 009.467 8.344c1.74 0 3.366-.454 4.765-1.251zM10.233 6.723l-1.361-1.36a11.26 11.26 0 016.131-1.818c5.851 0 10.782 4.548 11.388 10.265h1.539c.808 0 1.021.539.572 1.167l-2.504 3.572c-.37.528-.91.516-1.27 0l-2.515-3.583c-.427-.617-.224-1.156.573-1.156h1.673a9.503 9.503 0 00-9.456-8.356 9.55 9.55 0 00-4.77 1.27z"}),(0,a.jsx)("path",{d:"M27.067 28.551c.41.41 1.094.41 1.49 0 .41-.41.41-1.08 0-1.49L2.937 1.454a1.06 1.06 0 00-1.505 0c-.396.396-.396 1.08 0 1.49l25.635 25.607z"})]})})}}]);