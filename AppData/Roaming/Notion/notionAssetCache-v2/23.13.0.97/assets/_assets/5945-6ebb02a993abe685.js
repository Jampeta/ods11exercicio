"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5945],{46945:(t,e,s)=>{s.d(e,{Z:()=>f});s(67294);var o=s(83355),n=s(13991),i=s(8848),r=s(53877),a=s(42875),p=s(82990),d=s(28020),l=s(77907),h=s(13854),u=s(85893);const c={monthControl:{position:"absolute",top:0,right:0,display:"flex"},selectedRange:{backgroundColor:i.ZP.blueWithAlpha(.15)},active:{backgroundColor:i.ZP.blue,color:i.ZP.white},inactive:{backgroundColor:i.ZP.blueWithAlpha(.43)},disabled:{pointerEvents:"none"},today:{fontWeight:p.Z.fontWeight.regular}};class g extends o.Z{constructor(){super(...arguments),this.currentDate=void 0}renderComponent(){const{readonly:t}=this.props,e=this.getDisplayMonth();return(0,u.jsx)(l.LazyDayPicker,{className:"notion-calendar-picker",defaultMonth:e,month:e,numberOfMonths:1,weekStartsOn:d.AK.state,locale:n.SP,showOutsideDays:!0,fixedWeeks:!0,onDayClick:t=>function(t,e,s,o,n,i,a,p){if(i||p)return;const d=e.getFocus(),l=r.OQ.toPersistedDate(t.valueOf()),u=o(d,{value:l}),c=u.error?u:{value:{[d]:u.value[d]}};n(c),e.setState({...e.state,hovered:void 0}),a&&a.setState({...a.state,hovered:void 0});if(u.error)return;"starting"!==d||s.ending||(e.setState({...e.state,focus:"ending"}),a&&a.setState({...a.state,focus:h.yO.ending}));const g="starting"===d?"ending":"starting";e.setState({...e.state,focus:g}),a&&a.setState({...a.state,focus:h.yO[g]})}(t,this.props.store,this.props.value,this.props.validate,this.props.onUpdate,this.props.disabled,this.props.dateTimeStore,this.props.readonly),onDayMouseEnter:t=>function(t,e,s,o,n,i){const a=e.getFocus(),p=r.OQ.jsDateToLuxon(t);if(o||i)return;if("starting"===a&&s.ending&&!s.starting){r.OQ.notionDateToLuxon(s.ending)>=p&&(e.setState({...e.state,hovered:t}),n&&n.setState({...n.state,hovered:t}))}else if("ending"===a&&s.starting&&!s.ending){r.OQ.notionDateToLuxon(s.starting)<=p&&(e.setState({...e.state,hovered:t}),n&&n.setState({...n.state,hovered:t}))}}(t,this.props.store,this.props.value,this.props.disabled,this.props.dateTimeStore,this.props.readonly),onMonthSelected:t=>function(t,e,s){e.setState({...e.state,displayMonth:r.OQ.jsDateToLuxon(t)}),s&&s.setState({...s.state,displayMonth:r.OQ.jsDateToLuxon(t)})}(t,this.props.store,this.props.dateTimeStore),modifiers:v(this.props.store,this.props.value,this.props.disabled),modifiersStyles:m(this.props.store,this.theme),disabled:!!t||void 0})}getCurrentDate(){if(!this.currentDate){const t=r.Lg((0,a.r)());this.currentDate=r.OQ.notionDateToJsDate(t)}return this.currentDate}getDisplayMonth(){const{value:t,store:e}=this.props;if(e.state.displayMonth)return e.state.displayMonth.toJSDate();if("starting"===e.getFocus()){if(t.starting)return r.OQ.notionDateToJsDate(t.starting);if(t.ending)return r.OQ.notionDateToJsDate(t.ending)}if("ending"===e.getFocus()){if(t.ending)return r.OQ.notionDateToJsDate(t.ending);if(t.starting)return r.OQ.notionDateToJsDate(t.starting)}return this.getCurrentDate()}}g.displayName="DateRangePicker";const f=g;function v(t,e,s){const o=function(t,e,s){if(e)return t=>!0;const o=t=>"ending"===s.getFocus()&&{before:t},n=t=>"starting"===s.getFocus()&&{after:t};if(t.starting&&t.ending){const e=r.OQ.notionDateToJsDate(t.starting),s=r.OQ.notionDateToJsDate(t.ending);return o(e)||n(s)}if(t.starting)return o(r.OQ.notionDateToJsDate(t.starting));if(t.ending)return n(r.OQ.notionDateToJsDate(t.ending));return!1}(e,s,t),{hovered:n}=t.state;if(s)return{disabled:o};if(e.starting&&e.ending){const t=r.OQ.notionDateToJsDate(e.starting),s=r.OQ.notionDateToJsDate(e.ending);return{range:{from:t,to:s},start:t,end:s,disabled:o}}if(e.starting){const t=r.OQ.notionDateToJsDate(e.starting);return{range:n&&{from:t,to:n},start:t,end:n,disabled:o,selected:[t,n]}}if(e.ending){const t=r.OQ.notionDateToJsDate(e.ending);return{range:n&&{from:n,to:t},start:n,end:t,disabled:o,selected:[t,n]}}}function m(t,e){const s=c,o=function(t){return{disabled:{color:t.lightTextColor},today:{color:i.ZP.white}}}(e),n=t.getFocus(),r=s.selectedRange,a={...s.disabled,...o.disabled},p={...s.today,...o.today};return{range:r,start:"starting"===n?s.active:s.inactive,end:"ending"===n?s.active:s.inactive,disabled:a,today:p}}},47082:(t,e,s)=>{s.d(e,{U:()=>S,Z:()=>D});s(67294);var o=s(83355),n=s(480),i=s(24405),r=s(53465),a=s(72126),p=s(87279),d=s(98742),l=s(34859),h=s(64113),u=s(64921),c=s(37601),g=s(74194),f=s(3386),v=s(53336),m=s(64369),x=s(85893);let S=function(t){return t[t.Select=0]="Select",t[t.Person=1]="Person",t[t.Relation=2]="Relation",t[t.FilterValue=3]="FilterValue",t[t.Share=4]="Share",t[t.Group=5]="Group",t}({});class y extends o.Z{constructor(){super(...arguments),this.storeTypes={store:h.Z},this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleFocused=()=>{this.stores.store.setState({focused:!0})},this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleBlurred=()=>{this.stores.store.setState({focused:!1})},this.handleContainerClick=()=>{var t,e;this.props.disabled||(this.input.focusInput(),null===(t=(e=this.props).onClick)||void 0===t||t.call(e))}}UNSAFE_willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}UNSAFE_willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){const{disabled:t}=this.props;return(0,x.jsx)(f.Z,{debugName:"TokenInputMenuItem",capture:!t,onLeft:a.yR,onRight:a.yR,onSelectAll:a.yR,onRedo:a.yR,onUndo:a.yR,onToggleBold:a.yR,onToggleItalics:a.yR,onToggleCode:a.yR,onCut:a.yR,onCopy:a.yR,onPaste:a.yR,onKeypress:a.yR,children:(0,x.jsx)(f.Z,{debugName:"TokenInputMenuItem",capture:!t&&this.props.value.length>0,onDelete:a.yR,onBackspace:a.yR,children:(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",flex:1,minWidth:0,gap:this.props.message?4:void 0},children:[this.renderTokenInput(),this.props.message&&(0,x.jsx)(m.Z,{isSmall:!0,children:this.props.message})]})})})}renderTokenInput(){const{right:t,showClearButton:e}=this.props;return t||e?(0,x.jsxs)(v.Z,{type:l.Z.All,style:{...w(this.environment,this.theme,this.props.format,this.props.focus,this.props.dontShowBorderBottom,this.props.disabled,this.props.showBorder,this.context.menu),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,x.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...this.props.inputAndTokenWrapRightStyle},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,x.jsx)("div",{style:{flexShrink:0},children:(0,x.jsx)(O,{showClearButton:this.props.showClearButton,right:this.props.right,onClearButtonClick:this.props.onClearButtonClick,tokens:this.props.tokens,value:this.props.value})})]}):this.environment.device.isMobile?(0,x.jsxs)("div",{style:{...w(this.environment,this.theme,this.props.format,this.props.focus,this.props.dontShowBorderBottom,this.props.disabled,this.props.showBorder,this.context.menu),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,x.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:T(this.props.format)?6:0},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,x.jsx)(c.Z,{show:this.stores.store.state.focused})]}):(0,x.jsxs)(v.Z,{type:l.Z.All,style:{...w(this.environment,this.theme,this.props.format,this.props.focus,this.props.dontShowBorderBottom,this.props.disabled,this.props.showBorder,this.context.menu),...this.props.style},onClick:this.handleContainerClick,children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]})}renderInput(){const t=0===this.props.tokens.length;return(0,x.jsx)(g.Z,{disabled:this.props.disabled,format:g.B.Transparent,...(0,d.Z)({onKeyDown:t=>function(t,e,s,o){"Backspace"===t.key&&0===e.length&&s();o&&o(t)}(t,this.props.value,this.props.onRemoveLastToken,this.props.onKeyDown)},{onChange:this.props.onChange}),value:this.props.value,focus:this.props.focus,focusInitial:this.props.focusInitial,focusAfterAnimation:this.props.focusAfterAnimation,style:(e=this.props.format,s=this.environment,o=this.theme,n=this.props.inputFullWidth,i=this.props.inputDivStyle,{flexGrow:1,flexShrink:1,flexBasis:n?"100%":60,minWidth:60,width:"auto",lineHeight:"20px",...s.device.isMobile?{margin:"0 8px 8px 0"}:b(o)[e].inputDivDesktopStyle,...i}),inputStyle:this.props.inputStyle||{height:this.environment.device.isMobile?24:T(this.props.format)?20:18},size:1,ref:t=>t&&(this.input=t),type:this.props.type,placeholder:t?this.props.placeholder:"",onSubmit:t=>function(t,e,s,o){0===e.length&&s&&s();o&&o(t)}(t,this.props.value,this.props.onEmptySubmit,this.props.onSubmit),onFocus:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleFocused,onBlur:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleBlurred,textarea:this.props.textarea,autoComplete:this.props.autoComplete});var e,s,o,n,i}}y.displayName="TokenInputMenuItem",y.contextTypes={...p.mw,...o.w};const D=y;function T(t){return t===S.Group}function k(t,e){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:e?"none":t.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden"}}function C(t){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${t.regularDividerColor}`,fontSize:16,background:t.popoverBackground}}function b(t){const e={desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 6px 6px 0",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}};return{[S.Select]:e,[S.Person]:e,[S.Relation]:e,[S.Group]:e,[S.FilterValue]:{desktopWrapStyle:{padding:"6px 6px 1px",boxShadow:t.inputBoxShadow,background:t.inputBackground,margin:"6px 8px 2px 8px",minHeight:30,fontSize:12,borderRadius:4},inputDivDesktopStyle:{margin:"0 6px 4px 0"},inputDivDesktopFocusStyle:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"}},[S.Share]:{desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}function O(t){let{showClearButton:e,right:s,onClearButtonClick:o,tokens:a,value:p}=t;window.__c={n:"RightComponent"};const d=(0,i.Fg)(),l=(0,n.O7)(),{isMobile:h}=l.device;return s?(0,x.jsx)(x.Fragment,{children:s}):e&&(a.length>0||p.length>0)?(0,x.jsx)(u.Z,{onClick:o,style:{flexShrink:0,flexGrow:0,borderRadius:h?24:20,marginTop:2},children:(0,r.X)({width:h?16:14,height:h?16:14,fill:d.lightIconColor})}):null}function w(t,e,s,o,n,i,r,a){const{WindowSizeStore:d}=t;return{...t.device.isMobile?{...C(e),paddingTop:14,paddingBottom:8,paddingLeft:(null==a?void 0:a.menuType)!==p.og.Popup?d.getSafePaddingLeftCSS(16):16,paddingRight:(null==a?void 0:a.menuType)!==p.og.Popup?d.getSafePaddingRightCSS(16):16,...n&&{borderBottom:"none"}}:{...k(e,i),...b(e)[s].desktopWrapStyle},...r&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...r&&o&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...!t.device.isMobile&&o&&b(e)[s].inputDivDesktopFocusStyle}}},67950:(t,e,s)=>{s.d(e,{B:()=>n,Z:()=>r});var o=s(49085);const n={INVALID_DATE:"Invalid date",INVALID_RANGE:"Invalid range"};class i extends o.default{getInitialState(){return{edited:!1,temporary:"",error:void 0}}}const r=i},76150:(t,e,s)=>{s.d(e,{Hv:()=>n,ZP:()=>a,pd:()=>i});var o=s(49085);let n=function(t){return t.StartDate="startDate",t.StartTime="startTime",t.EndDate="endDate",t.EndTime="endTime",t}({}),i=function(t){return t.InvalidDate="Invalid date",t.InvalidTime="Invalid time",t.InvalidRange="Invalid range",t}({});class r extends o.default{getInitialState(){return{focus:n.StartDate,inputIsFocused:!1,inputTemporaryValue:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0},error:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0}}}}const a=r},13854:(t,e,s)=>{s.d(e,{QJ:()=>i,ZP:()=>p,yO:()=>r});var o=s(49085),n=s(76150);const i={[n.Hv.StartDate]:"starting",[n.Hv.StartTime]:"starting",[n.Hv.EndDate]:"ending",[n.Hv.EndTime]:"ending"},r={starting:n.Hv.StartDate,ending:n.Hv.EndDate};class a extends o.default{getInitialState(){return{isOpen:!1,focus:n.Hv.StartDate,temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,showTime:!1}}getFocus(){return this.state.focus}toggleShowTime(){this.setState({...this.state,showTime:!this.state.showTime})}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const p=a},41558:(t,e,s)=>{s.d(e,{Z:()=>i});var o=s(49085);class n extends o.default{getInitialState(){return{isOpen:!1,focus:"starting",temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,dateFilterType:"lastEditedTime"}}getFocus(){return this.state.focus}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const i=n}}]);