"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6997],{32603:(e,t,o)=>{o.r(t),o.d(t,{measureSubMetricsInBrowserProfiler:()=>c,setInitialRenderCompleted:()=>d,setSubMetric:()=>a,setSubMetricsAtRenderCallback:()=>r,updateMetricData:()=>l});var n=o(5809),i=o(83055),s=o(77144);function r(e){const{mainStartTime:t,prefetchInitiatedTime:o,renderStartTime:i,renderEndTime:r,mainImportEndTime:a}=e,l=(0,n.$)();if(!l)return;const d={app_start_to_main_start:{startTime:l,endTime:t},main_start_to_prefetch_initiated:{startTime:t,endTime:o},prefetch_initiated_to_render_start:{startTime:o,endTime:i},render_start_to_render_end:{startTime:i,endTime:r},import_start:{startTime:0,endTime:t},import_start_to_prefetch_stage_completion:{startTime:t,endTime:o},main_import:{startTime:t,endTime:a},react_render:{startTime:i,endTime:r}};s.Z.state.subMetrics.update((e=>({...e,...d})))}function a(e){const{name:t,endTime:o}=e,n=e.startTime(s.Z.state.subMetrics.state);n&&s.Z.state.subMetrics.update((e=>({...e,[t]:{startTime:n,endTime:o}})))}function l(e){s.Z.state.metricData.update((t=>({...t,...e})))}function d(){s.Z.update((e=>({...e,initialRenderCompleted:!0})))}function c(){for(const[t,o]of Object.entries(i.D9())){if(!o)break;try{window.performance.measure(t,{start:o.startTime,end:o.endTime})}catch(e){}}}},59389:(e,t,o)=>{o.d(t,{T_:()=>y,Ud:()=>f,eV:()=>h});var n=o(1302),i=o(45953),s=o(42),r=o(58202),a=o(952),l=o(41433),d=o(96802),c=o(94419),p=o(9953),u=o(24677),g=o(98104),m=o(68422);function h(e){const{environment:t,store:o,transaction:i,preventTextSelection:s,onTextSelection:r}=e,l=o.useCrdt(),d=p.j4({environment:t,type:"text",inMemoryRecordCache:o.inMemoryRecordCache,transaction:i,spaceId:o.pointer.spaceId,useCrdt:l}),m=c.R3({parent:o.getContentStore(),append:d,transaction:i}).child;return s||n.default.afterNextFlush((()=>{u.eP({environment:t,store:m}),g.N_({store:m.getBlockTitleStore()}),null==r||r()})),a.W(t,{from:"template_picker",type:"text",creating_block_id:d.id}),m}function y(e){const{environment:t,store:o,transaction:n}=e;d.is({store:o,transaction:n}),h({environment:t,store:o,transaction:n})}function f(e){var t;const{environment:o,store:d,viewType:c,transaction:u}=e,g=null===(t=d.getBlockTitleStore())||void 0===t?void 0:t.getValue();l.ZI({environment:o,sourceBlockId:"root",targetBlockPointer:d.pointer,sourceBlockSubtree:(0,i.R3)((0,s.iC)({isInline:!1,viewType:c})),targetRecordCache:d.inMemoryRecordCache,transaction:u,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0,useCrdt:d.useCrdt()}),m.vs({environment:o,block:d,blockType:"collection_view_page",transaction:u}),g&&p.sO({store:d.getBlockTitleStore(),value:g,transaction:u}),n.default.afterNextFlush((()=>{const e=r.R.findCollectionViewBlockFromStore(d);null==e||e.handleCreated()})),a.W(o,{from:"template_picker",type:"collection_view_page",creating_block_id:d.id})}},19977:(e,t,o)=>{o.d(t,{Z:()=>d});o(67294);var n=o(86628),i=o(68709),s=o(77907),r=o(82136),a=o(92650),l=o(85893);function d(e){window.__c={n:"MarginComments"};const{pageBlockStore:t,isVisible:o,context:d}=e,c=(0,n.VK)((()=>t.isFullWidth()||d===r.S.CollectionPageView),[d,t]);return(0,l.jsx)(i.p,{allowSelectionWithin:!0,style:{width:c&&o?a.QB:0},children:(0,l.jsx)(s.LazyMarginCommentsSection,{...e})})}},3119:(e,t,o)=>{o.d(t,{Z:()=>he});var n=o(67294),i=o(1302),s=o(480),r=o(6740),a=o(86628),l=o(27961),d=o(83303),c=o(62965),p=o(70203),u=o(9291),g=o(96802),m=o(82530);const h=1e3;function y(e){if(e){const t=(0,p.QaF)(e.getValue());return Boolean(t)}return!1}function f(e){if(e){const t=e.getSettings();if(t&&t.hidden_collection_descriptions)return t.hidden_collection_descriptions}return[]}function S(e){const{environment:t,store:o,value:n}=e;m.createAndCommit({userAction:"PageViewBlock.setCollectionViewPageDescription",environment:t,perform:e=>{g.FH({stores:[o],update:{hide_collection_view_page_description:n},transaction:e})}})}function v(e){const{environment:t,pageId:o,isExpanded:n,store:i,userSettingsStore:s,descriptionStore:r}=e,a=i.state.isExpanded;i.setState({isExpanded:n});y(r)&&s&&a!==n&&m.createAndCommit({userAction:"pageDescriptionActions.setExpanded",environment:t,perform:e=>{if(n){const t={pointer:{table:"user_settings",id:s.id},path:["settings","hidden_collection_descriptions"],command:"listRemove",args:{id:o}};m.applyOperation({store:s,transaction:e,operation:t})}else{const t={pointer:{table:"user_settings",id:s.id},path:["settings","hidden_collection_descriptions"],command:"listAfter",args:{id:o}};m.applyOperation({store:s,transaction:e,operation:t});let n=f(s);for(;n.length>h;){const t=n[0],o={pointer:{table:"user_settings",id:s.id},path:["settings","hidden_collection_descriptions"],command:"listRemove",args:{id:t}};m.applyOperation({store:s,transaction:e,operation:o}),n=f(s)}}}})}var x=o(24677),b=o(98104),C=o(31192),k=o(28020),M=o(50627),w=o(89086),j=o(80444),P=o(49085);class V extends P.default{getInitialState(){return{isExpanded:!0}}isExpanded(){return Boolean(this.state.isExpanded)}}const _=V;var I=o(82136),T=o(53223),B=o(23063),Z=o(89728),L=o(83355),K=o(24405),E=o(90199),D=o(1436),O=o(82990),F=o(25888),R=o(993),A=o(28651),N=o(68056),W=o(46654),H=o(18514),z=o(61766),U=o(24666),$=o(84076),G=o(31278),X=o(76798),q=o(32662),Q=o(26388),Y=o(21407),J=o(85893);class ee extends L.Z{constructor(){super(...arguments),this.editor=null,this.storeTypes={buttonPopupStore:z.Z},this.handleEnter=e=>{if(!function(e,t,o){const n=o&&o.publicEditModeStore.state;return!t&&(!(0,W.YF)(n)&&e.canEdit())}(this.props.descriptionStore,this.props.disabled,this.pageContext))return;if(e.preventDefault(),this.editor&&this.editor.isComposing())return;const t=U.default.state;if("editing"===t.mode){const e=(0,N.QY)(t.multiSelection);if(!e)return;m.createAndCommit({userAction:"PageDescription.handleEnter",environment:this.environment,perform:t=>{R.hJ({environment:this.environment,store:this.props.descriptionStore,string:"\n",selection:e.selection,disableMentions:!0,disableDateMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:t})}})}}}renderComponent(){return(0,J.jsx)("div",{style:{maxWidth:"100%",borderRadius:4,overflow:"hidden",marginBottom:12},children:this.renderExpanded()})}renderExpanded(){return this.environment.device.isMobile?(0,J.jsx)(n.Fragment,{children:this.renderDescriptionText()}):(0,J.jsx)(Q.ZP,{renderTooltip:()=>(0,J.jsx)(se,{collectionStore:this.props.collectionStore}),disableTooltip:!this.props.locked||!this.props.canEdit,render:e=>(0,J.jsx)("div",{children:(0,J.jsx)("div",{style:{display:"flex",cursor:"text"},...e,children:this.renderDescriptionText()})})})}renderDescriptionText(){const{device:e}=this.environment,{intl:t}=this.props;if(this.props.descriptionStore)return(0,J.jsx)(Y.Z,{ref:e=>{this.editor=e},store:this.props.descriptionStore,style:{...te,width:780},disabled:this.props.disabled,placeholder:t.formatMessage({defaultMessage:"Add a description…",id:"pageDescription.emptyPlaceholder"}),disableSlashCommands:!0,disableEmbedMenu:!0,disableDateMentions:!0,disableMentions:!0,onTab:re,onUntab:ae,onEnter:this.handleEnter,onClick:ie(this.props.toggleStore)?()=>{}:e=>function(e,t,o,n,i,s){ie(t)||e.preventDefault();!function(e,t,o,n,i){const s=ie(e);v({environment:n,pageId:t,isExpanded:!s,store:e,userSettingsStore:i,descriptionStore:o})}(t,o,n,i,s)}(e,this.props.toggleStore,this.props.pageId,this.props.descriptionStore,this.environment,this.props.userSettingsStore),disableStyleAnnotations:e.isMobileBrowser,disableInsertedDeletedAnnotations:e.isMobileBrowser,disableHorizontalEdgeScroll:!0,pasteBehavior:"inline"})}}ee.displayName="PageDescription",ee.stores={buttonPopupStore:z.Z};const te={fontSize:14,paddingLeft:6,paddingBottom:4,paddingTop:3},oe=(0,u.injectIntl)(ee);function ne(){window.__c={n:"SprintBoardPageDescription"};const e=(0,s.O7)(),t=(0,a.qz)(void 0,A.Z),o=(0,a.VK)((()=>t.state.mouseEntered),[t]),n=(0,K.yK)((e=>({linkStyle:{...te,color:o?e.mediumTextColor:e.lightTextColor,cursor:"pointer"}})),[o]);return(0,J.jsx)("div",{style:{display:"flex"},onClick:()=>F.Fs(e,{from:"sprint_board_learn_how_to_use"}),children:(0,J.jsxs)($.Z,{style:n.linkStyle,href:(0,H.UY)("guides.sprintPlanning"),external:!0,disabled:!0,onMouseEnter:()=>t.enter(),onMouseLeave:()=>t.exit(),children:[(0,J.jsx)(u.FormattedMessage,{defaultMessage:"Learn how to use Sprints",id:"pageDescription.sprintBoard.message"}),(0,J.jsx)(q.Z,{size:2}),(0,D.g)({width:16,display:"inline-block",position:"relative",top:"3px",height:void 0})]})})}function ie(e){return e.isExpanded()}function se(e){let{collectionStore:t}=e;window.__c={n:"LockedTooltipComponent"};const o=(0,a.VK)((()=>t&&t.getIcon()),[t]);return(0,J.jsxs)("div",{style:{display:"flex",alignItems:"start"},children:[(0,J.jsx)("div",{style:{paddingTop:4,paddingRight:6},children:(0,E.b)({width:12})}),(0,J.jsx)("div",{children:(0,J.jsx)("div",{children:(0,J.jsx)(u.FormattedMessage,{defaultMessage:"Please unlock {pageTitleWithIcon} to edit the description.",id:"pageDescription.lockedTooltip.message",values:{pageTitleWithIcon:(0,J.jsxs)("span",{style:{whiteSpace:"nowrap",fontWeight:O.Z.fontWeight.bold},children:[o&&(0,J.jsx)(G.Z,{disabled:!0,icon:o,isEmptyPage:!1,size:12,style:{marginRight:4,display:"inline-block"}}),t&&(0,J.jsx)(X.Z,{store:t,style:{display:"inline"}})]})}})})})]})}function re(e){return!0}function ae(e){return!0}var le=o(5618),de=o(22735),ce=o(35943);function pe(e){return"sprint_board"===e.getFormat().special_page_for_pm_launch}function ue(e){window.__c={n:"CollectionPageViewBlock"};const{canEdit:t,context:o,controlHoverStyle:c,disabled:g,handleHeaderMouseEnterThrottled:m,handleHeaderMouseLeaveDebounced:h,headerControlsStyle:C,headerFocusStore:P,isEditable:V,paddingLeft:I,paddingRight:T,pageCover:L,store:K,topControls:E}=e,D=(0,s.O7)(),O=(0,n.useMemo)((()=>new _),[]),F=(0,a.VK)((()=>K.getCollectionViewSourceDescriptionStore()),[K]),R=(0,a.VK)((()=>K.getCollectionViewSourceCollectionStore()),[K]),A=(0,a.VK)((()=>y(F)),[F]),N=(0,a.VK)((()=>K.getTitleStore()),[K]),W=(0,a.VK)((()=>K.getFormat()),[K]),H=(0,a.VK)((()=>pe(K)),[K]),z=n.useRef(!1);(0,n.useEffect)((()=>{if(!z.current){z.current=!0;const{currentUserSettingsStore:e}=j.default.state;!function(e){const{pageId:t,store:o,userSettingsStore:n,descriptionHasText:i}=e;let s=i;f(n).includes(t)&&(s=!1),o.setState({isExpanded:s})}({pageId:K.id,store:O,userSettingsStore:e,descriptionHasText:A})}}),[A,K.id,O]);const U=(0,a.VK)((()=>p.QaF(null==N?void 0:N.getValue())),[N]),$=(0,a.VK)((()=>!!K.getCollectionViewSourceCollectionStore()||!!N&&(!!U||!!(0,w.J5)(N))),[K,N,U]),G=(0,a.VK)((()=>k.qG(K.id)),[K]),X=(0,a.VK)((()=>(0,M.kC)(K,D)),[K,D]),q=(0,a.VK)((()=>(0,M.du)(K,o,D)),[K,o,D]),Q=()=>{const{currentUserSettingsStore:e}=j.default.state,t=K.id;v({environment:D,pageId:t,isExpanded:!1,store:O,userSettingsStore:e,descriptionStore:F})},Y=()=>{const{currentUserSettingsStore:e}=j.default.state,t=K.id;v({environment:D,pageId:t,isExpanded:!0,store:O,userSettingsStore:e,descriptionStore:F})},ee=(0,a.VK)((()=>{if("sprint_board"===K.getFormat().special_page_for_pm_launch)return!0;const e=O.isExpanded();return(y(F)||V)&&e}),[F,V,O,K]),te=(0,a.VK)((()=>{if(!ee)return{type:"hidden"};if(!F)return{type:"hidden"};if(!O.isExpanded())return{type:"hidden"};const{currentUserSettingsStore:e}=j.default.state;return{type:"visible",descriptionStore:F,currentUserSettingsStore:e,collectionStore:R}}),[F,R,O,ee]),ne=(0,a.VK)((()=>K.isLocked()),[K]),ie=e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,r.E)(t)&&P.setState(!0)},se=()=>{const{device:e}=D,{currentUserSettingsStore:t}=j.default.state,o=F;v({environment:D,pageId:K.id,store:O,userSettingsStore:t,isExpanded:!0,descriptionStore:o}),i.default.afterNextFlush((()=>{o&&!e.isMobileBrowser&&b.NX({store:o})}))},re=()=>{P.setState(!1)},ae=()=>{N&&(x.ZH(D),b.NX({store:N}))},ue=()=>{const{device:e}=D;if(V&&!R&&!U)return(0,J.jsx)(Z.Z,{style:c,isLightGray:!0,onClick:ae,icon:d.c,children:e.isSmallPhone?(0,J.jsx)(u.FormattedMessage,{id:"pageViewBlock.add.pageTitleMobile",defaultMessage:"Title"}):(0,J.jsx)(u.FormattedMessage,{id:"pageViewBlock.add.pageTitle",defaultMessage:"Add title"})},"add-title")},he=()=>{const{device:e}=D;if(!H||!V)return;return Boolean(W.hide_collection_view_page_description)?(0,J.jsx)(Z.Z,{isLightGray:!0,style:c,onClick:()=>S({environment:D,store:K,value:!1}),icon:l.z,children:e.isSmallPhone?(0,J.jsx)(u.FormattedMessage,{defaultMessage:"Description",id:"pageViewBlock.showDescription.mobileButton"}):(0,J.jsx)(u.FormattedMessage,{defaultMessage:"Show description",id:"pageViewBlock.showDescription.button"})}):(0,J.jsx)(Z.Z,{isLightGray:!0,style:c,onClick:()=>{S({environment:D,store:K,value:!0})},icon:l.z,children:(0,J.jsx)(u.FormattedMessage,{defaultMessage:"Hide description",id:"pageViewBlock.hideDescription.button"})})},ye=()=>{const{device:e}=D;if(R)return ee?(0,J.jsx)(Z.Z,{isLightGray:!0,style:c,onClick:Q,icon:l.z,children:(0,J.jsx)(u.FormattedMessage,{defaultMessage:"Hide description",id:"pageViewBlock.hideDescription.button"})}):V&&!A?(0,J.jsx)(Z.Z,{isLightGray:!0,style:c,onClick:se,icon:l.z,children:e.isSmallPhone?(0,J.jsx)(u.FormattedMessage,{defaultMessage:"Description",id:"pageViewBlock.addDescription.mobileButton"}):(0,J.jsx)(u.FormattedMessage,{defaultMessage:"Add description",id:"pageViewBlock.addDescription.button"})}):A?(0,J.jsx)(Z.Z,{isLightGray:!0,style:c,onClick:Y,icon:l.z,children:e.isSmallPhone?(0,J.jsx)(u.FormattedMessage,{defaultMessage:"Description",id:"pageViewBlock.showDescription.mobileButton"}):(0,J.jsx)(u.FormattedMessage,{defaultMessage:"Show description",id:"pageViewBlock.showDescription.button"})}):void 0};return(0,J.jsxs)(J.Fragment,{children:[function(){const{WindowSizeStore:n}=D,i=G?null:(0,J.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,J.jsx)(le.Z,{...e}),$&&(0,J.jsx)(ce.Z,{...e})]});return(0,J.jsxs)("div",{style:X,onMouseEnter:m,onMouseMove:m,onMouseLeave:h,children:[L,(0,J.jsx)(B.Z,{isVisible:!0,animationStyle:{width:q},render:()=>(0,J.jsxs)("div",{style:{maxWidth:"100%",paddingLeft:n.getSafePaddingLeftCSS(I)},children:[(0,J.jsxs)("div",{onFocus:ie,onBlur:re,style:{...C},className:"notion-page-controls",children:[E,ue(),he(),ye()]}),(0,J.jsxs)("div",{style:{paddingRight:n.getSafePaddingRightCSS(T),marginBottom:8},children:[i,(0,J.jsx)(me,{store:K}),"visible"===te.type&&(0,J.jsx)(oe,{disabled:!V,canEdit:t,locked:ne,pageId:K.id,toggleStore:O,descriptionStore:te.descriptionStore,collectionStore:te.collectionStore,userSettingsStore:te.currentUserSettingsStore}),(0,J.jsx)(de.V,{store:K,context:o,disabled:g},K.id)]})]})})]})}(),(0,J.jsx)(ge,{store:K,paddingLeft:I,paddingRight:T,context:o,disabled:g})]})}function ge(e){let{store:t,paddingLeft:o,paddingRight:n,context:i,disabled:r}=e;window.__c={n:"CollectionView"};const l=(0,s.O7)(),d=(0,a.VK)((()=>(0,C.nZ)(t,l)),[t,l]);return(0,J.jsx)(T.DZ,{overridePaddingLeft:o,overridePaddingRight:n,store:t,isFullScreen:!0,viewId:d,disabled:r,hideHeaderActions:i===I.S.InAppTemplatePreview})}function me(e){let{store:t}=e;window.__c={n:"SprintBoardDescription"};const o=(0,a.VK)((()=>pe(t)),[t]),n=(0,a.VK)((()=>Boolean(t.getFormat().hide_collection_view_page_description)),[t]);return o&&!n?(0,J.jsx)(ne,{}):null}const he=n.memo(ue,c.Z)},44862:(e,t,o)=>{o.d(t,{Z:()=>y});o(67294);var n=o(480),i=o(86628),s=o(24405),r=o(8848),a=o(60291),l=o(54497),d=o(9291),c=o(5149),p=o(41232),u=o(32363),g=o(16402),m=o(84076),h=o(85893);const y=function(e){let{collectionStore:t,collectionContextStore:o}=e;return window.__c={n:"SyncedCollectionIndicators"},(0,i.VK)((()=>t.isSyncedCollection()),[t])?(0,h.jsx)(v,{collectionStore:t,collectionContextStore:o}):null};function f(e){return{color:e.mediumTextColor,fontSize:14,lineHeight:1.2}}function S(e){let{collectionStore:t,collectionContextStore:o}=e;window.__c={n:"SyncStateComponent"};const p=(0,s.Fg)(),u=(0,n.O7)(),y=(0,i.VK)((()=>t.getFormatStore().getKeyStore("sync_state").getKeyStore("syncing").getValue()),[t]),S=(0,i.VK)((()=>t.getFormatStore().getKeyStore("sync_state").getKeyStore("last_synced_at").getValue()),[t]),v=(0,i.VK)((()=>null==o?void 0:o.numberChildrenUnfurled.state),[o]),x=(0,i.VK)((()=>null==o?void 0:o.numberChildrenReceived.state),[o]),b=v&&x&&v/x<1&&!u.device.isMobile,C=y&&u.device.isMobile;let k;return S&&(k=(0,h.jsx)(d.FormattedMessage,{defaultMessage:"Synced {lastSyncedAt}",id:"synced.lastSyncedAt.label",values:{lastSyncedAt:(0,g.IS)(S,{useLowercase:!0})}})),"row_limit_exceeded"===y?(0,h.jsx)(m.Z,{style:{display:"inline-flex",...f(p)},onClick:()=>function(e){e&&(c.r$({collectionContextStore:e,collectionSettingsStore:e.settingsStore}),c.H4({collectionSettingsStore:e.settingsStore,item:{type:"source"}}))}(o),children:(0,h.jsxs)("span",{style:{marginLeft:5,marginRight:5,display:"inline-flex",...f(p)},children:[(0,l.t)({fill:(0,r.fi)("orange",p).fill,marginLeft:4,marginRight:4,width:12,alignSelf:"center"}),(0,h.jsx)(d.FormattedMessage,{defaultMessage:"Partial Sync",id:"synced.partial_sync.label"})]})}):b||C?(0,h.jsxs)("span",{style:{marginLeft:5,marginRight:5,display:"inline-flex",...f(p)},children:[(0,h.jsx)(d.FormattedMessage,{defaultMessage:"Syncing",id:"synced.syncing.label"}),(0,a.b)({marginLeft:4,marginRight:4,width:12,alignSelf:"center"},"sync-spinner")]}):(0,h.jsx)("span",{style:{marginLeft:5,marginRight:5,display:"inline-flex",...f(p)},children:k})}function v(e){let{collectionStore:t,collectionContextStore:o}=e;window.__c={n:"SyncedCollectionIndicatorsComponent"};const n=(0,s.Fg)(),r=(0,i.VK)((()=>t.getFormatStore().getKeyStore("original_url").getValue()),[t]),a=(0,i.VK)((()=>t.getSpaceId()),[t]),l=(0,i.VK)((()=>Boolean(t.getFormatStore().getKeyStore("sync_state").getValue())),[t]),d=(0,i.VK)((()=>r&&(0,p.pI)(r,a)),[a,r]),c=(0,i.VK)((()=>(0,u.wY)(r,a)),[a,r]);return(0,h.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[d&&(0,h.jsx)(m.Z,{href:d,style:{display:"inline-flex"},hoveredStyle:{background:"none",textDecoration:"underline"},innerStyle:{flexShrink:1,width:"none",padding:"2px 0px",marginRight:5,borderRadius:4,display:"flex",alignItems:"center",alignSelf:"center",...f(n)},external:!0,children:c}),l?(0,h.jsx)("span",{style:{color:n.mediumTextColor},children:"•"}):null,l?(0,h.jsx)(S,{collectionStore:t,collectionContextStore:o}):null]})}},98272:(e,t,o)=>{o.d(t,{X:()=>a});o(67294);var n=o(24405),i=o(9291),s=o(68785),r=o(85893);function a(){window.__c={n:"ImportingMessage"};const e=(0,n.yK)((e=>({wrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:16,marginTop:"12vh"},message:{fontSize:14,marginTop:8,color:e.mediumTextColor}})),[]);return(0,r.jsxs)("div",{style:e.wrapper,children:[(0,r.jsx)(s.Z,{}),(0,r.jsx)("div",{style:e.message,children:(0,r.jsx)(i.FormattedMessage,{defaultMessage:"Importing…",id:"frame.importingMessage"})})]})}},61679:(e,t,o)=>{o.d(t,{$K:()=>L,Ar:()=>C,Cq:()=>F,bU:()=>T,cx:()=>K,hy:()=>B,i2:()=>E,kg:()=>D,mZ:()=>Z,rO:()=>O,us:()=>_});var n=o(94184),i=o.n(n),s=o(67294),r=o(60177),a=o(64338),l=o(24405),d=o(73420),c=o(97053),p=o(85893);const u="layout-wide",g="layout-wide-right-margin-expanded",m="layout-side-peek",h="layout-center-peek",y="layout-home",f="layout-home-phone",S="layout-phone",v="layout-tablet",x="layout-template-preview",b="layout-chat";function C(e){let{children:t,type:o,gap:n,withBottomPadding:s,style:r}=e;window.__c={n:"Layout"};const a=(0,c.Bt)(o);return(0,p.jsx)("div",{className:i()("layout",{[u]:"wide"===o,[g]:"wide-right-margin-expanded"===o,[m]:"side-peek"===o,[h]:"center-peek"===o,[y]:"home"===o,[f]:"home-phone"===o,[S]:"phone"===o,[v]:"tablet"===o,[x]:"template-preview"===o,[b]:"chat"===o}),style:{paddingBottom:s?a:void 0,gap:n,...r},children:t})}const k="layout-content",M="layout-full",w="layout-margin-left",j="layout-margin-right",P="layout-nested-grid",V="layout-margin-scrollable",_="hide-scrollbar",I="layout-column";function T(e){return(0,p.jsx)("div",{className:i()(k,e.className),style:e.style,children:e.children})}function B(e){return(0,p.jsx)("div",{className:M,style:e.style,children:e.children})}function Z(e){return(0,p.jsx)("div",{className:w,children:e.children})}function L(e){return(0,p.jsx)("div",{className:j,children:e.children})}const K=(0,s.forwardRef)((function(e,t){return(0,p.jsx)("div",{className:i()(P,e.className),onClick:e.onClick,style:e.style,role:e.role,id:e.id,"aria-labelledby":e["aria-labelledby"],ref:t,children:e.children})}));function E(e){return(0,p.jsx)("div",{className:i()(P,V,{[_]:e.hideScrollbar}),style:e.style,children:(0,p.jsx)(T,{children:e.children})})}function D(e){let{items:t,style:o}=e;window.__c={n:"LayoutTabs"};const[n,i]=s.useState(0),c=(0,s.useRef)([]),u=(0,r.Dl)();(0,a.q7)(null==u?void 0:u.domLock);const g=(0,l.yK)((e=>({icon:{width:16,height:16,fill:"currentColor"},label:{fontSize:14,fontWeight:600},tab:"centered"===o?{cursor:"pointer",border:"none",padding:"6px 12px",borderRadius:20,color:e.text.secondary,background:"none"}:{cursor:"pointer",border:"none",borderBottom:"2px solid",borderColor:"transparent",padding:"6px 8px 12px",color:e.text.secondary,background:"none"},tabSelected:"centered"===o?{color:e.text.primary,background:e.tint.regular}:{color:e.text.primary,borderColor:e.regularTextColor}})),[o]),m=(0,s.useId)(),h=(0,s.useCallback)((e=>`${m}-tab-${e}`),[m]),y=(0,s.useCallback)((e=>`${m}-tabpanel-${e}`),[m]),f=(0,s.useCallback)((e=>{let o;var s;("ArrowLeft"===e.key?(e.preventDefault(),o=(n+t.length-1)%t.length):"ArrowRight"===e.key&&(e.preventDefault(),o=(n+1)%t.length),void 0!==o)&&(i(o),null===(s=c.current[o])||void 0===s||s.focus())}),[n,t.length]);return(0,p.jsxs)(K,{children:[(0,p.jsx)(T,{children:(0,p.jsx)("div",{role:"tablist",children:(0,p.jsx)(d.X2,{justifyContent:"centered"===o?"center":"flex-start",children:t.map(((e,t)=>{var o;return(0,p.jsx)("button",{ref:e=>{e&&(c.current[t]=e)},id:h(t),role:"tab","aria-controls":y(t),"aria-selected":t===n,tabIndex:t===n?void 0:-1,onKeyDown:f,style:{...g.tab,...t===n&&g.tabSelected},onClick:e=>{e.stopPropagation(),i(t)},children:(0,p.jsxs)(d.X2,{gap:4,alignItems:"center",children:[null===(o=e.icon)||void 0===o?void 0:o.call(e,g.icon),e.label&&(0,p.jsx)("div",{style:g.label,children:e.label})]})},e.key)}))})})}),(0,p.jsx)(K,{id:y(n),role:"tabpanel","aria-labelledby":h(n),children:t[n]?t[n].children:null})]})}function O(e){return(0,p.jsx)("div",{className:I,style:{"--min-column-width":`${e.minWidth}px`,...e.style},children:e.children})}function F(e){return(0,p.jsxs)(O,{minWidth:e.minWidth,children:[e.left,e.right]})}},11803:(e,t,o)=>{o.d(t,{D:()=>g,p:()=>m});o(67294);var n=o(480),i=o(86628),s=o(51454),r=o(50627),a=o(68709),l=o(23063),d=o(65496),c=o(97053),p=o(61679),u=o(85893);function g(e){window.__c={n:"PageCoverModule"};const{store:t,isEditable:o,paddingX:s,pageCoverHeight:r,onMouseEnter:g,onMouseMove:h,onMouseLeave:y}=e,f=(0,n.O7)(),S=(0,i.VK)((()=>t.isCollectionView()?"20vh":r),[r,t]),v=(0,i.VK)((()=>f.WindowSizeStore.getSafePaddingLeftCSS(s)),[f.WindowSizeStore,s]),x=(0,i.VK)((()=>f.WindowSizeStore.getSafePaddingRightCSS(s)),[f.WindowSizeStore,s]),b=(0,i.VK)((()=>f.WindowSizeStore.state.width),[f.WindowSizeStore]),C=(0,c.WJ)(t),k=(0,i.VK)((()=>m(t,f)),[f,t]);return(0,u.jsx)(p.hy,{children:(0,u.jsx)(l.Z,{isVisible:!0,animationStyle:{translateX:C},render:()=>(0,u.jsx)(a.p,{allowSelectionWithin:!1,style:k,onMouseEnter:g,onMouseMove:h,onMouseLeave:y,children:(0,u.jsx)(d.Z,{height:S,store:t,disabled:!o,paddingLeft:v,paddingRight:x,proxyWidth:b})})})})}function m(e,t){const o=(0,r.kC)(e,t);return o.zIndex=s.ag,o}},6779:(e,t,o)=>{o.d(t,{s:()=>V});var n=o(67294),i=o(480),s=o(86628),r=o(43250),a=o(11599),l=o(50627),d=o(65598),c=o(68709),p=o(97053),u=o(61679),g=o(1302),m=o(23867),h=o(98104),y=o(82530),f=o(18821),S=o(34047),v=o(82994),x=o(77907),b=o(46351),C=o(82136),k=o(85893);const M=e=>{window.__c={n:"NewPageDiscussion"};const{store:t}=e,o=(0,i.O7)(),s=(0,n.useMemo)((()=>new v.Z(o,(0,m.C)(t.pointer.spaceId))),[o,t.pointer.spaceId]),r=(0,n.useCallback)((()=>{h.ZH(o)}),[o]),a=w({environment:o,discussionInputStore:s,store:t});return(0,k.jsx)(x.LazyDiscussionInput,{showAvatar:!0,parentStore:t,onSubmit:a,onCancel:r,discussionInputStore:s,discussionFormat:S.O2.Page,isMobileSlideUpMenu:!1,shouldSaveUnsentComments:!0,canDrop:!0,blockStore:t})},w=e=>{const{environment:t,discussionInputStore:o,store:i}=e,r=(0,s.qz)(void 0,C.Z),a=(0,n.useCallback)((e=>{var o;const n=i.id;null===(o=t.PageDetailsStore)||void 0===o||o.setToggleState({environment:t,type:"discussion",id:n},e)}),[t,i.id]);return(0,n.useCallback)((async()=>{const e=o.state.textStore.getValue(),n=o.state.files;if(e&&e.length>0||n.length>0){const{performResult:s}=y.createAndCommit({userAction:"PageDiscussion.useSubmitNewDiscussion",environment:t,perform:o=>f.i8({environment:t,blockStore:i,commentTextValue:e||[],transaction:o,files:n}),skipUpdatingEditedMetadata:!0});if(o.reset(),r.setState({...r.state,forceDiscussionOpen:!1}),a(!0),s&&!t.device.isMobile){await g.default.afterNextFlush();const e=b.Z.find((e=>e.getStore().id===s.id));e&&h.NX({store:e.getInputStore().state.textStore})}}}),[o,t,r,a,i])},j=e=>{window.__c={n:"UnresolvedPageDiscussion"};const{store:t,discussionStore:o,isFirst:s,isOnly:r}=e,a=(0,i.O7)(),l=(0,n.useMemo)((()=>new v.Z(a,(0,m.C)(t.pointer.spaceId))),[a,t.pointer.spaceId]);return(0,k.jsx)(x.LazyDiscussion,{store:o,format:S.O2.Page,isFirst:s,isOnly:r,discussionLocation:"page_discussion",showResolveButtonByDefaultIfPossible:!1,blockStore:t,discussionInputStore:l},o.id)},P=e=>{const{store:t,showDiscussionInput:o,unresolvedDiscussionStores:n}=e;return(0,k.jsxs)("div",{style:{width:"100%",margin:"0 auto"},onMouseDown:p.m4,onClick:p.h9,className:r.KA2,children:[n.map(((e,o,n)=>(0,k.jsx)(j,{store:t,discussionStore:e,isFirst:0===o,isOnly:1===n.length},e.id))),o&&(0,k.jsx)("div",{style:{padding:"6px 4px 12px"},children:(0,k.jsx)(M,{store:t})})]})};function V(e){window.__c={n:"PageDiscussionsModule"};const{store:t,didClickAddDiscussion:o}=e,n=(0,i.O7)(),r=(0,s.VK)((()=>{const e={type:"hidden"},i=d.vV(t,{recursivelyLoadAllDiscussions:!1}),s=0===i.length,r="PageDetailsStore"in n&&n.PageDetailsStore.getToggleState({environment:n,type:"discussion",id:t.id}),c=a.A$("comments","section_hide");if(!o&&(!t.isInsideCollection()||!s)&&(s||!s&&(!1===r||void 0===r&&c)))return e;if(c)return e;const p=n.currentUser.isLoggedIn()&&t.canComment()&&s&&!(0,l.a_)(t);return!p&&s?e:{type:"visible",showDiscussionInput:p,unresolvedDiscussionStores:i}}),[t,n,o]);return"hidden"===r.type?null:(0,k.jsx)(u.bU,{className:"layout-content-with-divider",children:(0,k.jsx)(c.p,{allowSelectionWithin:!0,children:(0,k.jsx)(P,{...r,withLegacyInputPadding:!0,store:t})})})}},45373:(e,t,o)=>{o.d(t,{H:()=>ne});var n=o(67294),i=o(60177),s=o(64338),r=o(480),a=o(86628),l=o(99747),d=o(51454),c=o(57819),p=o(19977),u=o(92650),g=o(43250),m=o(50627),h=o(73819),y=o(16772),f=o(82136),S=o(68785),v=o(29551),x=o(55217),b=o(31192),C=o(83355),k=o(15145),M=o(49271),w=o(9291),j=o(81193),P=o(98834),V=o(8055),_=o(59389),I=o(82530),T=o(10906),B=o(66213),Z=o(27105),L=o(24098),K=o(19124),E=o(84210),D=o(12534),O=o(17504),F=o(77907),R=o(80444),A=o(88632),N=o(83212),W=o(34583),H=o(64921),z=o(24405),U=o(36596),$=o(85893);function G(){window.__c={n:"TemplatePickerShimmer"};const e=(0,z.yK)((()=>({menu:{display:"flex",alignItems:"center",marginBottom:5},icon:{marginLeft:5,width:26,height:26,marginRight:10,borderRadius:4},menuItem:{height:14,marginTop:8,marginBottom:8,width:"25%",borderRadius:8}})),[]);return(0,$.jsx)($.Fragment,{children:[...Array(6)].map(((t,o)=>(0,$.jsxs)("div",{style:e.menu,children:[(0,$.jsx)(U.Z,{style:e.icon}),(0,$.jsx)(U.Z,{style:e.menuItem})]},o)))})}const X={width:"100%"},q={width:"100%",display:"flex",flexDirection:"column",marginBottom:"14vh"};class Q extends C.Z{constructor(){super(...arguments),this.publicEditModeStore=this.createComputedStore((()=>N.Z.getMode(this.environment,this.props.store))),this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleCreateDatabaseTemplateClick=e=>function(e,t,o,n){const i=o.getAssociatedCollectionStore();if(!i)return;if(W.M_(t)){const{performResult:o}=I.createAndCommit({userAction:"TemplatePicker.newPage",environment:t,perform:o=>P.nx({environment:t,collectionStore:i,transaction:o,useCrdt:(0,Z.SL)({event:e,source:"collection_instantiate_template"})})});o&&function(e,t,o){const{mainEditorCurrentBlockStore:n}=R.default.state,i=n?(0,E.ZP)({store:n,peekViewBlockId:e.id,fullyQualified:!1,pageVisitSource:k.tY.LinkInPage}):(0,E.ZP)({store:e,fullyQualified:!1,pageVisitSource:k.tY.LinkInPage});!function(e,t,o){o?o(e):V.c4({environment:t,url:e})}(i,t,o)}(o,t,n),j.dZ(t,{collection_id:i.id})}}(e,this.environment,this.props.store,this.context.overrideLinkClick)}UNSAFE_willMount(e){super.UNSAFE_willMount(e),e.menuListStore.reset()}renderComponent(){const e=A.Z.state.online;return(0,$.jsx)(L.Z,{capture:!0,render:t=>(0,O.Z)((o=>(0,$.jsxs)("div",{...t,...o,style:q,children:[this.renderPlaceholder(),e&&(0,$.jsx)(F.LazyTemplatePickerTemplateList,{...this.props,renderLoading:()=>(0,$.jsx)(G,{})})]})))})}renderPlaceholder(){const e=this.renderPlaceholderMessage();return e?(0,$.jsx)("div",{style:X,children:(0,$.jsx)("div",{style:(t=this.theme,{...M.ZD,color:t.lightTextColor,paddingTop:5,paddingBottom:24}),onClick:e=>function(e,t,o){(0,D.ZP)({event:e,context:D.Af.EditorClick,callback:()=>{W.M_(o)&&(I.createAndCommit({userAction:"TemplatePicker.handleEmptyPageContinueClick",environment:o,perform:e=>{_.eV({environment:o,store:t,transaction:e})}}),j.rN(o,{template_name:"empty",is_keyboard:!1}))}})}(e,this.props.store,this.environment),children:e})}):void 0;var t}renderPlaceholderMessage(){const{device:e}=this.environment,t=this.props.store.isTemplate(),o=A.Z.state.online,n=(i=this.props.store,Boolean(i.getAssociatedCollectionStore()));var i;const s=function(e){const t=e.getAssociatedCollectionStore(),o=t?t.getTemplatePageStores():void 0;return o&&o.length>0}(this.props.store),r=n&&!s;return o?t?(0,$.jsx)(w.FormattedMessage,{defaultMessage:"{isMobileDevice, select, true {Tap here to continue with an empty page.} other {Press Enter to continue with an empty page.}}",id:"templatePicker.isTemplate.emptyPagePrompt",values:{isMobileDevice:e.isMobile}}):e.isMobile?r?(0,$.jsx)(w.FormattedMessage,{defaultMessage:"{isParentLocked, select, true {Tap here to continue with an empty page} other {Tap here to continue with an empty page, or <templatebutton>create a template</templatebutton>}}",id:"templatePicker.mobileCollectionEmptyPage.prompt",values:{isParentLocked:!J(this.props.store),templatebutton:e=>(0,$.jsx)(H.Z,{style:{display:"inline-block",textDecoration:"underline"},onClick:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleCreateDatabaseTemplateClick,children:e})}}):e.isTablet?(0,$.jsx)(w.FormattedMessage,{defaultMessage:"Tap here to continue with an empty page, or pick a template",id:"templatePicker.mobileTabletEmptyPage.withTemplates.prompt"}):(0,$.jsx)(w.FormattedMessage,{defaultMessage:"Tap here to continue...",id:"templatePicker.mobilePhoneEmptyPage.withTemplates.prompt"}):r?(0,$.jsx)(w.FormattedMessage,{defaultMessage:"{isParentLocked, select, true {Press Enter to continue with an empty page} other {Press Enter to continue with an empty page, or <templatebutton>create a template</templatebutton>}}",id:"templatePicker.webCollectionEmptyPage.prompt",values:{isParentLocked:!J(this.props.store),templatebutton:e=>(0,$.jsx)(H.Z,{style:{display:"inline-block",textDecoration:"underline"},onClick:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleCreateDatabaseTemplateClick,children:e})}}):!(0,K.GD)(this.publicEditModeStore.state)||n?(0,$.jsx)(w.FormattedMessage,{defaultMessage:"Press Enter to continue with an empty page, or pick a template (↑↓ to select)",id:"templatePicker.webEmptyPage.withTemplates.prompt"}):void 0:(0,$.jsx)(w.FormattedMessage,{defaultMessage:"{isMobileDevice, select, true {Tap here to continue with an empty page. Please go online to use templates.} other {Press Enter to continue with an empty page. Please go online to use templates.}}",id:"templatePicker.deviceOffline.goOnlinePrompt",values:{isMobileDevice:e.isMobile}})}}Q.displayName="TemplatePicker",Q.contextTypes={...B.wK,...C.w};const Y=(0,w.injectIntl)(Q);function J(e){const t=e.getAssociatedCollectionStore(),o=t&&t.getParentBlockStore();return T.eD({collectionStore:t,collectionViewBlockStore:o,checkNavigableAncestorLocked:!0})}var ee=o(97053),te=o(61679);const oe=(0,n.forwardRef)((function(e,t){let{context:o,disabled:p,onClick:u,store:v,templatePickerMenuListStore:C}=e;window.__c={n:"PageEditor"};const k=(0,r.O7)(),{device:M}=k,w=(0,i.Dl)();(0,s.q7)(null==w?void 0:w.domLock);const j=(0,ee.Nr)(v),P=(0,ee.xC)(v,o),V=(0,ee.Qg)(v),_=(0,a.VK)((()=>v.isLocked()||p),[v,p]),I=(0,a.VK)((()=>v.getFormat()),[v]),T=(0,a.VK)((()=>Boolean((0,c.RR)(y.default.state))),[]),B=(0,a.VK)((()=>(0,m.CX)(v)),[v]),Z=(0,h.PE)(v,p),L=(0,r.MO)(),K=(0,a.VK)((()=>v.isCollectionView()),[v]),E=(0,a.VK)((()=>v.hasCover()),[v]),D=(0,n.useMemo)((()=>{const e=I.page_font||b.rk,t=b.VN[e],n=b.n5[e]||1.5;let i;if(M.isMobile)i=M.isAndroid?b.pE:b.tb;else{i=I.page_small_text?b.Pc[e]||b.ZY:b.TE[e]||b.jo}let s={},r={};B&&(0,m.OZ)(o)&&!P&&!j||(r=T?{paddingBottom:"600px"}:B?{paddingBottom:"15vh"}:{paddingBottom:0},s={...r,paddingLeft:0,paddingRight:0});let a={};(0,m.OZ)(o)&&(a={minHeight:240,zIndex:1});let c={};o===f.S.InAppTemplatePreview&&(c={margin:"0 auto"});let p={};if(L&&!K&&Z&&!E){const e=132,t=(0,b.Wc)(o,k);p={minHeight:`calc(100vh - ${l.g+e-t}px)`}}return{flexShrink:0,flexGrow:1,maxWidth:"100%",display:"flex",alignItems:"flex-start",flexDirection:"column",fontFamily:b.sL[e],fontSize:i,letterSpacing:t?`${t}em`:void 0,lineHeight:n,width:"100%",zIndex:d.ke,...s,...a,...c,...p}}),[E,K,L,B,Z,o,M.isAndroid,M.isMobile,k,I.page_font,I.page_small_text,T,j,P]);return(0,$.jsxs)("div",{className:g.QS0,onClick:u,style:D,ref:t,children:[!V&&(0,$.jsx)(x.Z,{store:v.getContentStore(),emptyDroppableStyle:{width:"100%"},disabled:_}),j&&(0,$.jsx)(S.Z,{}),C&&P&&(0,$.jsx)(Y,{store:v,menuListStore:C})]})})),ne=(0,n.forwardRef)(((e,t)=>{window.__c={n:"PageEditorModule"};const{context:o,disabled:n,handlePlaceholderWrapClick:i,pageBlockStore:s,pathToBlockId:l,templatePickerMenuListStore:d,pageViewBlockAccessor:c}=e,g=(0,r.O7)(),h=(0,a.VK)((()=>l?(0,v.Vg)({environment:g,pageBlockStore:s,pathToBlockId:l}):s),[g,s,l]),y=(0,a.VK)((()=>(0,u.fg)(g,s)),[g,s]),f=(0,a.VK)((()=>(0,m.CX)(s)),[s]);return(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(te.bU,{className:"layout-editor",style:{minHeight:"170px"},children:(0,$.jsx)(oe,{store:h,disabled:n,context:o,templatePickerMenuListStore:d,onClick:f?i:void 0,ref:t})}),y&&c?(0,$.jsx)(te.$K,{children:(0,$.jsx)(p.Z,{pageBlockStore:s,isVisible:!0,context:o,pageViewBlockAccessor:c,isCollapsedAnchor:!0})}):null]})}))},5618:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(67294),i=o(480),s=o(86628),r=o(41432),a=o(43593),l=o(9291),d=o(9953),c=o(23728),p=o(82530),u=o(95477),g=o(28020),m=o(31278),h=o(85893);const y=n.memo((e=>{let{store:t,isEditable:o,hasCover:y,isInSidePeek:f,openMenuOnMount:S,openMenuOnMountCallback:v}=e;window.__c={n:"PageIcon"};const x=(0,i.O7)(),b=(0,l.useIntl)(),C=(0,s.VK)((()=>t.hasIcon()),[t]),k=(0,s.VK)((()=>{if(C)return t.getIcon()}),[C,t]),M=(0,s.VK)((()=>t.getIconStore()),[t]),w=(0,s.VK)((()=>t.getType()),[t]),j=(0,s.VK)((()=>{if(t.isCollectionView()){const e=t.getCollectionViewSourceCollectionStore();return!!e&&e.isSyncedCollection()}return t.isType(r.Ti.externalObjectInstancePage)}),[t]),P=(0,s.VK)((()=>t.isCollectionView()||f),[t,f]),V=(0,s.VK)((()=>P?36:j?74:140),[P,j]),_=(0,s.VK)((()=>t.isEmptyPage()),[t]),I=(0,n.useCallback)((async e=>{const o=t.getIconStore();if(o){const n=(0,a.Wv)(e,u.default.secureFileS3.url,u.default.secureFileS3V2.url,u.default.secureFileConfig.rootPath,u.default.secureFileConfig.hostname),i=n?n.link:e,{serverCommitResult:s}=p.createAndCommit({userAction:"PageIcon.handleChange",environment:x,perform:e=>{d.sO({store:o,value:i,transaction:e})}});await s,c.P({store:t,environment:x})}}),[x,t]);if(!C)return null;const T={position:"relative",zIndex:1,marginLeft:3,marginBottom:x.device.isMobile?8:0,marginTop:4,pointerEvents:"auto"};let B;P?T.marginRight=6:T.marginTop=y?-80:x.device.isMobile?0:(0,g.CP)(x),B=P?{marginTop:(x.device.isMobile,4),marginRight:8}:{marginTop:y?-42:x.device.isMobile?0:(0,g.CP)(x)};const Z=P?36:78;if(o){const e=null==M?void 0:M.table;return(0,h.jsx)(m.Z,{disabled:!1,bucket:"secure",icon:k,store:t,isEmptyPage:_,onChange:I,size:V,emojiSize:Z,style:T,emojiStyle:B,largeIcon:!0,openMenuOnMount:S,openMenuOnMountCallback:v,iconLoggingData:{recordTable:e,source:"page_header",block_type:w,collection_id:"collection"===e?null==M?void 0:M.id:void 0},label:b.formatMessage({id:"layout.pageIcon.label",defaultMessage:"Change page icon"})})}return(0,h.jsx)(m.Z,{disabled:!0,icon:k,isEmptyPage:_,size:V,emojiSize:Z,style:T,emojiStyle:B,largeIcon:!0,label:b.formatMessage({id:"layout.pageIcon.disabledLabel",defaultMessage:"Page icon"})})}))},22735:(e,t,o)=>{o.d(t,{V:()=>A});var n=o(67294),i=o(86628),s=o(50627),r=o(73819),a=o(19671),l=o(82136),d=o(13023),c=o(68709),p=o(480),u=o(24405),g=o(80951),m=o(6695),h=o(42875),y=o(72126),f=o(9291),S=o(82356),v=o(27714),x=o(4615),b=o(893),C=o(63296),k=o(95477),M=o(77080),w=o(62878),j=o(13555),P=o(85893);const V=(0,f.defineMessages)({linkCopied:{defaultMessage:"Link copied. Share it with others who may find this useful.",id:"ai.gtmFavoriteActions.linkCopied"},share:{defaultMessage:"Share as AI favorite",id:"ai.gtmFavoriteActions.share"},add:{defaultMessage:"Add to AI favorites",id:"ai.gtmFavoriteActions.add"}});function _(e){window.__c={n:"GtmFavoriteButtons"};const{blockId:t}=e,o=(0,p.O7)(),i=(0,f.useIntl)(),s=(0,n.useCallback)((()=>{(0,w.importGtmFavorite)({environment:o,importArgs:{name:"aiGtmFavoriteImport",blockId:t}})}),[t,o]),r=(0,n.useCallback)((()=>{const e=`${k.default.domainBaseUrl}/ai-gtm/${(0,x.cj)(t)}`;b.RD({environment:o,stringValue:e,copiedMessage:V.linkCopied})}),[t,o]);return(0,P.jsxs)("div",{style:{marginTop:12,marginBottom:12},children:[(0,P.jsx)(C.Z,{onClick:r,icon:v.N,children:i.formatMessage(V.share)}),o.currentUser.isLoggedIn()&&(0,P.jsx)(C.Z,{onClick:s,style:{marginLeft:12},icon:S.l,children:i.formatMessage(V.add)})]})}var I=o(28651),T=o(35314),B=o(85526),Z=o(50478),L=o(41883),K=o(12867),E=o(65091);const D=5;function O(e){window.__c={n:"PagePropertiesSection"};const{collectionStore:t,schema:o,store:s,format:r,propertyIds:a,variant:l}=e,d=(0,f.useIntl)(),c=(0,p.O7)(),[S,v]=(0,T.e)(),x=(0,i.qz)(void 0,I.Z),b=(0,u.yK)((e=>({pageProperties:{width:"100%",fontSize:14},dragHandle:{marginLeft:-(Z.C$+10),marginRight:6},hidePropertiesButton:{margin:"0 0 10px"},showMoreButton:{margin:0},addPropertyButton:{margin:"4px 0 0"},moreProperties:{border:`1px solid ${"dark"===e.mode?e.accentColors.gray[300]:e.accentColors.gray[75]}`,borderRadius:4,padding:"8px 6px"}})),[]),C=(0,i.VK)((()=>"pinned"===l||Boolean(s.isAssociatedCollectionAPageTree())),[s,l]),k=(0,n.useMemo)((()=>(a?a.map((e=>({property:e,visible:!0}))):void 0)??(r.collection_page_properties||[]).filter((e=>{var t;return null===(t=r.collection_page_sections)||void 0===t||!t.some((t=>t.section===e.property&&("inline"===t.visibility||"minimal"===t.visibility)))}))),[r.collection_page_properties,r.collection_page_sections,a]),w=(0,i.VK)((()=>{const e=s.getModel(),n="on"===M.default.getGroup("default-new-page-property-to-hide-when-empty")?m.iB(r,o,void 0,m.j5.Collection):t.getFormat(),i=n&&n.property_visibility;if(i){return k.map((t=>{var n;return{visibility:"show",hasValue:!Boolean(e&&g.wV({block:e,property:t.property,schema:o,getRecordModel:s.getRecordModel,userId:c.currentUser.id,userTimeZone:(0,h.r)(),intl:d})),name:(null===(n=o[t.property])||void 0===n?void 0:n.name)??"",...t,...i.find((e=>e.property===t.property))}}))}return k?k.map((e=>{var t;return{...e,visibility:"show",hasValue:Boolean(s.getPropertyValue(e.property)),name:(null===(t=o[e.property])||void 0===t?void 0:t.name)??""}})):[]}),[s,r,o,t,k,d,c.currentUser.id]),V=(0,i.VK)((()=>B.Z.state.forceShowProperties),[]),[O,F]=(0,n.useMemo)((()=>y.uK(w,(e=>{var t;return!!(null===(t=o[e.property])||void 0===t?void 0:t.type)&&function(e){if("section"===e.visibility)return!1;if("hide"===e.visibility)return!1;if("hide_if_empty"===e.visibility&&!e.hasValue)return!1;return!0}(e)}))),[w,o]),R=function(e){const t=(0,i.VK)((()=>{if(!M.default.checkGate("ai_favorites"))return!1;const t=(0,j.OF)();return!!t&&t.spaceId===e.getSpaceId()&&t.collectionId===e.id}),[e]);return t}(t),A=O.concat(F),[N,W]=(0,n.useState)({open:!1,query:""}),{paddingLeft:H,paddingRight:z,width:U}=e,$=v<Math.min(D,O.length)*K.Uv;let G;return G=!C||c.device.isMobile||$?(0,P.jsxs)("div",{style:{paddingBottom:8},children:[(0,P.jsx)(L.Z,{...e,showHiddenProperties:V,mergedProperties:C?A:w,propertySearchState:N}),(0,P.jsx)(E.ZP,{...e,mergedProperties:C?A:w,propertySearchState:N,setPropertySearchState:W})]}):(0,P.jsx)(K.ZP,{...e,rowLength:D,compactProperties:O,hiddenProperties:F,variant:l}),(0,P.jsx)("div",{style:b.pageProperties,onMouseEnter:()=>{x.setState({...x.state,mouseEntered:!0})},onMouseLeave:()=>{x.setState({...x.state,mouseEntered:!1})},ref:S,children:(0,P.jsx)("div",{style:{paddingLeft:H,paddingRight:z,width:U,maxWidth:"100%",padding:C?"pinned"===l?"0 0 10px 0":"10px 0":"8px 0",margin:"0 auto"},children:(0,P.jsxs)("div",{style:{paddingLeft:H,paddingRight:z,width:U,maxWidth:"100%",paddingTop:"8px",margin:"pinned"===l?"0 auto 20px auto":"0 auto"},children:[G,R&&(0,P.jsx)(_,{blockId:s.id})]})})})}var F=o(61679);function R(e){window.__c={n:"PageProperties"};const{store:t,format:o,collectionStore:n,disabled:s,blockPropertyValueOverlayStore:r,isInPeekRenderer:a,variant:l,propertyIds:d}=e,c=(0,i.VK)((()=>n.getSchema()),[n]),p=(0,i.VK)((()=>t.isLocked()),[t]);return(0,P.jsx)(O,{store:t,collectionStore:n,schema:c,format:o,disabled:s,locked:p,width:"100%",blockPropertyValueOverlayStore:r,isInPeekRenderer:a,propertyIds:d,variant:l})}function A(e){window.__c={n:"PagePropertiesModule"};const{store:t,context:o,disabled:n,variant:p,propertyIds:u}=e,g=(0,r.PE)(t,n),m=(0,i.VK)((()=>{if(t.isCollectionViewPageWithContent())return{type:"hidden"};const e=t.getAssociatedCollectionStore();if(!e)return{type:"hidden"};const o=(0,s.y6)(t);return o?{type:"visible",store:t,format:o,collectionStore:e}:{type:"hidden"}}),[t]);if("hidden"===m.type)return null;const h=o===l.S.PeekView;return(0,P.jsx)(F.bU,{className:"pinned"===p?void 0:"layout-content-with-divider",children:(0,P.jsx)(c.p,{allowSelectionWithin:!0,children:(0,P.jsx)(R,{...m,disabled:!g,isInPeekRenderer:h,blockPropertyValueOverlayStore:h?d.Z:a.Z,propertyIds:u,variant:p})})})}},89534:(e,t,o)=>{o.d(t,{_:()=>y});o(67294);var n=o(86628),i=o(24405),s=o(82990),r=o(73819),a=o(19671),l=o(82136),d=o(13023),c=o(97039),p=o(78030),u=o(68709),g=o(97820),m=o(61679),h=o(85893);function y(e){window.__c={n:"PagePropertyModule"};const{store:t,context:o,propertyId:y,disabled:f}=e,S=(0,r.PE)(t,f),v=(0,n.VK)((()=>{if(t.isCollectionViewPageWithContent())return{type:"hidden"};const e=t.getAssociatedCollectionStore();return e?{type:"visible",store:t,collectionStore:e,propertyId:y}:{type:"hidden"}}),[y,t]),x=(0,n.VK)((()=>{var e;return null===(e=v.collectionStore)||void 0===e?void 0:e.getSchema()[y]}),[v.collectionStore,y]),b=(0,n.VK)((()=>t.isLocked()),[t]),C=(0,i.yK)((e=>({propertyName:{color:e.mediumTextColor,fontSize:s.Z.fontSize.UIRegular.desktop,fontWeight:s.Z.fontWeight.regular,marginTop:16,marginBottom:16}})),[]);if(!x)return null;if("hidden"===v.type)return null;const k=o===l.S.PeekView;return(0,h.jsx)(m.bU,{className:"layout-content-with-divider",children:(0,h.jsx)(u.p,{allowSelectionWithin:!0,children:(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:16},children:["relation"!==x.type?(0,h.jsx)(g.Z,{propertySchema:x,showIcon:!0,style:C.propertyName,property:y}):null,(0,h.jsx)(c.Z,{store:t,property:y,disabled:!S,locked:b,format:p.C.PropertyModule,tableWrap:!0,blockPropertyValueOverlayStore:k?d.Z:a.Z,collectionStore:v.collectionStore,isInPeekRenderer:k},y)]})})})}},35943:(e,t,o)=>{o.d(t,{Z:()=>E});var n=o(67294),i=o(13991),s=o(480),r=o(97511),a=o(86628),l=o(24405),d=o(49271),c=o(41432),p=o(42509),u=o(42875),g=o(27714),m=o(82990),h=o(9291),y=o(12714),f=o(41232),S=o(33929),v=o(46654),x=o(94841),b=o(24646),C=o(21273),k=o(79797),M=o(99757),w=o(68709),j=o(15560),P=o(73063),V=o(84076),_=o(26388),I=o(19987),T=o(79954),B=o(44862),Z=o(21407),L=o(85893);function K(e){window.__c={n:"SyncedIndicators"};const{store:t,collectionContextStore:o}=e,n=(0,a.VK)((()=>t.isCollectionView()),[t]),i=(0,a.VK)((()=>t.getCollectionViewSourceCollectionStore()),[t]);return n&&o&&i?(0,L.jsx)(B.Z,{collectionStore:i,collectionContextStore:o}):null}const E=n.memo((e=>{let{store:t,disabled:o,isInSidePeek:n,extraStyles:B,paddingLeft:E,paddingRight:D,titlePlaceholder:O,collectionContextStore:F,shouldShowTemplatePicker:R,onTitleChange:A,onTitleEditText:N,onTitleEsc:W,onTitleUntab:H,onTitleTab:z}=e;window.__c={n:"PageTitle"};const U=(0,s.O7)(),$=(0,r.l)(),G=(0,a.VK)((()=>t.getTitleStore()),[t]),X=(0,a.VK)((()=>{if(t.isCollectionView()){const e=t.getCollectionViewSourceCollectionStore();return!!e&&e.isSyncedCollection()}return t.isType(c.Ti.externalObjectInstancePage)}),[t]),q=(0,a.VK)((()=>{if(o)return!1;if(M.n.state)return!1;const e=$&&$.publicEditModeStore.state;return!(0,v.YF)(e)&&t.canEditCollection()}),[o,$,t]),Q=(0,a.VK)((()=>{if(!t.isCollectionView())return!1;const e=t.getCollectionViewSourceCollectionStore();return!!e&&(0,p.OY)(e.getValue())}),[t]),Y=(0,a.VK)((()=>{const e=t.getModel();return O??(null==e?void 0:e.getEmptyTitlePlaceholder({getRecordModel:t.getRecordModel,userTimeZone:(0,u.r)(),intl:S.default.getIntl()}))}),[t,O]),J=!U.device.isMobile&&n,ee=(0,a.VK)((()=>q&&!t.isLocked()&&!X&&!(0,x.Kj)(t.id)),[q,X,t]),te=(0,a.VK)((()=>t.isEmptyPage()),[t]),oe=(0,a.VK)((()=>t.isTemplate()),[t]),ne=(0,a.VK)((()=>t.getAssociatedCollectionTemplateStores()),[t]),ie=(0,a.VK)((()=>t.getSyncedUri()),[t]),se=(0,a.VK)((()=>t.shouldShowBetaTagForProjectManagementLaunch()),[t]),re=function(e){const{store:t,paddingLeft:o,paddingRight:n,isInSidePeek:r,shouldShowBetaTagForProjectManagementLaunch:c,extraStyles:p}=e,u=(0,s.O7)(),g=(0,a.VK)((()=>t.getFormat()),[t]),h=(0,a.VK)((()=>t.isCollectionView()),[t]),y=(0,a.VK)((()=>(0,b.$3)(u)),[u]),f=(0,a.VK)((()=>(0,b.vJ)(u)),[u]),S=(0,a.VK)((()=>t.getAppContainerBlockStore()),[t]),v=(0,a.VK)((()=>t.isExternalObjectInstancePageBlockStore()),[t]);return(0,l.yK)((e=>{const t=!!g.page_small_text||u.device.isMobile||h||r?32:40,s=y+f-o-n;return{title:{...d.ZD,width:v||c?"fit-content":"100%"},selectable:{color:e.regularTextColor,fontWeight:m.Z.fontWeight.bold,lineHeight:1.2,fontSize:t,fontFamily:m.Z.getHeaderFontFamily({pageFont:g.page_font,locale:i.SP}),cursor:"text",display:"flex",alignItems:"center",textRendering:u.device.isSafari?"optimizeSpeed":void 0,width:h&&!S?s:void 0,...p},link:{width:16,fill:e.mediumIconColor},placeholder:{...d.ZD,WebkitTextFillColor:e.pageTitlePlaceholderTextColor,cursor:"text"}}}),[S,f,u.device.isMobile,u.device.isSafari,p,g.page_font,g.page_small_text,h,v,r,y,o,n,c])}({store:t,isInSidePeek:n,paddingLeft:E,paddingRight:D,shouldShowBetaTagForProjectManagementLaunch:se,extraStyles:B}),ae=(0,a.VK)((()=>t.isExternalObjectInstancePageBlockStore()),[t]),le=(0,a.VK)((()=>t.isExternalCollectionBlockStore()?t:void 0),[t]),de=(0,a.VK)((()=>(null==le?void 0:le.canEdit())??!1),[le]),ce=(0,a.VK)((()=>ie?(0,f.pI)(ie,t.pointer.spaceId):void 0),[t.pointer.spaceId,ie]),pe=(0,a.VK)((()=>C.Z.isAssistantInWriterEnabled()),[]);if(Q)return null;if(!G)return null;const ue=k.G.createChildStore(G,t.pointer),ge=ne&&0===ne.length,me=U.device.isIOS||U.device.isSafari,he=(0,L.jsx)(Z.Z,{tagName:"h1",style:{...re.title,fontSize:"1em",fontWeight:"inherit",margin:0},store:G,placeholderStyle:re.placeholder,disabled:!ee,placeholder:Y,disableSlashCommands:!0,disableSelectAllBlocks:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!pe,disableMobileActionBar:!1,disableShiftEnter:!0,disableEmbedMenu:!0,onEsc:W,onUntab:H,onTab:z,disableUpDownArrows:!(!R||oe||ge||U.device.isMobile)&&te,disableEnter:!(!R||oe||ge||U.device.isMobile)&&te,onChange:A,disableHorizontalEdgeScroll:!0,pasteBehavior:"block",trackEditsToUserFlow:"user_flow_edit_page_title"});return(0,L.jsxs)("div",{style:J?{flex:1}:void 0,children:[(0,L.jsxs)(T.Z,{canSelect:!1,canDrag:!1,canEditText:ee,onEditText:N,store:ue,style:re.selectable,analyticsName:"page_content",shouldShowDropZone:!0,children:[me?(0,L.jsx)(w.p,{style:re.title,allowSelectionWithin:!0,children:he}):he,se&&(0,L.jsx)(j.Z,{style:{marginTop:8,marginLeft:8}}),ae&&(0,L.jsx)(_.ZP,{placement:_.ug.Bottom,renderTooltip:e=>(0,L.jsx)(h.FormattedMessage,{...e,defaultMessage:"Link to original url",description:"Link to the original source of the data.",id:"PageTitle.syncedBlock.original"}),render:e=>(0,L.jsx)(V.Z,{href:ce,ignoreLocalHoverState:!0,hovered:!1,children:(0,L.jsx)(P.Z,{ariaLabel:"Link",...e,icon:()=>(0,g.N)(re.link),style:{marginLeft:4},onClick:()=>{ce&&y.D({url:ce,environment:U})}})})}),le&&!U.device.isMobile&&(0,L.jsx)(I.Z,{store:le,canEdit:de,buttonStyle:{fontWeight:"normal",margin:0}})]}),(0,L.jsx)("div",{style:{marginLeft:4},children:(0,L.jsx)(K,{store:t,collectionContextStore:F})})]})}))},97053:(e,t,o)=>{o.d(t,{Bt:()=>j,Nr:()=>k,Qg:()=>w,WJ:()=>P,h9:()=>C,m4:()=>b,xC:()=>M});var n=o(480),i=o(97511),s=o(86628),r=o(41432),a=o(61045),l=o(57819),d=o(10906),c=o(92650),p=o(19124),u=o(12534),g=o(61931),m=o(80444),h=o(16772),y=o(19111),f=o(94896),S=o(82136),v=o(88923),x=o(17963);function b(e){(0,u.ZP)({event:e,context:u.Af.EditorMouseDown,callback:()=>{}})}function C(e){(0,u.ZP)({event:e,context:u.Af.EditorClick,callback:()=>{}})}function k(e){return(0,s.VK)((()=>Boolean(x.Z.state.pageMap[e.id])||f.Z.state.pages.has(e.id)),[e.id])}function M(e,t){const o=(0,n.O7)(),r=(0,i.l)(),a=k(e),l=(0,s.VK)((()=>t===S.S.Frame?m.default.state.currentLoadingContainerStore:t===S.S.PeekView&&v.default.state.open?v.default.state.loadingContainerStore:void 0),[t]),d=w(e);return(0,s.VK)((()=>{const t=o.currentUser.isLoggedIn(),n=r&&r.publicEditModeStore.state;return Boolean(e&&l&&e.isDefined()&&!e.isLocked()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=n&&n.hasPublicPermission)||"edit"===(null==n?void 0:n.permission))&&!a&&l.state.ready&&!d&&(!(0,p.GD)(n)||"completionPopup"!==h.default.state.type))}),[o,d,l,r,a,e])}function w(e){return(0,s.VK)((()=>{if(e.isCollectionView()){const t=e.getCollectionViewSourceCollectionStore();return!!t&&t.isSyncedCollection()}return e.isType(r.Ti.externalObjectInstancePage)}),[e])}function j(e){const{device:t,WindowSizeStore:o}=(0,n.O7)(),i=(0,s.VK)((()=>{const e=o.state.height,n=t.isMobile&&y.Z.state.open?e:0;return a._4()+n}),[o,t.isMobile]);return(0,s.VK)((()=>Boolean((0,l.RR)(h.default.state))?600:"home-phone"===e?g.jq:t.isTablet?380:t.isIOS?Math.max(350,i):t.isMobile?400:"side-peek"===e||"center-peek"===e?80:"home"===e?g.XX:"30vh"),[t,i,e])}function P(e){const t=(0,n.O7)(),o=(0,s.VK)((()=>(0,c.fg)(t,e)),[t,e]);return(0,s.VK)((()=>o&&!e.isFullWidth()?(0,c.gC)(t,(0,d.en)(e),(0,d.Ks)(e)):0),[t,o,e])}},40414:(e,t,o)=>{o.d(t,{Z:()=>ve});o(57658),o(30541);var n=o(67294),i=o(1302),s=o(13991),r=o(480),a=o(86628),l=o(24405),d=o(80951),c=o(45238),p=o(85893);const u=(0,c.I)("addPageDiscussion",{viewBox:"0 0 16 16",svg:(0,p.jsx)("path",{d:"M4.095 15.465c.287 0 .499-.137.84-.444l2.523-2.277 4.47.007c2.058 0 3.214-1.19 3.214-3.22V4.22c0-2.03-1.156-3.22-3.213-3.22H3.213C1.163 1 0 2.19 0 4.22V9.53c0 2.037 1.196 3.22 3.165 3.213h.273v1.983c0 .45.24.738.657.738zM3.958 5.156a.454.454 0 01-.444-.45c0-.24.198-.438.444-.438h7.157c.246 0 .445.198.445.437a.45.45 0 01-.445.451H3.958zm0 2.256a.454.454 0 01-.444-.451c0-.24.198-.444.444-.444h7.157a.448.448 0 010 .895H3.958zm0 2.256a.448.448 0 010-.896h4.669c.246 0 .437.206.437.452a.438.438 0 01-.437.444H3.958z"})});var g=o(9999),m=o(98519),h=o(72126),y=o(23867),f=o(82990),S=o(9291),v=o(85344),x=o(54564),b=o(72711),C=o(98104),k=o(34047),M=o(82994),w=o(80365),j=o(11599),P=o(87279),V=o(50627),_=o(65598),I=o(77907),T=o(24646),B=o(19671),Z=o(13023),L=o(68709),K=o(31945),E=o(78140),D=o(40721),O=o(89728),F=o(26388),R=o(62965),A=o(96802),N=o(82530),W=o(66890),H=o(79131),z=o(52247);function U(e){let{store:t,collectionStore:o,disabled:n,locked:i,propertyIds:s,schema:l,handleMouseMove:d,handleMouseLeave:c,handleContextMenu:u,blockPropertyValueOverlayStore:g,format:m,isInPeekRenderer:y,type:f,topBorder:S}=e;window.__c={n:"RelationPropertyPageSections"};const v=(0,r.O7)(),x=(0,W.Y$)(),b=(0,a.VK)((()=>x.permissionScopes.state),[x]);return"minimal"===f?(0,p.jsx)(p.Fragment,{children:s.map(((e,s)=>(0,p.jsx)("div",{children:(0,p.jsx)(G,{schema:l,format:m,locked:i,collectionStore:o,store:t,disabled:n,isInPeekRenderer:y,handleMouseMove:d,handleMouseLeave:c,blockPropertyValueOverlayStore:g,topBorder:S,propertyId:e,index:s})},e)))}):n||i||!b.canConfigureCollection?(0,p.jsx)("div",{style:H.yA,children:s.map(((e,s)=>(0,p.jsx)("div",{children:(0,p.jsx)(G,{schema:l,format:m,locked:i,collectionStore:o,store:t,disabled:n,isInPeekRenderer:y,handleMouseMove:d,handleMouseLeave:c,blockPropertyValueOverlayStore:g,topBorder:S,propertyId:e,index:s})},e)))}):(0,p.jsx)(H.ZP,{direction:"vertical",keys:s,renderKey:(e,s,r)=>(0,p.jsx)(G,{propertyId:e,index:s,schema:l,format:m,locked:i,collectionStore:o,store:t,disabled:n,isInPeekRenderer:y,handleMouseMove:d,handleMouseLeave:c,blockPropertyValueOverlayStore:g}),onDrop:e=>function(e,t,o,n){const i=o.collection_page_sections||[],s=h.oA(e.map((e=>i.find((t=>t.section===e))))),r=i.filter((t=>!e.includes(t.section))),a=[...s,...r];N.createAndCommit({userAction:"RelationPropertyPageSections.handleReorder",environment:n,perform:e=>{A.FH({stores:[t],update:{collection_page_sections:a},transaction:e})}})}(e,o,m,v)})}const $=n.memo(U,R.Z);function G(e){let{propertyId:t,index:o,schema:n,format:i,locked:s,collectionStore:r,store:a,disabled:l,isInPeekRenderer:d,handleMouseMove:c,handleMouseLeave:u,blockPropertyValueOverlayStore:g,topBorder:m}=e;const h=(i.collection_page_sections||[]).filter((e=>e.section===t)).map((e=>e.visibility))[0];return(0,p.jsx)(z.Z,{store:a,collectionStore:r,disabled:l,locked:s,property:t,schema:n,handleMouseMove:c,handleMouseLeave:u,handleContextMenu:()=>{},blockPropertyValueOverlayStore:g,format:i,visibility:h,isInPeekRenderer:d,topBorder:0!==o&&m})}var X=o(3553),q=o(82136),Q=o(61679);function Y(e){window.__c={n:"InlinePageSections"};const{state:t,store:o,disabled:n,isInPeekRenderer:i,blockPropertyValueOverlayStore:s,onMouseEnter:r,onMouseLeave:l,topBorder:d}=e,c=(0,a.VK)((()=>o.isLocked()),[o]),u=(0,a.VK)((()=>o.getSchema()),[o]);return(0,p.jsx)($,{topBorder:d,propertyIds:t.sectionPropertyIds,store:o,collectionStore:t.collectionStore,format:t.format,disabled:n,locked:c,schema:u,handleMouseMove:r,handleMouseLeave:l,handleContextMenu:()=>{},blockPropertyValueOverlayStore:s,isInPeekRenderer:i})}function J(e){window.__c={n:"InlinePageSectionsModule"};const{store:t,context:o,disabled:n,inlinePropertyIDs:i,onMouseEnter:s,onMouseLeave:r}=e,l=function(e){const{collectionStore:t,format:o,sectionPropertyIds:n}=e;if(!(t&&o&&n&&n.length))return{type:"hidden"};return{type:"visible",collectionStore:t,format:o,sectionPropertyIds:n}}({collectionStore:(0,a.VK)((()=>t.getAssociatedCollectionStore()),[t]),format:(0,a.VK)((()=>(0,V.y6)(t)),[t]),sectionPropertyIds:i});if("hidden"===l.type)return null;const d=o===q.S.PeekView;return(0,p.jsx)(Q.bU,{className:"layout-content-with-divider",children:(0,p.jsx)(L.p,{allowSelectionWithin:!0,children:(0,p.jsx)(Y,{topBorder:!0,state:l,store:t,disabled:n,onMouseEnter:s,onMouseLeave:r,blockPropertyValueOverlayStore:d?Z.Z:B.Z,isInPeekRenderer:d})})})}var ee=o(77933),te=o(97053);const oe=e=>{let{store:t}=e;return(0,p.jsx)("div",{style:{width:"100%",maxWidth:"100%",margin:"0 auto 6px auto"},onMouseDown:te.m4,onClick:te.h9,children:(0,p.jsx)(ee.Z,{type:"page",store:t,headerText:(0,p.jsx)(S.FormattedMessage,{defaultMessage:"Linked to this page",id:"page.expandedBacklinks.label"}),disableCurrentPageToken:!0,disableInaccessiblePages:!0})})};function ne(e){window.__c={n:"PageExpandedBacklinksModule"};const t=(0,r.O7)(),o=(0,a.VK)((()=>t.PageDetailsStore.getToggleState({environment:t,type:"backlinks",id:e.store.id})),[e.store,t]),n=(0,a.VK)((()=>{const e=j.dy("backlinks");return void 0===o?e:o}),[o]);return 0===(0,a.VK)((()=>{if(!n)return 0;return(0,w.L)(e.store,t).backlinks.length}),[n,e.store,t])?null:(0,p.jsx)(Q.bU,{className:"layout-content-with-divider",children:(0,p.jsx)(L.p,{allowSelectionWithin:!0,children:(0,p.jsx)(oe,{store:e.store})})})}var ie=o(11803),se=o(6779),re=o(45373),ae=o(22735),le=o(89534),de=o(6740),ce=o(10906),pe=o(88923),ue=o(19987),ge=o(5618),me=o(35943);const he=e=>{let{store:t,isEditable:o,hasCover:n,isInSidePeek:i,paddingLeft:s,paddingRight:r,openMenuOnMount:a,openMenuOnMountCallback:l,...d}=e;return(0,p.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,p.jsx)(ge.Z,{store:t,isEditable:o,hasCover:n,isInSidePeek:i,openMenuOnMount:a,openMenuOnMountCallback:l}),(0,p.jsx)(me.Z,{store:t,isInSidePeek:i,paddingLeft:s,paddingRight:r,...d})]})};function ye(e){let{onMouseEnter:t,onMouseMove:o,onMouseLeave:n,headerControls:i}=e;return(0,p.jsx)("div",{onMouseEnter:t,onMouseMove:o,onMouseLeave:n,children:i})}const fe=e=>{window.__c={n:"PageTitleWithIcon"};const{store:t,hasCover:o,headerFocusStore:i,headerControls:s,isEditable:l,openMenuOnMount:d,openMenuOnMountCallback:c,pageViewBlockStore:u,discussionInputStore:g,handleHeaderMouseEnterThrottled:m,handleHeaderMouseLeaveDebounced:h,...y}=e,f=(0,r.O7)(),{device:S,WindowSizeStore:v}=f,x=(0,a.VK)((()=>(0,ce.en)(t)&&(pe.default.isSidePeekOpen()||pe.default.isSidePeekClosing.state)),[t]),b=S.isMobile&&!o,C=!S.isMobile&&y.isInSidePeek,k=(0,a.VK)((()=>t.isExternalObjectInstancePageBlockStore()&&t.hasError()?t:null),[t]),M=(0,a.VK)((()=>t.canEdit()),[t]),w=(0,a.VK)((()=>v.getSafePaddingLeftCSS(0)),[v]),j=(0,a.VK)((()=>v.getSafePaddingRightCSS(0)),[v]),P=(0,a.VK)((()=>(0,V.kC)(t,f)),[t,f]),_=(0,n.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,de.E)(t)&&i.setState(!0)}),[i]),I=(0,n.useCallback)((()=>{i.setState(!1)}),[i]),T=(0,p.jsx)(ge.Z,{store:t,isEditable:l,hasCover:o,isInSidePeek:y.isInSidePeek,openMenuOnMount:d,openMenuOnMountCallback:c}),B=(0,p.jsx)(me.Z,{store:t,...y,paddingLeft:0,paddingRight:0});return x?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ye,{onMouseEnter:m,onMouseMove:m,onMouseLeave:h,headerControls:s}),(0,p.jsx)(he,{...e,paddingLeft:0,paddingRight:0})]}):(0,p.jsx)("div",{style:P,onMouseEnter:m,onMouseMove:m,onMouseLeave:h,children:(0,p.jsxs)("div",{style:{maxWidth:"100%",paddingLeft:w,width:"100%"},onClick:e=>{e.stopPropagation()},children:[(0,p.jsxs)(L.p,{onFocus:_,onBlur:I,allowSelectionWithin:!1,style:{pointerEvents:"none"},children:[b&&s,!C&&T,!b&&s]}),(0,p.jsx)("div",{style:{paddingRight:j},children:C?(0,p.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[T,B]}):B}),k?(0,p.jsx)(ue.Z,{store:k,canEdit:M}):null]})})};var Se=o(61953);const ve=(0,n.forwardRef)(((e,t)=>{window.__c={n:"PageLayoutModules"};const{layoutSchema:o,store:c,context:R,disabled:A,templatePickerMenuListStore:N,styleOverrides:W,onMouseEnter:H,onMouseMove:z,onMouseLeave:U,pageCoverHeight:G,headerControlsStyle:q,isEditable:Y,getControlHoverStyle:ee,pageViewBlockStores:te,pageViewBlockAccessor:de}=e,ce=(0,r.O7)(),pe=(0,a.VK)((()=>c.getAssociatedCollectionStore()),[c]),ue=(0,a.VK)((()=>c.getSchema()),[c]),ge=(0,a.VK)((()=>{const e=(0,V.y6)(c);if(!e)return;return(e.collection_page_sections||[]).filter((e=>{const t=ue[e.section];if(!t||"relation"!==t.type)return;const o=c.getPropertyValue(e.section),n=(0,d.j$)({relationValue:(0,d.rq)(o),propertySchema:t,getRecordModel:c.getRecordModel}).length;return"inline"===e.visibility&&ue[e.section]&&0!==n})).map((e=>e.section))}),[ue,c]),me=(0,l.yK)((e=>({bottomControls:{display:"flex",alignItems:"baseline",justifyContent:"flex-start",flexWrap:"wrap",color:e.lightTextColor,fontFamily:f.Z.getCompositeFontFamily(s.SP).sans},detailsButton:{fontWeight:f.Z.fontWeight.medium,color:e.mediumTextColor}})),[]),he=(0,a.VK)((()=>(null==W?void 0:W.paddingX)??(0,V.RH)(R,ce)),[R,ce,null==W?void 0:W.paddingX]),ye=(0,n.useMemo)((()=>new M.Z(ce,(0,y.C)(c.pointer.spaceId))),[ce,c]),ve=(0,a.VK)((()=>te.pageViewBlockStore.state.forceDiscussionOpen),[te.pageViewBlockStore]),xe=(0,n.useCallback)((()=>(0,_.Xp)(c,{recursivelyLoadAllDiscussions:!1})),[c]),be=(0,n.useCallback)((()=>xe()>0),[xe]),Ce=(0,a.VK)((()=>{const e={type:"hidden"},t=_.vV(c,{recursivelyLoadAllDiscussions:!1}),o=0===t.length,n="PageDetailsStore"in ce&&ce.PageDetailsStore.getToggleState({environment:ce,type:"discussion",id:c.id}),i=j.A$("comments","section_hide");if(!ve&&(!c.isInsideCollection()||!o)&&(o||!o&&(!1===n||void 0===n&&i)))return e;if(i)return e;const s=ce.currentUser.isLoggedIn()&&c.canComment()&&o&&!(0,V.a_)(c);return!s&&o?e:{type:"visible",showDiscussionInput:s,unresolvedDiscussionStores:t}}),[c,ce,ve]),ke=(0,a.VK)((()=>(0,w.L)(c,ce).backlinks.length),[ce,c]),Me=(0,a.VK)((()=>"PageDetailsStore"in ce&&ce.PageDetailsStore.getToggleState({environment:ce,type:"backlinks",id:c.id})),[ce,c.id]),we=(0,a.VK)((()=>{const e=(0,V.y6)(c);if(!e)return;return(e.collection_page_sections||[]).filter((e=>{const t=ue[e.section];if(!t||"relation"!==t.type)return;const o=c.getPropertyValue(e.section),n=(0,d.j$)({relationValue:(0,d.rq)(o),propertySchema:t,getRecordModel:c.getRecordModel}).length;return"minimal"===e.visibility&&ue[e.section]||"inline"===e.visibility&&ue[e.section]&&0===n})).map((e=>e.section))}),[ue,c]),je=(0,a.VK)((()=>{const t=()=>!!(()=>{const e=(0,j.dy)("backlinks");return void 0===Me?e:Me})()&&0!==ke,o=async()=>{te.pageViewBlockStore.setState({...te.pageViewBlockStore.state,forceDiscussionOpen:!0}),v.ZW(ce,{from:"page_comments"}),await i.default.afterNextFlush(),C.NX({store:ye.state.textStore})},s=e=>(0,p.jsx)(O.Z,{style:ee(e.isBottomControl),isLightGray:!0,onClick:o,icon:u,children:ce.device.isSmallPhone?(0,p.jsx)(S.FormattedMessage,{id:"pageViewBlock.add.pageCommentMobile",defaultMessage:"Comment"}):(0,p.jsx)(S.FormattedMessage,{id:"pageViewBlock.add.pageComment",defaultMessage:"Add comment"})},"addcomment"),r=e=>{const{isTopControlsEmpty:t,isBottomControlsEmpty:o,discussionsRenderState:n}=e;return(0,j.A$)("comments","section_hide")||c.isCollectionView()||c.isInsideCollection()||be()||!c.canComment()||!ce.currentUser.isLoggedIn()||te.pageViewBlockStore.state.forceDiscussionOpen?"hidden":"hidden"!==n.type||o?ce.device.isMobile&&t?"bottom":"top":"bottom"};try{let o=[];const i=[...e.topControls],a=t(),l=()=>{if(0===ke)return;if((0,j.A$)("backlinks","section_hide"))return;const e=e=>{let{onClick:t=h.ZT,tooltipEvents:o={},buttonPopupEvents:n={}}=e;return(0,p.jsx)(O.Z,{isGray:!0,icon:e=>(0,g.J)({...e,transform:"rotate(180deg)"}),style:me.detailsButton,onClick:t,...n,...o,children:(0,p.jsx)(S.FormattedMessage,{id:"pageViewBlock.show.backlinks",defaultMessage:"{numberOfBacklinks, plural, one {{numberOfBacklinks} backlink} other {{numberOfBacklinks} backlinks}}",values:{numberOfBacklinks:ke}})})},t=(0,p.jsx)(F.ZP,{renderTooltip:()=>(0,p.jsx)(S.FormattedMessage,{defaultMessage:"Show pages linked to this page",id:"pageViewBlock.show.backlinks.tooltip"}),placement:F.ug.Bottom,delayThreshold:400,render:t=>e({tooltipEvents:t,onClick:()=>{"PageDetailsStore"in ce&&ce.PageDetailsStore.setToggleState({environment:ce,type:"backlinks",id:c.id},!0)}})},"showbacklinks"),o=(0,p.jsx)(K.ZP,{buttonPopupStore:te.backlinksButtonPopupStore,popupType:K.Z4.Popup,renderOrigin:t=>e({buttonPopupEvents:t}),render:()=>{const e={menuType:P.og.Popup,width:500};return(0,p.jsx)(E.Z,{...e,children:ke>0?(0,p.jsx)(oe,{store:c}):null})}},"backlinkspopup");return(0,j.A$)("backlinks","section_collapsed")?o:t},d=()=>{if(!(0,j.A$)("comments","section_hide")&&be()){const e=xe();return(0,p.jsx)(O.Z,{isGray:!0,onClick:()=>{"PageDetailsStore"in ce&&ce.PageDetailsStore.setToggleState({environment:ce,type:"discussion",id:c.id},!0)},icon:u,style:me.detailsButton,children:(0,p.jsx)(S.FormattedMessage,{id:"pageViewBlock.show.pageComments",defaultMessage:"{numberOfComments, plural, one {{numberOfComments} comment} other {{numberOfComments} comments}}",values:{numberOfComments:e}})},"showcomments")}},y=()=>{if(!pe)return;const e=(0,V.y6)(c),t=c.isLocked();if(!e)return;const o=we;return o&&o.length?(0,p.jsx)($,{propertyIds:o,store:c,collectionStore:pe,disabled:A,locked:t,schema:ue,handleMouseMove:z,handleMouseLeave:U,handleContextMenu:()=>{},blockPropertyValueOverlayStore:(0,V.OZ)(R)?Z.Z:B.Z,format:e,type:"minimal",isInPeekRenderer:(0,V.OZ)(R)}):void 0},f=()=>{const e=(0,_.mY)(c,{recursivelyLoadAllDiscussions:!1});if(0===e.length)return;const t=(0,p.jsx)(S.FormattedMessage,{id:"pageViewBlock.showResolvedComments.button",defaultMessage:"{numberOfResolvedComments, plural, one {{numberOfResolvedComments} resolved comment} other {{numberOfResolvedComments} resolved comments}}",values:{numberOfResolvedComments:e.length}});return(0,T.Sx)(ce)?(0,p.jsx)(O.Z,{icon:m.k,isGray:!0,style:me.detailsButton,onClick:()=>{x.Ib({environment:ce,blockStore:c,analyticsFrom:"page_comments",shouldFocusDiscussion:!0,recursivelyLoadAllDiscussions:!1,discussionIds:e.map((e=>e.id))})},children:t}):(0,p.jsx)(K.ZP,{buttonPopupStore:te.resolvedDiscussionButtonPopupStore,popupType:ce.device.isMobile?K.Z4.SlideUp:K.Z4.Popup,renderOrigin:e=>(0,p.jsx)(O.Z,{icon:m.k,isGray:!0,style:me.detailsButton,...e,children:t}),render:t=>{let o;return o=ce.device.isMobile?{menuType:P.og.Modal,title:(0,p.jsx)(S.FormattedMessage,{defaultMessage:"Resolved comments",id:"pageViewBlock.resolvedComments.menuTabTitle"}),right:(0,p.jsx)(D.DoneMenuText,{}),onClickRight:t.close,whiteBackground:!0}:{menuType:P.og.Popup,width:500},(0,p.jsx)(E.Z,{...o,children:e.map(((e,o,n)=>(0,p.jsx)(X.Z,{store:e,droppable:!0,render:()=>(0,p.jsx)(I.LazyDiscussion,{store:e,format:k.O2.Menu,isFirst:0===o,isOnly:1===n.length,discussionLocation:"page_discussion",showResolveButtonByDefaultIfPossible:!0,blockStore:c,onDismiss:t.close},e.id)},e.id)))})}},"resolve-discussions")},v=(e,t)=>{const o=[],i=!e&&l();i&&o.push((0,p.jsx)(n.Fragment,{children:i},"backlinks"));const s="hidden"===t.type,r=s&&d();r&&o.push((0,p.jsx)(n.Fragment,{children:r},"discussions"));const a=f();a&&!s&&o.unshift((0,p.jsx)(n.Fragment,{children:a},"resolveddiscussions"));const c=y();return c&&o.push((0,p.jsx)(n.Fragment,{children:c},"minimalpagesections")),o};o=v(a,Ce);const b=r({isTopControlsEmpty:0===i.length,isBottomControlsEmpty:0===o.length,discussionsRenderState:Ce});"top"===b?i.push(s({isBottomControl:!1})):"bottom"===b&&o.push(s({isBottomControl:!0}));return{headerControls:(0,p.jsx)("div",{style:q,className:"notion-page-controls",children:i}),bottomControls:o}}catch(a){return{bottomControls:[]}}}),[e.topControls,q,Ce,ee,ke,Me,ce,pe,R,A,ye,xe,be,we,U,z,te.backlinksButtonPopupStore,te.pageViewBlockStore,te.resolvedDiscussionButtonPopupStore,ue,c,me.detailsButton]),Pe={cover:e=>(0,p.jsx)(ie.D,{store:c,isEditable:Y,paddingX:he,pageCoverHeight:G,onMouseEnter:H,onMouseMove:z,onMouseLeave:U},e),titleWithIcon:t=>(0,p.jsx)(Q.bU,{children:(0,p.jsx)(fe,{handleHeaderMouseEnterThrottled:H,handleHeaderMouseLeaveDebounced:U,headerControls:je.headerControls,headerFocusStore:te.headerFocusStore,...e})},t),properties:(e,t,o)=>(0,p.jsx)(ae.V,{context:R,disabled:A,store:c,variant:o,propertyIds:t},e),property:(e,t)=>(0,p.jsx)(le._,{context:R,disabled:A,propertyId:t,store:c},e),inlinePageSections:e=>(0,p.jsx)(J,{context:R,disabled:A,inlinePropertyIDs:ge,onMouseEnter:H,onMouseLeave:U,store:c},e),expandedBacklinks:e=>(0,p.jsx)(ne,{store:c},e),discussions:e=>(0,p.jsx)(se.s,{store:c,didClickAddDiscussion:ve},e),bottomControls:e=>0===je.bottomControls.length?null:(0,p.jsx)(Q.bU,{children:(0,p.jsx)(L.p,{allowSelectionWithin:!0,children:(0,p.jsx)("div",{style:me.bottomControls,className:"notion-page-details-controls",onMouseEnter:H,onMouseMove:z,onMouseLeave:U,children:je.bottomControls})})},e),editor:(e,o)=>{let{pathToBlockId:n}=o;return(0,p.jsx)(re.H,{context:R,disabled:A,handlePlaceholderWrapClick:e=>b.og(e,c,ce),pageBlockStore:c,pathToBlockId:n,templatePickerMenuListStore:N,pageViewBlockAccessor:de,ref:t},e)},transcript:e=>null,tabs:(e,t)=>{let{tabs:o,style:n}=t;return(0,p.jsx)(Q.kg,{style:n,items:o.map(((e,t)=>({key:t,label:e.label,icon:e.icon?Se.q0[e.icon]:void 0,children:e.content.map(((e,t)=>"tabs"===e.type?Pe.tabs(t,e):"editor"===e.type?Pe.editor(t,e):"property"===e.type?Pe.property(t,e.propertyId):"properties"===e.type?Pe.properties(t,e.propertyIds,e.variant):Pe[e.type](t)))})))},e)}};return(0,p.jsx)(p.Fragment,{children:o.map(((e,t)=>{if("tabs"===e.type)return Pe.tabs(t,e);if("property"===e.type)return Pe.property(t,e.propertyId);if("editor"===e.type)return Pe.editor(t,e);if("properties"===e.type)return Pe.properties(t,e.propertyIds,e.variant);const o=Pe[e.type];return o?o(t):null}))})}))},61953:(e,t,o)=>{o.d(t,{Tf:()=>l,bl:()=>a,q0:()=>d});var n=o(25651),i=(o(67294),o(45238)),s=o(85893);const r=(0,i.I)("transcript",{viewBox:"0 0 16 16",svg:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("path",{d:"M3.99805 5.92188C3.85352 5.92188 3.72656 5.86719 3.61719 5.75781C3.50781 5.64844 3.45312 5.52148 3.45312 5.37695C3.45312 5.22852 3.50781 5.09961 3.61719 4.99023C3.72656 4.88086 3.85352 4.82617 3.99805 4.82617C4.15039 4.82617 4.2793 4.88086 4.38477 4.99023C4.49023 5.0957 4.54297 5.22461 4.54297 5.37695C4.54297 5.52539 4.49023 5.6543 4.38477 5.76367C4.2793 5.86914 4.15039 5.92188 3.99805 5.92188ZM3.99805 7.65625C3.85352 7.65625 3.72656 7.60352 3.61719 7.49805C3.50781 7.38867 3.45312 7.25977 3.45312 7.11133C3.45312 6.96289 3.50781 6.83594 3.61719 6.73047C3.72656 6.62109 3.85352 6.56641 3.99805 6.56641C4.15039 6.56641 4.2793 6.61914 4.38477 6.72461C4.49023 6.83008 4.54297 6.95898 4.54297 7.11133C4.54297 7.26367 4.49023 7.39258 4.38477 7.49805C4.2793 7.60352 4.15039 7.65625 3.99805 7.65625ZM3.99805 9.38477C3.84961 9.38477 3.7207 9.33203 3.61133 9.22656C3.50586 9.12109 3.45312 8.99219 3.45312 8.83984C3.45312 8.69141 3.50586 8.56445 3.61133 8.45898C3.7207 8.35352 3.84961 8.30078 3.99805 8.30078C4.15039 8.30078 4.2793 8.35352 4.38477 8.45898C4.49023 8.56445 4.54297 8.69141 4.54297 8.83984C4.54297 8.99219 4.49023 9.12109 4.38477 9.22656C4.2793 9.33203 4.15039 9.38477 3.99805 9.38477ZM3.99805 11.2129C3.85352 11.2129 3.72656 11.1582 3.61719 11.0488C3.50781 10.9395 3.45312 10.8105 3.45312 10.6621C3.45312 10.5137 3.50781 10.3848 3.61719 10.2754C3.72656 10.166 3.85352 10.1113 3.99805 10.1113C4.15039 10.1113 4.2793 10.166 4.38477 10.2754C4.49023 10.3809 4.54297 10.5098 4.54297 10.6621C4.54297 10.8145 4.49023 10.9453 4.38477 11.0547C4.2793 11.1602 4.15039 11.2129 3.99805 11.2129ZM5.67383 5.75195C5.56836 5.75195 5.47852 5.71484 5.4043 5.64062C5.33008 5.56641 5.29297 5.47852 5.29297 5.37695C5.29297 5.27148 5.33008 5.18164 5.4043 5.10742C5.48242 5.0293 5.57227 4.99023 5.67383 4.99023H12.1836C12.2891 4.99023 12.3789 5.0293 12.4531 5.10742C12.5312 5.18164 12.5703 5.27148 12.5703 5.37695C12.5703 5.47852 12.5332 5.56641 12.459 5.64062C12.3848 5.71484 12.293 5.75195 12.1836 5.75195H5.67383ZM5.67383 7.49219C5.57227 7.49219 5.48242 7.45508 5.4043 7.38086C5.33008 7.30664 5.29297 7.2168 5.29297 7.11133C5.29297 7.00586 5.33008 6.91602 5.4043 6.8418C5.47852 6.76367 5.56836 6.72461 5.67383 6.72461H9.31836C9.42383 6.72461 9.51367 6.76367 9.58789 6.8418C9.66211 6.91602 9.69922 7.00586 9.69922 7.11133C9.69922 7.2168 9.66211 7.30664 9.58789 7.38086C9.51367 7.45508 9.42383 7.49219 9.31836 7.49219H5.67383ZM5.67383 9.22656C5.56836 9.22656 5.47852 9.18945 5.4043 9.11523C5.33008 9.04102 5.29297 8.94922 5.29297 8.83984C5.29297 8.73828 5.33008 8.65039 5.4043 8.57617C5.47852 8.50195 5.56836 8.46484 5.67383 8.46484H12.1836C12.293 8.46484 12.3848 8.50195 12.459 8.57617C12.5332 8.65039 12.5703 8.73828 12.5703 8.83984C12.5703 8.94922 12.5332 9.04102 12.459 9.11523C12.3848 9.18945 12.293 9.22656 12.1836 9.22656H5.67383ZM5.67383 11.043C5.57227 11.043 5.48242 11.0059 5.4043 10.9316C5.33008 10.8535 5.29297 10.7637 5.29297 10.6621C5.29297 10.5566 5.33008 10.4668 5.4043 10.3926C5.47852 10.3184 5.56836 10.2812 5.67383 10.2812H9.31836C9.42383 10.2812 9.51367 10.3184 9.58789 10.3926C9.66211 10.4668 9.69922 10.5566 9.69922 10.6621C9.69922 10.7637 9.66211 10.8535 9.58789 10.9316C9.51367 11.0059 9.42383 11.043 9.31836 11.043H5.67383ZM2.97852 13.4922C2.3457 13.4922 1.86719 13.332 1.54297 13.0117C1.21875 12.6914 1.05664 12.2188 1.05664 11.5938V4.45703C1.05664 3.83203 1.21875 3.35938 1.54297 3.03906C1.86719 2.71484 2.3457 2.55273 2.97852 2.55273H13.0098C13.6465 2.55273 14.127 2.71484 14.4512 3.03906C14.7754 3.35938 14.9375 3.83203 14.9375 4.45703V11.5938C14.9375 12.2188 14.7754 12.6914 14.4512 13.0117C14.127 13.332 13.6465 13.4922 13.0098 13.4922H2.97852ZM3.04883 12.3438H12.9453C13.2148 12.3438 13.4219 12.2734 13.5664 12.1328C13.7109 11.9883 13.7832 11.7754 13.7832 11.4941V4.55664C13.7832 4.27539 13.7109 4.06445 13.5664 3.92383C13.4219 3.7793 13.2148 3.70703 12.9453 3.70703H3.04883C2.77539 3.70703 2.56641 3.7793 2.42188 3.92383C2.28125 4.06445 2.21094 4.27539 2.21094 4.55664V11.4941C2.21094 11.7754 2.28125 11.9883 2.42188 12.1328C2.56641 12.2734 2.77539 12.3438 3.04883 12.3438Z"})})}),a={pageLayoutSchema:[{type:"cover"},{type:"titleWithIcon"},{type:"properties"},{type:"inlinePageSections"},{type:"expandedBacklinks"},{type:"discussions"},{type:"bottomControls"},{type:"editor"}],pageInfoLayoutSchema:[]},l={pageLayoutSchema:[{type:"cover"},{type:"titleWithIcon"},{type:"properties"},{type:"inlinePageSections"},{type:"expandedBacklinks"},{type:"discussions"},{type:"bottomControls"},{type:"tabs",style:"left-aligned",tabs:[{icon:"pencil",label:"Notes",content:[{type:"editor"}]},{icon:"transcript",label:"Transcript",content:[{type:"transcript"}]}]}],pageInfoLayoutSchema:[]},d={pencil:n.R,transcript:r}},70177:(e,t,o)=>{o.d(t,{L:()=>p});var n=o(13991),i=o(65669),s=o(90902),r=o(24990);const a={ko:()=>o.e(692).then(o.bind(o,13547)),es:()=>o.e(883).then(o.bind(o,98610)),de:()=>o.e(3224).then(o.bind(o,36802)),fr:()=>o.e(5038).then(o.bind(o,96627)),pt:()=>o.e(2138).then(o.bind(o,88048)),zh:()=>o.e(7835).then(o.bind(o,41787)),ja:()=>o.e(6377).then(o.bind(o,28202)),da:()=>o.e(7677).then(o.bind(o,99815)),fi:()=>o.e(6970).then(o.bind(o,65651)),nb:()=>o.e(3031).then(o.bind(o,92967)),nl:()=>o.e(2579).then(o.bind(o,86541)),sv:()=>o.e(382).then(o.bind(o,63462))};let l=!1,d=!1;async function c(e){for(const[o,n]of Object.entries(e.emojiLocaleKeywords)){var t;s.Q4[o]={...s.Q4[o],keywords:[...n,...(null===(t=s.Q4[o])||void 0===t?void 0:t.keywords)||[]]}}await r.Z.waitUntilLoaded(),r.Z.update((t=>{let{emojiByName:o,...n}=t;return{...n,emojiByName:{...o,...e.emojiByName}}}))}const p=(0,i.Z)((async()=>{await async function(){d||(await c(await o.e(3552).then(o.bind(o,62706))),d=!0)}(),await async function(){if(l)return;const[e]=n.SP.split("-");e in a&&(await c(await a[e]()),l=!0)}()}))},35314:(e,t,o)=>{o.d(t,{e:()=>r});var n=o(67294),i=o(86628),s=o(77794);function r(){const[e,t]=(0,n.useState)(0),[o]=(0,n.useState)((()=>new s.E)),r=(0,n.createRef)();return(0,n.useEffect)((()=>{if(r.current)return o.observe(r.current),()=>{o.destroy()}}),[r,o]),(0,i.VK)((()=>{e!==o.rect.state.width&&t(o.rect.state.width)}),[e,o.rect]),[r,e]}},29755:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(49085);class i extends n.default{getInitialState(){return{pageMap:{}}}setStatus(e,t){const{pageMap:o}=this.state;t?o[e]=t:delete o[e],this.emit()}}const s=new i},65669:(e,t,o)=>{function n(e){let t,o,n;return async function(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return t?(n=s,o||(o=t.then((()=>(o=void 0,t=e(...n),t))),o)):(t=e(...s),t)}}o.d(t,{Z:()=>n})},65955:(e,t,o)=>{o.d(t,{o:()=>s});o(67294);var n=o(45238),i=o(85893);const s=(0,n.I)("addPage",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 0c3.861 0 7 3.139 7 7s-3.139 7-7 7-7-3.139-7-7 3.139-7 7-7zM3.561 5.295a1.027 1.027 0 1 0 2.054 0 1.027 1.027 0 0 0-2.054 0zm5.557 1.027a1.027 1.027 0 1 1 0-2.054 1.027 1.027 0 0 1 0 2.054zm1.211 2.816a.77.77 0 0 0-.124-1.087.786.786 0 0 0-1.098.107c-.273.407-1.16.958-2.254.958-1.093 0-1.981-.55-2.244-.945a.788.788 0 0 0-1.107-.135.786.786 0 0 0-.126 1.101c.55.734 1.81 1.542 3.477 1.542 1.668 0 2.848-.755 3.476-1.541z"})})}}]);