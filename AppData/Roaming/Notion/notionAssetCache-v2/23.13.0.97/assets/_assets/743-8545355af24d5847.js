"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[743],{43664:(e,t,o)=>{o.d(t,{r:()=>D,z:()=>N});var a=o(1302),n=o(90559),r=o(35011),i=o(99036),s=o(80951),l=o(40506),d=o(7057),c=o(53877),p=o(35102),u=o(84682),g=o(42875),m=o(72126),h=o(38737),f=o(70203),y=o(44805),v=o(97880),S=o(63143),x=o(893),C=o(83197),b=o(53437),_=o(95477),M=o(24990),k=o(49616),w=o(14976),P=o(33929),I=o(77080),T=o(8406),j=o(51365),R=o(9953),L=o(61045),Z=o(82530);function D(e){const{environment:t,theme:o,store:a,schema:i,property:d,collectionContextStore:m}=e,h=t.device,C=i[d];if(C){switch(C.type){case"formula":"v2"===C.version?function(e){const{environment:t,store:o,propertySchema:a,property:n}=e,i=o.getModel();if(!a.formula2||!i)return;const s=P.default.getIntl(),l=(0,g.r)(),d=(0,r.EC)({block:i,property:n,formulaCode:a.formula2.code,getRecordModel:o.getRecordModel,intl:s,userTimeZone:l,depth:0,visitedProperties:new Set,resultCache:new Map});if(!d)return;const c=(0,p.j4)(d),u=(0,w.Xh)(c,o);x.RD({stringValue:u,environment:t,copiedMessage:x.tq.copiedPropertyToClipboard})}({environment:t,store:a,propertySchema:C,property:d}):function(e){var t;const{environment:o,store:a,schema:n,property:r,propertySchema:i}=e,s=a.getValue();if(!s)return;const d=(0,u.AH)({property:r,schema:n,block:s,getRecordValue:a.getRecordValue,collectionRequestContext:{userId:void 0,userTimeZone:(0,g.r)(),depth:0,intl:P.default.getIntl(),resultCache:new Map,visitedProperties:new Set}}),c=null==i||null===(t=i.formula)||void 0===t?void 0:t.result_type;switch(c){case"number":S.hj(d)&&F({value:d,propertySchema:i,environment:o});break;case"date":d&&l.U3(d)&&B({date:d,environment:o});break;case"text":d&&x.RD({stringValue:d.toString(),environment:o,copiedMessage:x.tq.copiedPropertyToClipboard});break;case"checkbox":case void 0:return;default:(0,v.t1)(c)}}({environment:t,store:a,schema:i,property:d,propertySchema:C});break;case"person":{const e=a.getPropertyValue(d);V({actors:s.DW({textValue:e,propertySchema:C,blockCreatorPointer:a.getCreatedByPointer()}),environment:t,store:a});break}case"created_by":{const e=a.getCreatedByPointer();e&&V({actors:[e],environment:t,store:a});break}case"last_edited_by":{const e=a.getLastEditedByPointer();e&&V({actors:[e],environment:t,store:a});break}case"number":F({value:s.VY(a.getPropertyValue(d)),propertySchema:C,environment:t});break;case"text":{const e=a.getPropertyValue(d);if(!e)return;const n=y.hW({textValue:{value:e,spaceId:a.getSpaceId()},getRecordModel:a.getRecordModel,getRecordRole:a.getRecordRole,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!0,disableLinks:!1,disabled:!1,userTimeZone:(0,g.r)(),isClient:!0,isAndroid:h.isAndroid,isSafariOrIOS:h.isSafari||h.isIOS,isWindows:h.isWindows,showEmojiInline:h.isWindows,emojiType:"raw",theme:o,baseUrl:_.default.domainBaseUrl,publicDomainName:_.default.publicDomainName,currentUserId:t.currentUser.id,intl:P.default.getIntl(),katex:void 0,overwriteBaseUrlFromSpaceId:void 0,externalIntegrations:[],formulaValueTypes:[],emojiData:M.Z.state,isMobileNative:h.isMobileNative,isMobileNativeExternalLinkFixEnabled:I.default.checkGate("mobile_native_external_link_fix")}),r=(0,w.Xh)(a.getPropertyValue(d),a);x.g9({stringValue:r,htmlValue:n,environment:t,copiedMessage:x.tq.copiedPropertyToClipboard});break}case"url":case"email":case"phone_number":{const e=f.Jcv(a.getPropertyValue(d));x.RD({stringValue:e,environment:t,copiedMessage:x.tq.copiedPropertyToClipboard});break}case"date":{const e=a.getPropertyValue(d),o=s.Gl(e);o&&B({date:o,environment:t,dateFormat:C.date_format,timeFormat:C.time_format});break}case"last_edited_time":case"created_time":{const e=a.getKeyStore(C.type).getValue();if(e){B({date:c.CQ(e,(0,g.r)()),environment:t,dateFormat:C.date_format,timeFormat:C.time_format})}break}case"auto_increment_id":{const e=a.getPropertyValue(d);!function(e){const{value:t,environment:o,collectionContextStore:a}=e;if(t&&a){var r;const e=(null===(r=a.collectionStore())||void 0===r||null===(r=r.getRecordKeyStore())||void 0===r?void 0:r.getRecordKey())??"";x.RD({stringValue:(0,n.wf)(e,t),environment:o,copiedMessage:x.tq.copiedPropertyToClipboard})}}({value:s.ah(e),environment:t,collectionContextStore:m});break}}T.S$(t,m,{block_id:a.id,property:d,property_type:C.type})}}function V(e){const{actors:t,environment:o,store:a}=e,n=s.C1(t);x.RD({stringValue:(0,w.Xh)(n,a),environment:o,copiedMessage:x.tq.copiedPropertyToClipboard})}function F(e){const{value:t,propertySchema:o,environment:a}=e;if(!m.i2(t)&&!S.z4(t)){const e=(null==o?void 0:o.number_format)||h.dk,n=h.uf(t,e,P.default.getIntl());x.RD({stringValue:n,environment:a,copiedMessage:x.tq.copiedPropertyToClipboard})}}function B(e){const{date:t,environment:o,dateFormat:a,timeFormat:n}=e,r=(0,d.ZV)({value:t,date_format:a??l.sF,time_format:n??l.c_,allowRelativeDates:!0,intl:P.default.getIntl()});x.RD({stringValue:r,environment:o,copiedMessage:x.tq.copiedPropertyToClipboard})}async function N(e){const{element:t,rect:o,environment:n,onClick:r,store:l,additionalStores:d=[],property:c,format:p,collectionStore:u,blockPropertyValueOverlayStore:g,disableHorizontalEdgeScroll:m,collectionContextStore:h,mouseStore:f,statusSetCheckbox:y,preventClearSelection:v,collectionsBulkActionsToolbarStore:S,scrollers:x}=e,{device:_,WindowSizeStore:M}=n,w=(h&&k.aJ({store:l,additionalStores:d,collectionContextStore:h})?h.normalizedSchemaStore.state:u.getSchema())[c],I=null==w?void 0:w.type;if(!I)return;if(!k.g0({property:c,collectionStore:u})){if("checkbox"===I){const e=l.getPropertyStore(c);e&&Z.createAndCommit({userAction:"BlockPropertyValue.handleEditButtonClick",environment:n,perform:e=>{j.vO({stores:[l,...d],property:c,transaction:e})}}),h&&T.rv({environment:n,collectionContextStore:h,block_id:e.id,property:c,property_type:I,from:k.Sy(p),isFromBulkActionsToolbar:Boolean(S)})}else if("status"===I&&"status"===w.type&&y){const e=l.getPropertyValue(c),t=s.rO(e,w,P.default.getIntl());l.getPropertyStore(c)&&Z.createAndCommit({userAction:"BlockPropertyValue.handleEditButtonClick",environment:n,perform:e=>{const o=w.groups??[],a=!0===t?o[0]:o[o.length-1],n=(w.options??[]).find((e=>{var t;return e.id===(null==a||null===(t=a.optionIds)||void 0===t?void 0:t[0])}));if(n)for(const t of[l,...d])R.sO({store:t.getPropertyStore(c),value:s.Is(n.value),transaction:e})}})}else{-1===i.uk.indexOf(I)&&(f&&f.setState({...f.state,mouseEntered:!1}),t&&x&&_.isMobileNative&&C.m[I]===b.kQ.Popup&&(L.bx({element:t,scrollers:x,vertical:{reveal:"bottom",paddingToTopEdge:4,paddingToBottomEdge:M.getSafePaddingBottomPx(320)},horizontal:{reveal:"closest"}}),await a.default.afterNextFlush()),j.bA({environment:n,blockPropertyValueOverlayStore:g,store:l,additionalStores:d,property:c,format:p,rect:o,disableHorizontalEdgeScroll:m,collectionContextStore:h,preventClearSelection:v,collectionsBulkActionsToolbarStore:S}),h&&T.zF({environment:n,collectionContextStore:h,property:c,property_type:I,from:k.Sy(p),isFromBulkActionsToolbar:Boolean(S)}))}r&&r()}}},14473:(e,t,o)=>{o.d(t,{O:()=>p});var a=o(15145),n=o(1800),r=o(70219),i=o(80444),s=o(88923),l=o(79797),d=o(36610),c=o(8055);function p(e,t,o,r,p){const{mainEditorCurrentBlockStore:g}=i.default.state;if(!g)return;const m=e.find((e=>e.id===t.id));if(!m)return;let h;if(p){const e=l.G.createChildStore(g,m).getModel(),t=e?u(o,e.getSpaceId()):void 0;h=(0,n.Z)({pageId:m.id,pageModel:e,baseUrl:t,pageVisitSource:a.tY.MentionInPage})}else{const e=g.getModel(),t=e?u(o,e.getSpaceId()):void 0;h=(0,n.Z)({pageId:g.id,pageModel:e,baseUrl:t,peekViewBlockId:m.id,peekMode:(0,s.getUrlParamFromPeekMode)(s.default.state.mode),pageVisitSource:a.tY.MentionInPage}),d.XX(o,{from:r,meta_click:Boolean(p)})}c.c4({environment:o,url:h,openInNew:p})}function u(e,t){return(0,r.b)(e)(t)}},34078:(e,t,o)=>{o.d(t,{Z:()=>l});var a=o(67294),n=o(24405),r=o(44495),i=o(35948),s=o(85893);function l(e){let{setIsHovered:t}=e;window.__c={n:"CollectionDescriptionIconTooltipIndicator"};const[o,l]=(0,i.C)();(0,a.useEffect)((()=>{t(l)}),[l,t]);const d=(0,n.yK)((e=>({container:{display:"inline-flex",alignItems:"center"},icon:{width:14,fill:l?e.mediumIconColor:e.lightIconColor,marginLeft:5,marginTop:1}})),[l]);return(0,s.jsx)("div",{ref:o,style:d.container,children:(0,r.D)(d.icon)})}},97372:(e,t,o)=>{o.d(t,{ZP:()=>P,j9:()=>k,nJ:()=>M});var a=o(67294),n=o(480),r=o(86628),i=o(24405),s=o(80721),l=o(64275),d=o(12392),c=o(82990),p=o(5149),u=o(64921),g=o(73063),m=o(36488),h=o(3386),f=o(78140),y=o(40721),v=o(12534),S=o(87279),x=o(13273),C=o(25130),b=o(58421),_=o(85893);const M=290,k=400;function w(e){let{children:t,title:o,settingsStackLength:a,handleClose:n,handleBackArrowClick:r,hideDesktopHeader:d}=e;window.__c={n:"CollectionSettingsMenuHeader"};const p=(0,i.yK)((e=>({hiddenDesktopHeaderDiv:{height:6},nonHiddenDesktopHeaderDiv:{display:"flex",alignItems:"center",padding:"14px 16px 6px 16px",height:42},arrowButon:{marginRight:8,marginLeft:-2,height:22},arrowIcon:{width:16,height:16},title:{flexGrow:1,fontWeight:c.Z.fontWeight.semibold,fontSize:14,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:18,height:18,flexShrink:0},closeButtonHover:{background:e.buttonPressedBackground},closeIcon:{width:14,fill:e.mediumTextColor}})),[]);return(0,_.jsxs)(_.Fragment,{children:[d&&(0,_.jsx)("div",{style:p.hiddenDesktopHeaderDiv}),!d&&(0,_.jsxs)("div",{style:p.nonHiddenDesktopHeaderDiv,children:[a>1&&(0,_.jsx)(g.Z,{icon:s.W,style:p.arrowButon,iconStyle:p.arrowIcon,onClick:r}),(0,_.jsx)("span",{style:p.title,children:o}),(0,_.jsx)(u.Z,{onClick:n,style:p.closeButton,hoveredStyle:p.closeButtonHover,children:(0,l.D)(p.closeIcon)})]}),t]})}const P=function(e){let{children:t,footer:o,header:i,unconstrainedWidth:s,desktopWidth:l,title:c,collectionSettingsStore:u,fullHeight:k,hideDesktopHeader:P,menuScrollerStyle:I,handleBackArrowClick:T,handleClose:j}=e;window.__c={n:"CollectionSettingsMenu"};const R=(0,n.Fy)(),{currentTab:L,settingsStackLength:Z}=(0,r.VK)((()=>{const e=u.state;return{currentTab:(0,b.n)(u),settingsStackLength:e.stack.length}}),[u]),D=(0,a.useCallback)((()=>{T?T():p.z$({collectionSettingsStore:u})}),[T,u]),V=(0,a.useCallback)((e=>{j?j(e):(0,v.ZP)({event:e,context:v.Af.CollectionSettingsClick,callback:()=>{p.E3({collectionSettingsStore:u})}})}),[j,u]),F=(0,a.useCallback)((e=>{(0,x.jM)(e.target)||(0,x.al)(e.target)||V(e)}),[V]),{MenuArrowKeysProvider:B,context:N}=(0,C.ZP)();if(!L)return null;let A;if(R.isMobile)A={menuType:S.og.Modal,title:c,left:Z>1&&(0,_.jsx)(g.Z,{icon:d.S,onClick:D}),right:(0,_.jsx)(y.DoneMenuText,{}),onClickRight:V,scrollerStyle:{...I}};else{const e=s||l?void 0:M;A={menuType:S.og.Popup,minWidth:M,width:l,maxHeight:k?"calc(100% - 16px)":"50vh",...e&&{maxWidth:e},onClickOutside:F,scrollerStyle:{flexGrow:0,...I},header:(0,_.jsx)(w,{settingsStackLength:Z,handleClose:V,handleBackArrowClick:D,hideDesktopHeader:P,title:c,children:i}),footer:o}}const O=(0,_.jsxs)(_.Fragment,{children:[R.isMobile&&i,t,R.isMobile&&o]});return k?(0,_.jsx)(B,{value:N,children:(0,_.jsx)(h.Z,{debugName:"CollectionSettingsMenu",capture:!0,onUp:N.onKeyDown,onDown:N.onKeyDown,children:(0,_.jsx)(f.Z,{...A,children:O})})}):(0,_.jsx)(m.Z,{capture:!0,allowMobileAutoScroll:!0,allowEsc:!0,allowMenuList:!0,render:e=>(0,_.jsx)(B,{value:N,children:(0,_.jsx)(h.Z,{debugName:"CollectionSettingsMenu",capture:!0,onUp:N.onKeyDown,onDown:N.onKeyDown,children:(0,_.jsx)(f.Z,{...A,...e,children:O})})})})}},7801:(e,t,o)=>{o.d(t,{P:()=>s});o(67294);var a=o(68785),n=o(77907),r=o(97372),i=o(85893);function s(e){return(0,i.jsx)(n.LazyCollectionSettings,{...e,renderLoading:t=>(0,i.jsx)(r.ZP,{collectionSettingsStore:e.collectionSettingsStore,fullHeight:e.fullHeight,hideDesktopHeader:e.hideDesktopHeader,children:t&&(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",overflow:"hidden"},children:(0,i.jsx)(a.Z,{})})})})}},30694:(e,t,o)=>{o.d(t,{L:()=>T,Z:()=>L});o(67294);var a=o(480),n=o(86628),r=o(24405),i=o(15145),s=o(8848),l=o(61061),d=o(16184),c=o(26774),p=o(82990),u=o(9291),g=o(75754),m=o(51592),h=o(7692),f=o(24946),y=o(28020),v=o(49616),S=o(73744),x=o(98165),C=o(80444),b=o(79797),_=o(74016),M=o(64921),k=o(31278),w=o(85893);const P=(0,u.defineMessages)({shared:{defaultMessage:"Shared",id:"CollectionLocation.SidebarTitle.sectionShared"},private:{defaultMessage:"Private",id:"CollectionLocation.SidebarTitle.sectionPrivate"},noAccess:{defaultMessage:"No access",id:"CollectionLocation.noAccess"},emptyCollectionName:{id:"CollectionLocation.EmptyCollectionName",defaultMessage:"Untitled"}});function I(e){return(0,w.jsx)("span",{style:{paddingTop:4,paddingLeft:4,...e.style},children:"/"})}function T(e){window.__c={n:"LocationBreadcrumbTooltip"};const{collectionForLocation:t,collectionContextStore:o}=e,i=(0,a.O7)(),p=(0,u.useIntl)(),g=(0,n.VK)((()=>C.default.state.currentSpaceStore),[]),h=(0,n.VK)((()=>{const e=x.uJ(t);return e.reverse(),e}),[t]),f=(0,n.VK)((()=>o.collectionStoresStore.state),[o]),y=(0,n.VK)((()=>{if(g)return(0,m.x1)({environment:i,typedCollections:f,spaceStore:g})}),[f,i,g]),v=Boolean(null==y?void 0:y.privateDatabases[t.id]),S=Boolean(null==y?void 0:y.restrictedDatabases[t.id]),b=Boolean(null==y?void 0:y.sharedDatabases[t.id]),_=(0,n.VK)((()=>(0,s.gh)({theme:"light"})),[]),M=(0,r.yK)((e=>({textStyle:{color:_.popoverWaxPaperBackground,fontWeight:"normal"},shareTypeIndicatorIcon:{width:20,height:20,marginRight:2,color:e.mediumIconColor,padding:2,backgroundColor:_.accentColors.gray[100],borderRadius:3}})),[_]),k=v||S||b;let T=null;return v?T=(0,w.jsxs)(w.Fragment,{children:[(0,d.Q)(M.shareTypeIndicatorIcon),(0,w.jsx)("span",{children:p.formatMessage(P.private)})]}):S?T=(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{style:{...M.shareTypeIndicatorIcon,padding:0,paddingLeft:1,margin:0},children:(0,l.B)({...M.shareTypeIndicatorIcon,margin:0,background:void 0})}),(0,w.jsx)("span",{children:p.formatMessage(P.noAccess)})]}):b&&(T=(0,w.jsxs)(w.Fragment,{children:[(0,c.O)(M.shareTypeIndicatorIcon),(0,w.jsx)("span",{children:p.formatMessage(P.shared)})]})),(0,w.jsxs)("div",{style:{display:"flex"},children:[k&&(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",columnGap:4,...M.textStyle},children:[T,!S&&(0,w.jsx)(I,{style:{marginTop:-4,...M.textStyle}})]}),h.length>3?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(j,{ancestorStore:h[0],showDivider:!0}),(0,w.jsx)("span",{style:{paddingLeft:2,paddingTop:4,...M.textStyle},children:"..."}),(0,w.jsx)(I,{style:M.textStyle}),!(v||b)&&(0,w.jsx)(j,{ancestorStore:h[h.length-2],showDivider:!0}),(0,w.jsx)(j,{ancestorStore:h[h.length-1],showDivider:!1})]}):h.map(((e,t)=>(0,w.jsx)(j,{ancestorStore:e,showDivider:t<h.length-1},e.id)))]})}function j(e){window.__c={n:"LocationBreadcrumbAncestor"};const{ancestorStore:t,showDivider:o}=e,a=(0,n.VK)((()=>(0,s.gh)({theme:"light"})),[]),i=(0,r.yK)((e=>({teamIconStyle:{background:e.popoverWaxPaperBackground},textStyle:{color:a.popoverWaxPaperBackground,fontWeigth:"normal"}})),[a]);return t instanceof b.zX?(0,w.jsxs)("div",{style:{display:"flex"},children:[(0,w.jsx)(f.Z,{store:t,showDivider:!1,maxWidth:160,iconSize:16,iconStyle:i.teamIconStyle,titleStyle:i.textStyle}),o&&(0,w.jsx)(I,{style:i.textStyle})]}):(0,w.jsxs)("div",{style:{display:"flex"},children:[(0,w.jsx)(h.Z,{store:t,showDivider:!1,emojiSize:18,maxWidth:160,titleStyle:i.textStyle},t.id),o&&(0,w.jsx)(I,{style:i.textStyle})]})}function R(e){window.__c={n:"CollectionInTeamLocation"};const{team:t,collection:o}=e,a=(0,n.VK)((()=>o.getIcon()),[o]),i=(0,r.yK)((e=>({miniTeamSpaceIcon:{background:e.home.tile.background,position:"absolute",bottom:-3,right:-3,borderRadius:2},teamSpaceIcon:{borderRadius:2,marginRight:2}})),[]);return a?(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",position:"relative",marginRight:2},children:[(0,w.jsx)(k.Z,{icon:a,size:20,emojiSize:20,isEmptyPage:!1,bucket:"public",isLarge:!0,largeIcon:!0,disabled:!0}),(0,w.jsx)(_.p,{store:t,disabled:!0,size:12,style:i.miniTeamSpaceIcon},"icon")]}):(0,w.jsx)(_.p,{store:t,disabled:!0,size:20,style:i.teamSpaceIcon},"icon")}const L=function(e){window.__c={n:"CollectionLocation"};const{collectionContextStore:t,collectionForLocation:o}=e,s=(0,a.O7)(),h=(0,u.useIntl)(),f=(0,n.VK)((()=>C.default.state.currentSpaceStore),[]),b=(0,n.VK)((()=>t.collectionStoresStore.state),[t]),_=(0,n.VK)((()=>{if(f)return(0,m.x1)({environment:s,typedCollections:b,spaceStore:f})}),[b,s,f]),I=(0,n.VK)((()=>x.VP(o)),[o]),T=Boolean(null==_?void 0:_.privateDatabases[o.id]),j=Boolean(null==_?void 0:_.restrictedDatabases[o.id]),L=Boolean(null==_?void 0:_.sharedDatabases[o.id]),Z=(0,n.VK)((()=>o.getName()??[[h.formatMessage(P.emptyCollectionName)]]),[o,h]),D=(0,n.VK)((()=>o.getIcon()),[o]),V=(0,n.VK)((()=>{var e;return null===(e=t.collectionViewBlockStore())||void 0===e?void 0:e.id}),[t]),F=(0,n.VK)((()=>{let e=i.tY.LocationProperty;return V?((0,y.qG)(V)&&(e=t.isCompactView.state?i.tY.PersonalHomeTileTasks:i.tY.PersonalHomePageTasks),e):e}),[V,t]),B=(0,r.yK)((e=>({button:{color:e.accentColors.gray[800],cursor:"pointer"},inner:{display:"flex",flexDirection:"row",alignItems:"center",columnGap:4},shareTypeIndicatorIcon:{width:20,height:20,marginRight:2,color:e.mediumIconColor,padding:2,backgroundColor:e.fill.lightGray,borderRadius:3},miniShareTypeIndicatorIcon:{position:"absolute",bottom:-3,right:-3,width:12,height:12,color:e.mediumIconColor,backgroundColor:e.fill.gray,borderRadius:3,paddingTop:1,paddingBottom:1},collectionTitleTextStyle:{lineHeight:1,fontWeight:p.Z.fontWeight.medium,marginTop:2,marginLeft:2,whiteSpace:"nowrap",...(0,v.z0)(e)}})),[]);if(!(I||T||j||L))return null;const N=T||j||L;let A=(0,c.O)(B.shareTypeIndicatorIcon);return D?A=(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",position:"relative"},children:[(0,w.jsx)(k.Z,{icon:D,size:20,emojiSize:20,isEmptyPage:!1,bucket:"public",isLarge:!0,largeIcon:!0,disabled:!0}),T?(0,d.Q)(B.miniShareTypeIndicatorIcon):(0,c.O)(B.miniShareTypeIndicatorIcon)]}):j?A=(0,w.jsx)("div",{style:{...B.shareTypeIndicatorIcon,padding:0,paddingLeft:1,margin:0},children:(0,l.B)({...B.shareTypeIndicatorIcon,margin:0,background:void 0})}):T&&(A=(0,d.Q)(B.shareTypeIndicatorIcon)),(0,w.jsx)(M.Z,{hoveredStyle:{background:"transparent"},pressedStyle:{background:"transparent"},style:B.button,onClick:e=>{const t=o.getParentBlockStore();if(t){const o=(0,S.DJ)(e);g._({environment:s,store:t,pageVisitSource:F,openInNew:o})}},children:(0,w.jsxs)("div",{style:B.inner,children:[I&&(0,w.jsx)(R,{team:I,collection:o}),N&&A,(0,w.jsx)("div",{style:B.collectionTitleTextStyle,children:Z})]})})}},89845:(e,t,o)=>{o.d(t,{Z:()=>h});o(67294);var a=o(83355),n=o(13991),r=o(8848),i=o(7057),s=o(53877),l=o(42875),d=o(36700),c=o(63143),p=o(9291),u=o(26388),g=o(85893);class m extends a.Z{constructor(){super(...arguments),this.reminderTimer=void 0}UNSAFE_willMountOrUpdate(){this.createReminderTimer()}willUnmount(){this.clearReminderTimer()}createReminderTimer(){const e=this.props.value;if(!e)return;const t=s.KR(e,(0,l.r)());if(!t)return;const o=t.valueOf(),a=o-Date.now();a<0||a>c.A0||this.reminderTimer&&this.reminderTimer.timestamp===o||(this.reminderTimer&&clearTimeout(this.reminderTimer.timer),this.reminderTimer={timestamp:o,timer:setTimeout(this.enqueueForceUpdate,a)})}clearReminderTimer(){this.reminderTimer&&(clearTimeout(this.reminderTimer.timer),this.reminderTimer=void 0)}renderComponent(){const{value:e,withComma:t}=this.props;if(!e)return;const o=s.NK(e,(0,l.r)(),n.SP);let a;if(e.reminder){const t=s.Nm(e,(0,l.r)());a=t?{color:this.theme.errorText}:{color:r.ZP.blue}}const c=(0,g.jsxs)(g.Fragment,{children:[(0,i.ZV)({value:e,date_format:this.props.dateFormat,time_format:this.props.timeFormat,userTimeZone:(0,l.r)(),allowRelativeDates:!0,intl:this.props.intl,shortenDateAndRange:this.props.shortenDateAndRange,displayInUserTimezone:this.props.displayInUserTimezone}),e.reminder&&(0,d.m)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),t?", ":null]});return this.props.disableTooltip?(0,g.jsx)("div",{style:{...this.props.style,...a},children:c}):(0,g.jsx)(u.ZP,{renderTooltip:()=>(0,g.jsxs)(g.Fragment,{children:[this.props.tooltipHeader,(0,g.jsxs)("div",{style:y(this.theme,this.props.tooltipHeader),children:[f(o.start),o.end?` → ${f(o.end)}`:""]})]}),render:e=>(0,g.jsx)("div",{style:{...this.props.style,...a},...e,children:c}),placement:this.props.tooltipPlacement})}}m.displayName="DateBox";const h=(0,p.injectIntl)(m);function f(e){return(0,i.ZW)(e,"medium_with_time")}function y(e,t){return t?{color:e.mediumInvertedTextColor}:{}}},56247:(e,t,o)=>{o.d(t,{b:()=>g});o(67294);var a=o(24405),n=o(72126),r=o(38737),i=o(63143),s=o(49616),l=o(33929),d=o(85248),c=o(78942),p=o(85893);const u=21;function g(e){window.__c={n:"NumberValue"};const{numberValue:t,numberFormat:o,numberShowAs:g,shouldRenderTooltip:m,withComma:h,style:f}=e,y=(0,a.Fg)();if(n.i2(t)||i.z4(t))return null;const v=e.progressSize??u,S=(null==g?void 0:g.showValue)??!0,x=S&&r.uf(t,o,l.default.getIntl());let C;if("bar"===(null==g?void 0:g.type)||"ring"===(null==g?void 0:g.type)){const a=r.IM(t,g.maxValue),n="default"===g.color?y.selectLightGray:y.accentColors[g.color],i="dark"===y.mode?n[500]:n[400],l=n[50],u="dark"===y.mode?n[200]:y.selectLightGray[200],h=m?s.X7({numberValue:t,numberFormat:o,numberShowAs:g}):void 0;C="bar"===g.type?(0,p.jsx)(d.k,{percentage:a,filledColor:i,gapColor:l,unfilledColor:u,style:{marginLeft:S?8:0,height:v,...e.barStyle,...S?{}:{flexBasis:"100%"}},tooltip:h}):(0,p.jsx)(c.e,{percentage:a,filledColor:i,gapColor:l,unfilledColor:u,size:v,style:{marginLeft:S?8:0},tooltip:h})}const b={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",...f};return(0,p.jsxs)("div",{style:b,children:[x,C,h?", ":null]})}},80559:(e,t,o)=>{o.d(t,{Q:()=>H,Z:()=>z});o(67294);var a=o(83355),n=o(480),r=o(49085),i=o(99036),s=o(80951),l=o(72126),d=o(9291),c=o(5149),p=o(24677),u=o(98104),g=o(7801),m=o(34078),h=o(75330),f=o(10906),y=o(66890),v=o(68641),S=o(43224),x=o(19124),C=o(98742),b=o(39500),_=o(77907),M=o(22294),k=o(85526),w=o(86628),P=o(24405),I=o(90199),T=o(82990),j=o(31278),R=o(76798),L=o(26388),Z=o(85893);const D=function(e){let{store:t,propertyName:o,disableTooltip:a,render:n}=e;return(0,Z.jsx)(L.ZP,{renderTooltip:()=>(0,Z.jsx)(V,{store:t,propertyName:o}),disableTooltip:Boolean(a),delayThreshold:300,render:e=>n(e),placement:L.ug.Left})};function V(e){let{store:t,propertyName:o}=e;window.__c={n:"ParentCollectionLockedTooltipComponent"};const a=(0,P.Fg)(),n=(0,w.VK)((()=>t.getIcon()),[t]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("div",{children:o}),(0,Z.jsxs)("div",{style:{display:"flex",alignItems:"start"},children:[(0,Z.jsx)("div",{style:{paddingTop:4,paddingRight:6},children:(0,I.b)({width:12,fill:a.regularInvertedTextColor})}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("div",{children:(0,Z.jsx)(d.FormattedMessage,{defaultMessage:"Page properties are locked",id:"database.editProperty.databaseLocked.tooltipPart1"})}),(0,Z.jsx)("div",{style:{color:a.mediumInvertedTextColor},children:(0,Z.jsx)(d.FormattedMessage,{defaultMessage:"Please go to {recordIconAndTitle} to unlock",id:"database.editProperty.databaseLocked.tooltipPart2",values:{recordIconAndTitle:(0,Z.jsxs)("span",{style:{whiteSpace:"nowrap",fontWeight:T.Z.fontWeight.bold},children:[n&&(0,Z.jsx)(j.Z,{disabled:!0,icon:n,isEmptyPage:!1,size:12,style:{marginRight:4,display:"inline-block"}}),(0,Z.jsx)(R.Z,{store:t,style:{display:"inline"}})]})}})})]})]})]})}var F=o(23063),B=o(64921),N=o(50478),A=o(53437),O=o(97820);class H extends a.Z{constructor(){super(...arguments),this.popupContainer=null,this.storeTypes={isHoveringDescriptionIconStore:r.default.createClass(!1)},this.renderOrigin=e=>{const{property:t,schema:o,disabled:a,locked:n,canConfigureCollection:r,disableRowNameInteractivity:i}=this.props,{collectionContextStore:s}=this.context,d=o[t];if(!d)return;const c=null==s?void 0:s.collectionStore();if(!c||!s)return;const g=s.permissionScopes.state,m={onClick:!i&&g.canConfigureBlock?()=>function(e,t,o){u.ZH(o),p.ZH(o),h.wG(),k.Z.setState({...k.Z.state,openProperty:{property:e,isInPeekRenderer:t}})}(this.props.property,this.props.isInPeekRenderer,this.environment):l.yR};return f.p1(c)?(0,Z.jsx)(D,{propertyName:d.name,disableTooltip:n||!c.canEditCollection(),render:s=>(0,Z.jsx)(K,{hideIcon:Boolean(this.props.hideIcon),schema:o,property:t,disabled:a||Boolean(i),locked:n,canConfigureCollection:r,events:(0,C.Z)(e,(0,C.Z)(m,s)),propertyNameAriaId:this.props.propertyNameAriaId,setIsDescriptionIconTooltipHovered:e=>this.stores.isHoveringDescriptionIconStore.setState(e)}),store:c}):(0,Z.jsx)(K,{hideIcon:Boolean(this.props.hideIcon),schema:o,property:t,disabled:a||Boolean(i),locked:n,canConfigureCollection:r,events:(0,C.Z)(m,e),propertyNameAriaId:this.props.propertyNameAriaId,setIsDescriptionIconTooltipHovered:e=>this.stores.isHoveringDescriptionIconStore.setState(e)})},this.renderPopup=()=>{const{collectionContextStore:e}=this.context,t=null==e?void 0:e.settingsStore;if(e&&t)return(0,Z.jsx)(Z.Fragment,{children:t.state.open?(0,Z.jsx)(g.P,{context:v.HV.TopbarFilterPopup,collectionContextStore:e,collectionSettingsStore:t,hideDesktopHeader:!0}):(0,Z.jsx)(_.LazyPagePropertiesRowNameMenu,{...this.props,popupContainer:this.popupContainer})})}}renderComponent(){const{property:e,schema:t,disabled:o,locked:a,canConfigureCollection:n,isInPeekRenderer:r,origin:l,hideDragHandle:p,blockStore:u}=this.props,g=t[e],{device:m}=this.environment;if(!g)return;const{collectionContextStore:h}=this.context,y=null==h?void 0:h.collectionStore();if(!y||!h)return;const v=k.Z.state.hoveredProperty===e&&!M.Z.state.isKeyboardMode&&!p,{openProperty:C}=k.Z.state,_=this.stores.isHoveringDescriptionIconStore.state;return(0,Z.jsx)(L.ZP,{renderTooltip:t=>{const o=(0,i.qQ)(g)&&("text"===g.type||(0,x.KZ)())&&(0,i.q3)(g),a=(0,s.KK)(u.getModel(),y.getModel(),e);return(0,Z.jsxs)("div",{...t,style:S.F6,children:[(0,Z.jsx)("div",{children:g.name}),void 0!==(null==g?void 0:g.description)&&g.description.length>0?(0,Z.jsx)("div",{style:{color:this.theme.mediumInvertedTextColor},children:g.description}):null,o&&o.auto_update_on_edit&&(0,Z.jsx)("div",{style:{color:this.theme.mediumInvertedTextColor},children:(0,Z.jsx)(d.FormattedMessage,{defaultMessage:"Auto-updated by AI",id:"database.tableHeaderCell.tooltipAiAutofillDescription"})}),a&&(0,Z.jsx)("div",{style:{color:this.theme.mediumInvertedTextColor},children:(0,Z.jsx)(d.FormattedMessage,{defaultMessage:"Auto-updated by Notion Calendar",id:"database.tableHeaderCell.tooltipNotionCalendarDescription"})})]})},delayThreshold:_?0:500,placement:L.ug.Left,disableTooltip:f.p1(y),render:t=>(0,Z.jsxs)("div",{style:E(this.environment,this.theme,this.props.style),onMouseMove:()=>q(this.props.property),onMouseLeave:W,children:[!m.isMobile&&!o&&!(a||!n)&&!p&&(0,Z.jsx)(F.Z,{isVisible:!0,animationStyle:{opacity:v?1:0},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},render:()=>(0,Z.jsx)("div",{style:{width:N.C$+4,marginLeft:-(N.C$+4),...this.props.dragHandleStyle},onMouseMove:()=>q(this.props.property),onMouseLeave:W,children:(0,Z.jsx)(N.ZP,{role:"cell",disallowTabbing:!0,onClick:e=>function(e,t,o){b.X9()||k.Z.setState({...k.Z.state,openProperty:{property:t,isInPeekRenderer:o}})}(0,this.props.property,this.props.isInPeekRenderer)})})}),(0,Z.jsx)(A.ZP,{style:this.props.popupStyle,popupType:m.isMobile?A.kQ.SlideUp:A.kQ.Popup,originGap:1,alignmentToOrigin:A.ZP.Alignment.Start,render:this.renderPopup,open:Boolean(C&&C.property===e&&C.isInPeekRenderer===r),onDismiss:()=>{k.Z.setState({...k.Z.state,openProperty:void 0});const e=h.settingsStore;c.E3({collectionSettingsStore:e})},origin:l??this.renderOrigin(t),ref:e=>{this.popupContainer=e}})]},e)})}}function K(e){var t;window.__c={n:"PagePropertyRowNameLabel"};const{schema:o,property:a,disabled:r,locked:i,canConfigureCollection:s,events:l}=e,d=o[a],{isMobile:c}=(0,n.Fy)();return d?(0,Z.jsx)(B.Z,{role:"cell",id:e.propertyNameAriaId,style:{display:"flex",alignItems:"center",height:"100%",width:"100%",borderRadius:4,padding:"0 6px"},disabled:r||i||!s,...l,onContextMenu:e=>{e.preventDefault(),l.onClick(e)},children:(0,Z.jsx)(O.Z,{propertySchema:d,showIcon:!e.hideIcon,badge:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(O.o,{propertySchema:d}),!c&&!(null===(t=d.description)||void 0===t||!t.length)&&(0,Z.jsx)(m.Z,{setIsHovered:e.setIsDescriptionIconTooltipHovered})]}),style:{fontSize:14},property:a})}):null}H.displayName="PagePropertiesRowName",H.contextTypes={...a.w,...y.xm};const z=(0,d.injectIntl)(H);function E(e,t,o){const{device:a}=e;return{display:"flex",alignItems:"center",height:34,width:a.isMobile?120:160,flex:"none",color:t.mediumTextColor,...o}}function W(){k.Z.setState({...k.Z.state,hoveredProperty:void 0})}function q(e){k.Z.setState({...k.Z.state,hoveredProperty:e})}},52247:(e,t,o)=>{o.d(t,{Z:()=>ce});o(57658);var a=o(67294),n=o(73935),r=o(83355),i=o(1302),s=o(86628),l=o(24405),d=o(49085),c=o(92996),p=o(41432),u=o(99036),g=o(80951),m=o(12396),h=o(84619),f=o(89767),y=o(47453),v=o(70663),S=o(35840),x=o(4615),C=o(21202),b=o(6287),_=o(70203),M=o(82990),k=o(9291),w=o(36610),P=o(952),I=o(51365),T=o(31869),j=o(98834),R=o(60971),L=o(9953),Z=o(14473),D=o(98104),V=o(82530),F=o(51592),B=o(66890),N=o(49616),A=o(75079),O=o(33929),H=o(65598),K=o(29376),z=o(77907),E=o(86098),W=o(45452),q=o(77080),U=o(29798),$=o(85526),G=o(79797),Q=o(78030),X=o(88071),Y=o(64921),J=o(79131),ee=o(32163),te=o(72495),oe=o(26388),ae=o(80559),ne=o(85893);const re={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0};class ie extends r.Z{constructor(){super(...arguments),this.storeTypes={menuListStore:U.Z,customTokenLimit:d.default.createClass(10),draggableListStore:W.Z},this.getRelationMenuRows=(e,t,o,a,n,r)=>{const{store:i,collectionStore:s,disabled:l,property:d,locked:p}=this.props,g=o.getFormatStore().getKeyStore("app_config_uri").getValue()===c.p$;return e.reduce(((e,c,m)=>{const h=G.G.createChildStore(i,c),f=h.getAssociatedCollectionStore();if((null==f?void 0:f.id)===u.F0(t)){const c=q.default.checkGate("relation_menu_refactor")?z.LazyRelationMenuRow:z.LazyRelationMenuRowOld,u={key:h.id,render:e=>(0,ne.jsx)(c,{...e,canDrag:n&&1!==t.limit&&i.canEdit(),collectionStore:s,targetCollectionStore:o,relatedPageStore:h,disabled:l,canConfigureCollection:r,locked:p,isSelected:!0,pageStore:i,property:d,rowType:"section",onActionButtonClick:()=>this.handleRemoveRelationClick(a,h,o),onMouseLeave:()=>this.stores.menuListStore.unsetFocus(),onSecondaryButtonClick:()=>this.handleCreateNewRelation(m+1,o,"relation_section_inline"),onInsertInline:g?()=>{D.ZH(this.environment)}:()=>this.handleCreateNewRelation(m+1,o,"relation_section_inline"),onOpenPageButtonClick:()=>{Z.O(a,h,this.environment,"relation_section_inline")},index:m+1,propertyLimit:t.limit}),action:e=>{}};e.push(u)}return e}),[])},this.relationValueStore=this.createComputedStore((()=>{const{store:e,schema:t,property:o}=this.props,a=t[o];if(!a||"relation"!==a.type)return[];const n=e.getPropertyValue(o);return g.j$({relationValue:g.rq(n),propertySchema:a,getRecordModel:e.getRecordModel})}),!0),this.numberOfRelations=this.createComputedStore((()=>this.relationValueStore.state.length)),this.handleRemoveRelationClick=(e,t,o)=>{var a;const{store:n,schema:r,property:i,blockPropertyValueOverlayStore:s}=this.props,{collectionContextStore:l}=this.context,d=r[i];if("relation"!==(null==d?void 0:d.type)||!l)return;const c=d.limit?[]:e.filter((e=>e.id!==t.id));V.createAndCommit({userAction:"RelationSection.handleRemoveRelationClick",environment:this.environment,perform:e=>{T.sf({store:n,propertyId:i,value:c,environment:this.environment,relatedPageId:t.id,propertySchema:d,transaction:e,collectionContextStore:l,analyticsData:{isFromBulkActionsToolbar:N.VM(s),analyticsFrom:N.Sy(Q.C.Page)},isUnthrottled:!1})}}),w.WF(this.environment,{from:"relation_section",collection_id:null===(a=this.props.collectionStore)||void 0===a?void 0:a.id,target_collection_id:null==o?void 0:o.id})},this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleDraggableListDrop=(e,t)=>function(e,t,o,a,n,r,i,s){const l=n[r];if(!l||"relation"!==l.type)return;const d=u.j0(l);if(!d)return;const c=G.NW.createChildStore(i,d);if(!(0,H.OY)(i)||!r)return;const p=i.getPropertyValue(r),m=g.j$({relationValue:g.rq(p),propertySchema:l,getRecordModel:i.getRecordModel}),h=[...e.map((e=>({id:e,spaceId:a.pointer.spaceId,table:C.iU}))),...m.slice(e.length)];ue({value:h},c,i,r,o),w.yT(o,{from:"relation_section"}),R.sv({store:s,focus:{section:0,indexLocal:t.endPosition,indexGlobal:t.endPosition}})}(e,t,this.environment,this.props.collectionStore,this.props.schema,this.props.property,this.props.store,this.stores.menuListStore),this.handleOpenProperty=(e,t,o)=>{const{blockPropertyValueOverlayStore:a,store:r,property:i}=this.props,{collectionContextStore:s}=this.context,l=n.findDOMNode(this.relationPropertyPageSectionRef);if(!(l&&l instanceof Element))return;const d=o?null==o?void 0:o.getBoundingClientRect():l.getBoundingClientRect(),c=e?d.top+K.Mu:d.top+5,p=new DOMRect(d.left,c,d.width,d.height);I.bA({environment:this.environment,blockPropertyValueOverlayStore:a,store:r,property:i,rect:p,format:Q.C.Page,mode:t,collectionContextStore:s}),w.ud(this.environment,{from:"relation_section"})},this.handleRelationPropertyPageSectionRefMount=e=>{e&&(this.relationPropertyPageSectionRef=e)},this.handleCreateNewRelation=(e,t,o)=>{const{store:a,schema:n,property:r,collectionStore:i}=this.props,{collectionContextStore:s}=this.context;if(!r)return;const l=n[r];if(!l||"relation"!==l.type)return;if(!a.canEdit())return;const d=(0,x.ZP)(),c=i.pointer.spaceId,p=l.limit,u={id:d,table:C.iU,spaceId:c};if(!(0,H.OY)(a)||!this.props.property)return;const m=a.getPropertyValue(this.props.property),h=g.j$({relationValue:g.rq(m),propertySchema:l,getRecordModel:a.getRecordModel}),{customTokenLimit:f}=this.stores,y=f.state;e&&e+1>y&&f.setState(e+1);ue({newPage:{id:d,spaceId:c,name:""},value:p?[u]:e?[...h.slice(0,e),u,...h.slice(e)]:[u,...h]},t,this.props.store,this.props.property,this.environment),P.W(this.environment,{...(0,A.Pn)(s),from:o,type:"page",target_collection_id:null==t?void 0:t.id,new_page_id:d,creating_block_id:d})}}renderComponent(){const{schema:e,format:t,locked:o,property:a,collectionStore:n,store:r,disabled:i,visibility:s,isInPeekRenderer:l,topBorder:d,disableRowNameInteractivity:p}=this.props,{device:g}=this.environment,{collectionContextStore:m}=this.context,S=e[a];if("relation"!==(null==S?void 0:S.type)||!m)return;const x=u.j0(S);if(!x)return;const C=G.NW.createChildStore(r,x),b=m.permissionScopes.state,_=this.relationValueStore.state,{customTokenLimit:M}=this.stores,w=M.state,P=_.slice(0,w),I=C.getFormatStore().getKeyStore("app_config_uri").getValue()===c.p$;if("section_hide"===s)return;if("minimal"===s||0===this.numberOfRelations.state)return(0,ne.jsx)(se,{property:a,propertySchema:S,numberOfRelations:this.numberOfRelations.state,onHandleOpenProperty:this.handleOpenProperty,onHandleRelationPropertyPageSectionRefMount:this.handleRelationPropertyPageSectionRefMount,schema:e,format:t,disabled:i,locked:o,canConfigureCollection:b.canConfigureCollection,blockStore:r,collectionStore:n,collectionContextStore:m,isInPeekRenderer:l,targetCollectionStore:C});const T=1===S.limit,j=!(g.isMobile||i||o||T),R=this.getRelationMenuRows(P,S,C,_,j,b.canConfigureCollection),L=R.map((e=>e.key.toString())),Z=(0,ne.jsx)(ee.Z,{type:ee.i.Vertical,store:this.stores.menuListStore,initialFocus:void 0,disableKeyboard:!0,style:{width:"100%"},sections:[{key:"section",render:e=>(0,ne.jsx)(te.Z,{...e,disableDesktopPadding:!0,disableMobileBorders:!0,children:j?(0,ne.jsx)(J.ZP,{direction:"vertical",keys:L,renderKey:t=>e.children[L.indexOf(t)],onDrop:this.CLASS_COMPONENT_CONVERSION_DO_NOT_TOUCH_handleDraggableListDrop,store:this.stores.draggableListStore}):e.children}),items:R}]}),D=C.canEdit(),V=r.canEdit(),F={maxWidth:g.isMobile?"none":300,...!g.isMobile&&{width:"auto"},...g.isMobile&&{paddingLeft:"none"}};return(0,ne.jsx)(le,{collectionContextStore:m,title:(0,ne.jsx)(ae.Q,{schema:e,format:t,property:a,blockStore:r,collectionStore:n,disabled:i,locked:o,canConfigureCollection:b.canConfigureCollection,intl:O.default.getIntl(),style:F,popupStyle:F,isInPeekRenderer:l,hideDragHandle:p,disableRowNameInteractivity:p}),collectionStore:n,targetCollectionStore:C,property:a,showRight:!0,disabled:i,schema:e,format:t,locked:o,canEditTargetCollection:C.canEdit(),canConfigureCollection:b.canConfigureCollection,canEditCurrentPage:V,handleMouseMove:this.props.handleMouseMove,onHandleOpenProperty:()=>{this.handleOpenProperty(!1)},onHandleRelationPropertyPageSectionRefMount:this.handleRelationPropertyPageSectionRefMount,onTitleEnter:()=>this.handleCreateNewRelation(void 0,C,"relation_section_inline"),handleClearProperty:()=>ge(C,this.props.store,this.props.property,this.environment),topBorder:d,children:(0,ne.jsxs)("div",{style:{flex:1,minWidth:0,display:"flex",flexWrap:"wrap",flexDirection:"column",paddingBottom:"12px",paddingTop:"12px",width:"100%",...g.isMobile&&{paddingLeft:"none"}},onMouseMove:this.props.handleMouseMove,onMouseLeave:this.props.handleMouseLeave,children:[Z,_.length>w&&(0,ne.jsx)(Y.Z,{style:{width:"100%",display:"flex",alignItems:"center",borderRadius:3,fontSize:14,minHeight:30,margin:0,padding:"6px 8px 7px 8px"},onClick:()=>M.setState(w+10),children:(0,ne.jsx)(X.Z,{count:_.length-w,format:h.lo.Medium,style:{margin:void 0},fixedHeight:!1,isCompact:!1})}),D&&V&&!o&&(0,ne.jsxs)(Y.Z,{style:(B=this.theme,{display:"flex",alignItems:"center",color:B.lightTextColor,borderRadius:4,paddingLeft:4,paddingRight:6,height:32,width:"100%",fontSize:14}),onClick:()=>{I?ge(C,this.props.store,this.props.property,this.environment):this.handleCreateNewRelation(_.length>=w?w:_.length+1,C,"relation_section_footer")},disabled:i||o,children:[I?(0,f.R)({width:16,height:16,marginRight:11,marginTop:1,marginLeft:4,fill:"#868682"}):1===S.limit?(0,v.h)(pe(this.theme)):(0,y.R)(pe(this.theme)),(0,ne.jsxs)("div",{style:re,children:[I&&(0,ne.jsx)("span",{style:{color:this.theme.mediumTextColor},children:(0,ne.jsx)(k.FormattedMessage,{id:"RelationPropertyPageSection.button.replacePageSprint",defaultMessage:"Move to backlog"})}),!I&&(1===S.limit?(0,ne.jsx)(k.FormattedMessage,{id:"RelationPropertyPageSection.button.replacePage",defaultMessage:"Replace linked page from {propertyName}",values:{propertyName:S.name}}):(0,ne.jsx)(k.FormattedMessage,{id:"RelationPropertyPageSection.button.addPage",defaultMessage:"New page in {propertyName}",values:{propertyName:S.name}}))]})]})]})},a);var B}}function se(e){window.__c={n:"RelationPropertyMinimalPageSection"};const{property:t,propertySchema:o,numberOfRelations:n,schema:r,format:i,disabled:d,locked:p,canConfigureCollection:u,blockStore:g,collectionStore:h,onHandleOpenProperty:f,onHandleRelationPropertyPageSectionRefMount:y,isInPeekRenderer:v,targetCollectionStore:S}=e,x=(0,l.yK)((e=>({hoverButton:{display:"flex",alignItems:"baseline",justifyContent:"normal",color:e.mediumTextColor,width:"100%"},minimalButton:{display:"inline-flex",alignItems:"center",flexShrink:0,whiteSpace:"nowrap",height:28,borderRadius:4,fontSize:14,lineHeight:1.2,minWidth:0,paddingLeft:6,paddingRight:8,fontWeight:M.Z.fontWeight.medium,color:e.mediumTextColor},minimalButtonWrapper:{width:"100%",maxWidth:"100%",fontWeight:M.Z.fontWeight.medium,color:e.mediumTextColor},iconStyle:{width:14,height:14,fill:e.mediumIconColor,marginRight:6,alignItems:"baseline"},pagePropertiesRowName:{width:"100%",display:"inline-flex",flexWrap:"wrap"}})),[]),C=(0,l.Fg)(),b=(0,a.useCallback)((()=>{$.Z.setState({...$.Z.state,hoveredProperty:t})}),[t]),_=(0,a.useCallback)((()=>{$.Z.setState({...$.Z.state,hoveredProperty:void 0})}),[]),w=(0,s.VK)((()=>S.getFormatStore().getKeyStore("app_config_uri").getValue()),[S]),P=(0,F.sN)(c.p$),I=(0,F.Q_)(c.p$);return(0,ne.jsx)("div",{style:x.hoverButton,onMouseMove:b,onMouseLeave:_,children:(0,ne.jsx)(ae.Q,{schema:r,format:i,property:t,blockStore:g,collectionStore:h,disabled:d,locked:p,canConfigureCollection:u,intl:O.default.getIntl(),style:x.pagePropertiesRowName,popupStyle:x.pagePropertiesRowName,origin:(0,ne.jsx)("div",{ref:y,style:x.minimalButtonWrapper,children:(0,ne.jsx)(Y.Z,{style:x.minimalButton,onClick:()=>f(!0),onContextMenu:e=>{d||p||!u||(e.preventDefault(),$.Z.setState({...$.Z.state,openProperty:{property:t,isInPeekRenderer:v}}))},children:(0,ne.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ne.jsx)(m.ZP,{size:14,style:x.iconStyle,theme:C,type:o.type??"relation",icon:o.icon}),w===c.p$?(0,ne.jsx)(k.FormattedMessage,{id:"RelationPropertyPageSection.sprints.showSprintRelations",defaultMessage:"{numberOfRelations, plural, =0 {Add {propertyName}} one {1 {singleTypedItemName}} other {{numberOfRelations} {pluralTypedItemName}}}",values:{numberOfRelations:n,propertyName:o.name,singleTypedItemName:P,pluralTypedItemName:I}}):(0,ne.jsx)(k.FormattedMessage,{id:"RelationPropertyPageSection.showRelations",defaultMessage:"{numberOfRelations, plural, =0 {Add {propertyName}} one {1 {propertyName}} other {{numberOfRelations} {propertyName}}}",values:{numberOfRelations:n,propertyName:o.name}})]})},`minimal-section-${t}`)}),hideDragHandle:!0,isInPeekRenderer:v})})}function le(e){window.__c={n:"RelationPropertyPageSectionHeader"};const{collectionStore:t,targetCollectionStore:o,property:a,showRight:n,disabled:r,locked:i,style:l,children:d,canEditTargetCollection:p,canConfigureCollection:g,canEditCurrentPage:m,handleMouseMove:h,onHandleOpenProperty:f,onHandleRelationPropertyPageSectionRefMount:v,onTitleEnter:x,topBorder:C=!0}=e,b=(0,s.VK)((()=>o.isSyncedCollection()),[o]),_=(0,s.VK)((()=>{const e=t.getSchema()[a];return Boolean(e&&u.NK(e))}),[t,a]),M=(0,s.VK)((()=>o.getFormatStore().getKeyStore("app_config_uri").getValue()===c.p$),[o]);return(0,ne.jsx)("div",{style:{width:"100%"},ref:v,children:(0,ne.jsx)(te.Z,{...e,topBorder:C,children:d,noTextOverflow:!0,isTitleUppercase:!1,right:n&&!b&&!_&&(0,ne.jsxs)("div",{style:{height:"100%",display:"flex",alignItems:"center",width:"100%"},children:[m&&(0,ne.jsx)(de,{disabled:r,handleMouseMove:h,onClick:f,icon:S.R,tooltipMessage:M?(0,ne.jsx)(k.FormattedMessage,{id:"database.RelationPropertyPageSectionHeaderButton.tooltip.searchButtonSprints.message",defaultMessage:"Search for a sprint"}):(0,ne.jsx)(k.FormattedMessage,{id:"database.RelationPropertyPageSectionHeaderButton.tooltip.searchButton.message",defaultMessage:"Link a page"})},`searchIcon-${a}`),p&&m&&!M&&!i&&(0,ne.jsx)(de,{disabled:r,handleMouseMove:h,onClick:x,icon:y.R,tooltipMessage:M?(0,ne.jsx)(k.FormattedMessage,{id:"database.RelationPropertyPageSectionHeaderButton.tooltip.addButtonSprints.message",defaultMessage:"Create new sprint"}):(0,ne.jsx)(k.FormattedMessage,{id:"database.RelationPropertyPageSectionHeaderButton.tooltip.addButton.message",defaultMessage:"Add new page"})},`addIcon-${a}`),(0,ne.jsx)(z.LazyRelationPropertyCustomizeLayoutMenu,{collectionStore:t,targetCollectionStore:o,property:a,disabled:r||!g,rowType:"section"})]}),style:{paddingTop:0,paddingBottom:2,width:"100%",...l},desktopTitleStyle:{height:6,paddingLeft:0,paddingRight:8,paddingTop:24,fontWeight:"normal"},mobileTitleStyle:{paddingLeft:0,alignItems:"center",fontWeight:"normal"}})})}function de(e){window.__c={n:"RelationPropertyPageSectionHeaderButton"};const{disabled:t,handleMouseMove:o,onClick:a,icon:n,tooltipMessage:r}=e,i=(0,l.yK)((e=>({buttonStyle:{width:24,height:24,borderRadius:4,display:"inline-flex",alignItems:"center",justifyContent:"center",marginRight:4},iconStyle:{width:14,height:14,flexGrow:0,flexShrink:0,fill:e.mediumIconColor}})),[]);return(0,ne.jsx)(oe.ZP,{renderTooltip:()=>r,render:e=>(0,ne.jsx)(Y.Z,{style:i.buttonStyle,onMouseMove:o,onClick:a,disabled:t,...e,children:n(i.iconStyle)})})}ie.displayName="RelationPropertyPageSection",ie.contextTypes={...r.w,...B.xm};const ce=ie;function pe(e){return{width:16,height:16,marginRight:11,marginTop:1,marginLeft:4,fill:e.lightIconColor}}function ue(e,t,o,a,n){if(!(0,H.OY)(o)||!a)return;let r;V.createAndCommit({userAction:"RelationToken.handleRelationPropertyMenuUpdate",environment:n,perform:i=>{const s=t.id;if(e.newPage&&s){const a=_.TPx(e.newPage.name),l={id:e.newPage.id,version:0,type:p.Ti.page,parent_id:s,parent_table:b.v,alive:!0,properties:{title:a},collection_id:void 0,space_id:e.newPage.spaceId};r=L.ae({environment:n,table:C.iU,value:l,inMemoryRecordCache:t.inMemoryRecordCache,transaction:i});const d=G.G.createChildStore(o,r.pointer),c=t.getDefaultTemplatePageStore();c&&j.ob({title:{text:a},environment:n,store:d,templateStore:c,isKeyboard:!1,isCreateIn:!1,transaction:i,from:"relation_property_page_section"})}if(e.value){const t=g.ow(e.value),n=o.getPropertyStore(a);L.sO({store:n,value:t,transaction:i})}}}),i.default.afterNextFlush((()=>{if(!r)return;const e=E.Z.findRow(r.id,"section",a);if(!e)return;const t=e.relationTokenBlockStoreRef.current;if(!t)return;const o=t.getBlockTitleStore(),n=o.getValue(),i=n?n[0][0].length:0,s={start:{index:i,store:o},end:{index:i,store:o}};D.NA({multiSelection:s})}))}function ge(e,t,o,a){ue({value:[]},e,t,o,a)}},44831:(e,t,o)=>{o.d(t,{O:()=>h});o(67294);var a=o(86628),n=o(24405),r=o(99036),i=o(84242),s=o(82990),l=o(14976),d=o(77181),c=o(26842),p=o(26388),u=o(85893);const g=275,m=75;function h(e){let{blockStore:t,collectionContextStore:o,columnWidth:h}=e;window.__c={n:"ParentItemIndicator"};const f=(0,a.VK)((()=>o.currentSubitemFormatStoreForCollection.state),[o]),y=(0,a.VK)((()=>t.getAssociatedCollectionStore()),[t]),v=(0,a.VK)((()=>{var e;return null===(e=o.collectionViewStore())||void 0===e?void 0:e.getType()}),[o]),S=(0,a.VK)((()=>{if(!f||!y)return;const e=y.getSchema()[f.property];return void 0!==e&&(0,r.p_)(e)?e:void 0}),[y,f]),x="table"===v||"list"===v||"timeline"===v,C=(0,n.yK)((e=>({parentItemIcon:{color:e.mediumIconColor,width:14,height:14,marginRight:2},wrapper:{display:"inline-flex",alignItems:"center",...x?{}:{maxWidth:"100%"},paddingRight:8},parentTitle:{...x?{maxWidth:h?h-m+"px":g}:{},textOverflow:"ellipsis",overflow:"hidden",color:e.lightTextColor,fontWeight:s.Z.fontWeight.medium,fontSize:s.Z.fontSize.UISmall.desktop,whiteSpace:"nowrap"}})),[h,x]),b=(0,a.VK)((()=>f&&S?(0,d.xb)({store:t,subitemFormat:f,propertySchema:S}):[]),[t,f,S]),_=(0,a.VK)((()=>{var e;if(0===b.length)return;const o=b[0],a=c.G.createChildStore(t,o),n=null===(e=a.getTitleStore())||void 0===e?void 0:e.getValue();return(0,l.Xh)(n,a)}),[t,b]);return(0,a.VK)((()=>(0,d.Cr)({collectionContextStore:o,blockId:t.id,blockStore:t})),[o,t])&&0!==b.length?(0,u.jsx)(p.ZP,{renderTooltip:()=>(0,u.jsx)("div",{children:_}),placement:p.ug.Bottom,alignment:p.v2.Start,delayThreshold:300,render:e=>(0,u.jsxs)("span",{style:C.wrapper,...e,children:[(0,i.v)(C.parentItemIcon),(0,u.jsx)("span",{style:C.parentTitle,children:_})]})}):null}},41137:(e,t,o)=>{o.d(t,{B:()=>p});o(67294);var a=o(86628),n=o(24405),r=o(99036),i=o(8505),s=o(82990),l=o(10906),d=o(77181),c=o(85893);function p(e){let{blockStore:t,collectionContextStore:o}=e;window.__c={n:"SubitemCountIndicator"};const p=(0,a.VK)((()=>o.currentSubitemFormatStoreForCollection.state),[o]),u=(0,a.VK)((()=>(0,l.Bm)({store:t,collectionContextStore:o})),[o,t]),g=(0,a.VK)((()=>{if(!p||!u)return;const e=u.getSchema()[p.property];return void 0!==e&&(0,r.p_)(e)?e:void 0}),[u,p]),m=(0,n.yK)((e=>({subItemIcon:{color:e.mediumIconColor,width:14,height:14,marginRight:2},wrapper:{display:"inline-flex",alignItems:"center",verticalAlign:" text-top",paddingRight:8},numSubitemsSpan:{fontSize:s.Z.fontSize.UISmall.desktop,fontWeight:s.Z.fontWeight.medium,color:e.lightTextColor}})),[]),h=(0,a.VK)((()=>p&&g?(0,d.CJ)({store:t,subitemFormat:p,propertySchema:g}):[]),[t,p,g]);return(0,a.VK)((()=>(0,d.wI)({collectionContextStore:o,blockStore:t})),[o,t])&&0!==h.length?(0,c.jsxs)("span",{style:m.wrapper,children:[(0,i.S)(m.subItemIcon),(0,c.jsx)("span",{style:m.numSubitemsSpan,children:h.length})]}):null}},91007:(e,t,o)=>{o.d(t,{Z:()=>w});var a=o(67294),n=o(480),r=o(86628),i=o(24405),s=o(8848),l=o(13148),d=o(9291),c=o(38208),p=o(91851),u=o(40663),g=o(66890),m=o(33929),h=o(85957),f=o(24646),y=o(80444),v=o(3418),S=o(88923),x=o(23063),C=o(73063),b=o(32662),_=o(85893);const M="pm_intro_tooltip",k=(0,d.defineMessages)({dismissTooltip:{defaultMessage:"Dismiss tooltip",id:"components.collections.projManagementIntroTooltip.dismissTooltip"}});function w(e){window.__c={n:"ProjManagementIntroTooltip"};const t=(0,n.O7)(),o=(0,g.DK)(),w=(0,n.Fy)(),{store:P,origin:I,isFirstTooltip:T,phase:j,additionalPhaseToShowOn:R}=e,L=(0,r.VK)((()=>y.default.state.currentUserSettingsStore),[]),Z=(0,r.VK)((()=>y.default.state.currentSpaceStore),[]),D=(0,r.VK)((()=>(0,u.jH)(L,Z)),[L,Z]),V=(0,r.VK)((()=>{var e;return null==o||null===(e=o.settingsStore.state)||void 0===e?void 0:e.open}),[o]),F=(0,r.VK)((()=>{if("assign_to_someone"===D||"change_task_status"===D||"select_a_project"===D){const e=S.default.isSidePeekOpen()?590:650;return(0,h.wq)(P)&&(0,h.PQ)(t)>=e||!(0,h.wq)(P)&&(0,f.$3)(t)>=e?"right":"bottom"}return"bottom"}),[D,P,t]),B=(0,r.VK)((()=>{const e=y.default.state.inAppCalloutStore;return!(v.Z.state.openPopups.size>0||V||!e.canShow("pm_intro_tooltip"))&&(D===j||(!(D||!T)||!(!R||D!==R)))}),[V,D,j,T,R]),N=(0,a.useCallback)((()=>{T&&L&&Z&&!D&&p.uR({environment:t,requiredCurrPhase:void 0,nextPhase:"create_a_task",currentUserSettingsStore:L,currentSpaceStore:Z})}),[D,L,Z,t,T]);(0,a.useEffect)((()=>{if(B){var e;y.default.state.inAppCalloutStore.updateCalloutStatus({calloutId:M,visible:!0}),c.AD(t,{phase:j,collection_id:null==o||null===(e=o.collectionStore())||void 0===e?void 0:e.id,space_id:null==Z?void 0:Z.id}),N()}}),[o,null==Z?void 0:Z.id,t,j,B,N]);const A=(0,a.useCallback)((()=>{var e;if(L&&Z){if("create_a_task"===j)p.uR({environment:t,requiredCurrPhase:"create_a_task",nextPhase:"assign_to_someone",currentUserSettingsStore:L,currentSpaceStore:Z});else{y.default.state.inAppCalloutStore.updateCalloutStatus({calloutId:M,visible:!1}),p.uR({environment:t,requiredCurrPhase:void 0,nextPhase:"complete",currentUserSettingsStore:L,currentSpaceStore:Z})}c.rx(t,{phase:j,collection_id:null==o||null===(e=o.collectionStore())||void 0===e?void 0:e.id,space_id:null==Z?void 0:Z.id})}}),[o,Z,L,t,j]),O=(0,i.yK)((e=>({popupContainer:{fontSize:12,color:s.ZP.white,position:"absolute",..."bottom"===F?{top:"calc(100% + 12px)",left:"calc(50% - 110px)"}:{},..."right"===F?{top:"select_a_project"===j?"calc(2px - 50%)":"calc(-5px - 50%)",left:"calc(100% + 12px)"}:{},background:"dark"===e.mode?e.accentColors.gray[400]:e.accentColors.gray[700],borderRadius:6,padding:"8px 12px 12px 12px",width:220,boxShadow:e.largeLightBoxShadow,zIndex:99},circle:{position:"absolute",..."bottom"===F?{top:-12,left:"calc(50% - 3px)"}:{},..."right"===F?{top:"calc(50% - 3px)",left:-12}:{},background:s.ZP.UIDocNotificationsDarkGrayColor,width:6,height:6,borderRadius:6,boxShadow:`0 0 0 1.5px ${e.contentBackground}`},verticalLine:{position:"absolute",..."bottom"===F?{top:-11,left:"calc(50% - 1px)",width:2,height:11}:{},..."right"===F?{top:"calc(50% - 1px)",left:-11,width:11,height:2}:{},background:s.ZP.UIDocNotificationsDarkGrayColor},popupTitle:{width:"90%",fontWeight:500,marginBottom:2},popupDescription:{opacity:.8,lineHeight:1.35},iconButtonStyle:{position:"absolute",top:4,right:4,opacity:.8},iconStyle:{width:12,fill:s.ZP.white},dotStyle:{width:5,height:5,borderRadius:"50%",background:s.FN.dark.gray[600]},activeDotStyle:{width:5,height:5,borderRadius:"50%",background:s.FN.dark.gray[800]}})),[F,j]),H=(0,a.useCallback)((()=>(0,_.jsxs)("div",{style:O.popupContainer,children:[(0,_.jsx)("div",{style:O.circle}),(0,_.jsx)("div",{style:O.verticalLine}),(0,_.jsxs)("div",{style:O.popupTitle,children:["create_a_task"===j&&(0,_.jsx)(d.FormattedMessage,{defaultMessage:"Create a new task",id:"pmIntroTooltip.title.createATask"}),"assign_to_someone"===j&&(0,_.jsx)(d.FormattedMessage,{defaultMessage:"Assign it to someone",id:"pmIntroTooltip.title.assignToSomeone"}),"change_task_status"===j&&(0,_.jsx)(d.FormattedMessage,{defaultMessage:"Update status",id:"pmIntroTooltip.title.changeTaskStatus"}),"click_view_settings"===j&&(0,_.jsx)(d.FormattedMessage,{defaultMessage:"Configure your tasks",id:"pmIntroTooltip.title.clickViewSettings"}),"select_a_project"===j&&(0,_.jsx)(d.FormattedMessage,{defaultMessage:"Select a project",id:"pmIntroTooltip.title.selectAProject"})]}),(0,_.jsxs)("div",{style:O.popupDescription,children:["create_a_task"===j&&(0,_.jsx)(d.FormattedMessage,{defaultMessage:"Start from scratch or use the dropdown to select or create a template",id:"pmIntroTooltip.subtitle.createATask"}),"assign_to_someone"===j&&(0,_.jsx)(d.FormattedMessage,{defaultMessage:"Click to select one or multiple people",id:"pmIntroTooltip.subtitle.assignToSomeone"}),"change_task_status"===j&&(0,_.jsx)(d.FormattedMessage,{defaultMessage:"Click to change the status to ‘In progress’ or something else",id:"pmIntroTooltip.subtitle.changeTaskStatus"}),"click_view_settings"===j&&(0,_.jsx)(d.FormattedMessage,{defaultMessage:"Further configure your tasks layout, grouping, properties and more",id:"pmIntroTooltip.subtitle.clickViewSettings"}),"select_a_project"===j&&(0,_.jsx)(d.FormattedMessage,{defaultMessage:"Click to add this task to a project",id:"pmIntroTooltip.subtitle.selectAProject"})]}),(0,_.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:8},children:[(0,_.jsx)("div",{style:"create_a_task"===j?O.activeDotStyle:O.dotStyle}),(0,_.jsx)(b.Z,{size:6}),(0,_.jsx)("div",{style:"assign_to_someone"===j?O.activeDotStyle:O.dotStyle}),(0,_.jsx)(b.Z,{size:6}),(0,_.jsx)("div",{style:"change_task_status"===j?O.activeDotStyle:O.dotStyle}),(0,_.jsx)(b.Z,{size:6}),(0,_.jsx)("div",{style:"select_a_project"===j||"click_view_settings"===j?O.activeDotStyle:O.dotStyle})]}),(0,_.jsx)(C.Z,{icon:l.U,style:O.iconButtonStyle,iconStyle:O.iconStyle,onClick:A,ariaLabel:m.default.formatMessage(k.dismissTooltip)})]})),[A,j,O.activeDotStyle,O.circle,O.dotStyle,O.iconButtonStyle,O.iconStyle,O.popupContainer,O.popupDescription,O.popupTitle,O.verticalLine]);return w.isMobile?(0,_.jsx)(_.Fragment,{children:I}):(0,_.jsxs)("div",{style:{position:"relative"},children:[I,(0,_.jsx)(x.Z,{isVisible:B,animationStyle:{opacity:1},enterAnimationStyle:{opacity:-10},exitAnimationStyle:{opacity:0},render:H})]})}},11028:(e,t,o)=>{o.d(t,{z:()=>m});var a=o(67294),n=o(24405),r=o(94308),i=o(50063),s=o(97880),l=o(82990),d=o(70693),c=o(4308),p=o(9291),u=o(53876),g=o(85893);function m(e){window.__c={n:"VerificationPropertyLabel"};const{verificationValue:t,fontSize:o=u.z6}=e,m=(0,p.useIntl)(),h=(0,a.useMemo)((()=>c.WN(t)),[t]),f=h.type,y=(0,n.yK)((e=>({icon:{width:"expired"===f?8:14,height:"expired"===f?9:14,fill:"verified"===f?e.blueColor:e.mediumIconColor},caption:{fontVariantNumeric:"normal",fontWeight:l.Z.fontWeight.regular,color:e.regularTextColor,textTransform:"none",letterSpacing:0,marginLeft:6,marginRight:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:o,lineHeight:u.Ac},expiredIconContainer:{width:14,height:14,borderRadius:6,border:"1px dashed",borderColor:e.mediumIconColor,display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0}})),[f,o]);if("none"===f)return null;let v=null,S=null;const x=y.caption;switch(f){case"verified":v=(0,r.f)({...y.icon}),S=h.isIndefinite?(0,g.jsx)(p.FormattedMessage,{defaultMessage:"Verified",id:"VerificationPropertyButton.verifiedIndefinitely"}):(0,g.jsx)(p.FormattedMessage,{defaultMessage:"Until {date}",id:"VerificationPropertyButton.verifiedUntil",values:{date:d.mb({dateTime:h.dateTimeRange.end,intl:m})}});break;case"expired":v=(0,g.jsx)("div",{style:y.expiredIconContainer,children:(0,i.X)({...y.icon})}),S=(0,g.jsx)(p.FormattedMessage,{defaultMessage:"Expired {timeFromMoment}",id:"VerificationPropertyButton.expired",values:{timeFromMoment:c.kY(h.dateTimeRange.end)}});break;default:(0,s.t1)(f)}return(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:[v,(0,g.jsx)("div",{style:x,children:S})]})}},58230:(e,t,o)=>{o.d(t,{Z:()=>h});o(67294);var a=o(480),n=o(86628),r=o(54368),i=o(77420),s=o(19889),l=o(97880),d=o(70693),c=o(9291),p=o(79797),u=o(39111),g=o(29302),m=o(85893);function h(e){window.__c={n:"VerificationSummary"};const{isMobile:t}=(0,a.Fy)();return(0,m.jsx)("div",{style:t?{padding:"12px 20px",fontSize:14}:{fontSize:12,display:"flex",alignItems:"center"},children:(0,m.jsx)(f,{...e})})}function f(e){window.__c={n:"VerificationSummaryMessage"};const{verificationState:t,blockStore:o}=e,a=(0,c.useIntl)();switch(t.type){case"none":return null;case"verified":return t.isIndefinite?(0,m.jsx)(c.FormattedMessage,{defaultMessage:"Verified by {user} on {date}",id:"VerificationSummary.verifiedIndefinitely",values:{user:(0,m.jsx)(y,{actorPointer:t.actorPointer,blockStore:o}),date:(0,d.mb)({dateTime:t.startDateTime,intl:a})}}):(0,m.jsx)(c.FormattedMessage,{defaultMessage:"Verified by {user} from {dateTimeRange}",id:"VerificationSummary.verified",values:{user:(0,m.jsx)(y,{actorPointer:t.actorPointer,blockStore:o}),dateTimeRange:(0,d.pe)({luxonRange:t.dateTimeRange,intl:a})}});case"expired":return(0,m.jsx)(c.FormattedMessage,{defaultMessage:"Last verified by {user} from {dateTimeRange}",id:"VerificationSummary.verificationExpired",values:{user:(0,m.jsx)(y,{actorPointer:t.actorPointer,blockStore:o}),dateTimeRange:(0,d.pe)({luxonRange:t.dateTimeRange,intl:a})}});default:(0,l.t1)(t)}}function y(e){window.__c={n:"VerificationSummaryUser"};const{actorPointer:t,blockStore:o}=e,a=(0,n.VK)((()=>p.t1.createChildStore(o,t)),[o,t]),d={display:"flex",marginLeft:4,marginRight:4};return a.table===s.KJ?(0,m.jsx)(g.Z,{userStore:a,inline:!0,style:d,avatarSize:16,avatarMarginRight:4}):a.table===i.cZ?(0,m.jsx)(u.Z,{botStore:a,style:d,avatarSize:16}):a.table===r.y?(0,m.jsx)(g.Z,{userStore:void 0,inline:!0,style:d,avatarSize:16,avatarMarginRight:4}):void(0,l.t1)(a)}},49616:(e,t,o)=>{o.d(t,{AF:()=>C,Hw:()=>x,Sy:()=>v,TP:()=>w,VM:()=>y,X7:()=>b,X9:()=>M,aJ:()=>P,g0:()=>_,z0:()=>S});var a=o(15145),n=o(80951),r=o(58810),i=o(17683),s=o(32240),l=o(72126),d=o(38737),c=o(97880),p=o(64002),u=o(63143),g=o(9291),m=o(78030),h=o(84210),f=o(33929);function y(e){return Boolean(e.state.isOpen&&e.state.collectionsBulkActionsToolbarStore)}function v(e){switch(e){case m.C.Table:return"table";case m.C.Board:return"board";case m.C.ListView:return"list";case m.C.GalleryView:return"gallery";case m.C.Relation:case m.C.RelationSection:return"relation_section";case m.C.Timeline:return"timeline";case m.C.Calendar:return"calendar";case m.C.Page:return"page_properties";case m.C.CompactPage:return"compact_page";case m.C.Mini:return"mini_peek";case m.C.PropertyModule:return"property_module";default:(0,c.t1)(e)}}function S(e){return{backgroundImage:`linear-gradient(\n\t\tto right,\n\t\t${e.darkDividerColor} 0%,\n\t\t${e.darkDividerColor} 100%\n\t)`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}function x(e){const{store:t,property:o,propertySchema:r}=e,i=null==r?void 0:r.type;if("title"===i)return(0,h.ZP)({store:t,fullyQualified:!1,pageVisitSource:a.tY.LinkInPage});{const e=t.getPropertyValue(o);return n.Hw(i,e)}}function C(e){let t=n.zB(e);if(!t||""===t.trim()||t.trim().includes(" "))return{domain:void 0,restOfUrl:void 0};t=t.trim();let o=p.Qc(t),a=o.host;if(o.protocol&&a||(o=p.Qc(`http://${t}`),a=o.host),!a)return{domain:void 0,restOfUrl:void 0};a&&(a=a.replace(/^www./i,""));const r=t.toLowerCase().indexOf(a.toLowerCase());if(-1===r)return{domain:void 0,restOfUrl:void 0};a=t.slice(r,r+a.length);return{domain:a,restOfUrl:t.slice(r+a.length)}}function b(e){const{numberValue:t,numberFormat:o,numberShowAs:a}=e;if(!(l.i2(t)||u.z4(t)||"bar"!==(null==a?void 0:a.type)&&"ring"!==(null==a?void 0:a.type))){const e=f.default.getIntl();return"percent"===o?d.uf(t,"percent",e):`${t} / ${a.maxValue}`}}function _(e){const{property:t,collectionStore:o}=e,a=o.isSyncedCollection();return Boolean(a)&&n.wl(t)}function M(e,t){switch(e){case"side_peek":return{icon:s.y,tooltip:f.default.formatMessage(k.openInSidePeekTooltip),caption:t?"":f.default.formatMessage(k.openAsPageTitle)};case"center_peek":return{icon:i.Q,tooltip:f.default.formatMessage(k.openInCenterPeekTooltip),caption:t?"":f.default.formatMessage(k.openAsPageTitle)};case"full_page":return{icon:r.Z,tooltip:f.default.formatMessage(k.openAsPageTooltip),caption:t?"":f.default.formatMessage(k.openAsPageTitle)};default:(0,c.t1)(e)}}const k=(0,g.defineMessages)({openAsPageTitle:{defaultMessage:"Open",id:"database.actionButton.openAsPageTitle"},openAsPageTooltip:{defaultMessage:"Open as page",id:"database.actionButton.openAsPageTooltip"},openInCenterPeekTooltip:{defaultMessage:"Open in center peek",id:"database.actionButton.openInCenterPeekTooltip"},openInSidePeekTooltip:{defaultMessage:"Open in side peek",id:"database.actionButton.openInSidePeekTooltip"}});function w(e){const t=e.getSchema();if(t)for(const[a,n]of Object.entries(t)){var o;if(n&&"text"===n.type&&"summarize"===(null===(o=n.ai_inference)||void 0===o?void 0:o.type)){const t=e.getPropertyValue(a);if(t)return t}}}function P(e){const{store:t,additionalStores:o,collectionContextStore:a}=e,n=t.getAssociatedCollectionStore();return!("collectionTypedView"!==(null==a?void 0:a.contextType)||!n)&&o.some((e=>{var t;return(null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.id)!==n.id}))}},16187:(e,t,o)=>{o.d(t,{BG:()=>y,Ol:()=>x,SD:()=>S,Sn:()=>v,VN:()=>g,v6:()=>h});var a=o(41892),n=o(2032),r=o(40506),i=o(7057),s=o(72126),l=o(38737),d=o(97880),c=o(9291),p=o(33929);const u=(0,c.defineMessages)({show_unique:{defaultMessage:"Show unique values",id:"database.aggregationFullName.unique_values"},count:{defaultMessage:"Count all",id:"database.aggregationFullName.count"},count_values:{defaultMessage:"Count values",id:"database.aggregationFullName.count_values"},unique:{defaultMessage:"Count unique values",id:"database.aggregationFullName.unique"},empty:{defaultMessage:"Count empty",id:"database.aggregationFullName.empty"},not_empty:{defaultMessage:"Count not empty",id:"database.aggregationFullName.not_empty"},percent_empty:{defaultMessage:"Percent empty",id:"database.aggregationFullName.percent_empty"},percent_not_empty:{defaultMessage:"Percent not empty",id:"database.aggregationFullName.percent_not_empty"},sum:{defaultMessage:"Sum",id:"database.aggregationFullName.sum"},average:{defaultMessage:"Average",id:"database.aggregationFullName.average"},median:{defaultMessage:"Median",id:"database.aggregationFullName.median"},min:{defaultMessage:"Min",id:"database.aggregationFullName.min"},max:{defaultMessage:"Max",id:"database.aggregationFullName.max"},range:{defaultMessage:"Range",id:"database.aggregationFullName.range"},earliest_date:{defaultMessage:"Earliest date",id:"database.aggregationFullName.earliest_date"},latest_date:{defaultMessage:"Latest date",id:"database.aggregationFullName.latest_date"},date_range:{defaultMessage:"Date range",id:"database.aggregationFullName.date_range"},checked:{defaultMessage:"Checked",id:"database.aggregationFullName.checked"},unchecked:{defaultMessage:"Unchecked",id:"database.aggregationFullName.unchecked"},percent_checked:{defaultMessage:"Percent checked",id:"database.aggregationFullName.percent_checked"},percent_unchecked:{defaultMessage:"Percent unchecked",id:"database.aggregationFullName.percent_unchecked"},count_per_group:{defaultMessage:"Count per group",id:"database.aggregationFullName.count_per_group"},percent_per_group:{defaultMessage:"Percent per group",id:"database.aggregationFullName.percent_per_group"}}),g={count:p.default.formatMessage(u.count),count_values:p.default.formatMessage(u.count_values),unique:p.default.formatMessage(u.unique),show_unique:p.default.formatMessage(u.show_unique),empty:p.default.formatMessage(u.empty),not_empty:p.default.formatMessage(u.not_empty),percent_empty:p.default.formatMessage(u.percent_empty),percent_not_empty:p.default.formatMessage(u.percent_not_empty),sum:p.default.formatMessage(u.sum),average:p.default.formatMessage(u.average),median:p.default.formatMessage(u.median),min:p.default.formatMessage(u.min),max:p.default.formatMessage(u.max),range:p.default.formatMessage(u.range),earliest_date:p.default.formatMessage(u.earliest_date),latest_date:p.default.formatMessage(u.latest_date),date_range:p.default.formatMessage(u.date_range),checked:p.default.formatMessage(u.checked),unchecked:p.default.formatMessage(u.unchecked),percent_checked:p.default.formatMessage(u.percent_checked),percent_unchecked:p.default.formatMessage(u.percent_unchecked),count_per_group:p.default.formatMessage(u.count_per_group),percent_per_group:p.default.formatMessage(u.percent_per_group)},m=(0,c.defineMessages)({count:{defaultMessage:"Count",id:"database.aggregationShortName.count"},count_values:{defaultMessage:"Values",id:"database.aggregationShortName.count_values"},unique:{defaultMessage:"Unique",id:"database.aggregationShortName.unique"},show_unique:{defaultMessage:"Show unique",id:"database.aggregationShortName.showUnique"},empty:{defaultMessage:"Empty",id:"database.aggregationShortName.empty"},not_empty:{defaultMessage:"Not Empty",id:"database.aggregationShortName.not_empty"},percent_empty:{defaultMessage:"Empty",id:"database.aggregationShortName.percent_empty"},percent_not_empty:{defaultMessage:"Not Empty",id:"database.aggregationShortName.percent_not_empty"},sum:{defaultMessage:"Sum",id:"database.aggregationShortName.sum"},average:{defaultMessage:"Average",id:"database.aggregationShortName.average"},median:{defaultMessage:"Median",id:"database.aggregationShortName.median"},min:{defaultMessage:"Min",id:"database.aggregationShortName.min"},max:{defaultMessage:"Max",id:"database.aggregationShortName.max"},range:{defaultMessage:"Range",id:"database.aggregationShortName.range"},earliest_date:{defaultMessage:"Earliest",id:"database.aggregationShortName.earliest_date"},latest_date:{defaultMessage:"Latest",id:"database.aggregationShortName.latest_date"},date_range:{defaultMessage:"Range",id:"database.aggregationShortName.date_range"},checked:{defaultMessage:"Checked",id:"database.aggregationShortName.checked"},unchecked:{defaultMessage:"Unchecked",id:"database.aggregationShortName.unchecked"},percent_checked:{defaultMessage:"Checked",id:"database.aggregationShortName.percent_checked"},percent_unchecked:{defaultMessage:"Unchecked",id:"database.aggregationShortName.percent_unchecked"},count_per_group:{defaultMessage:"Count",id:"database.aggregationShortName.count_per_group"},percent_per_group:{defaultMessage:"Percent",id:"database.aggregationShortName.percent_per_group"}}),h={count:p.default.formatMessage(m.count),count_values:p.default.formatMessage(m.count_values),unique:p.default.formatMessage(m.unique),show_unique:p.default.formatMessage(m.show_unique),empty:p.default.formatMessage(m.empty),not_empty:p.default.formatMessage(m.not_empty),percent_empty:p.default.formatMessage(m.percent_empty),percent_not_empty:p.default.formatMessage(m.percent_not_empty),sum:p.default.formatMessage(m.sum),average:p.default.formatMessage(m.average),median:p.default.formatMessage(m.median),min:p.default.formatMessage(m.min),max:p.default.formatMessage(m.max),range:p.default.formatMessage(m.range),earliest_date:p.default.formatMessage(m.earliest_date),latest_date:p.default.formatMessage(m.latest_date),date_range:p.default.formatMessage(m.date_range),checked:p.default.formatMessage(m.checked),unchecked:p.default.formatMessage(m.unchecked),percent_checked:p.default.formatMessage(m.percent_checked),percent_unchecked:p.default.formatMessage(m.percent_unchecked),count_per_group:p.default.formatMessage(m.count_per_group),percent_per_group:p.default.formatMessage(m.percent_per_group)},f=(0,c.defineMessages)({count:{defaultMessage:"Counts the total number of pages, including blank pages.",id:"database.aggregationDescription.count"},count_values:{defaultMessage:"Counts the number of non-empty values for this property. For a type that can contain multiple values like multi-select or person, this will count the number of selected values for each page.",id:"database.aggregationDescription.count_values"},unique:{defaultMessage:"Counts the number of unique values for this property. For a type that can contain multiple values like multi-select or person, this will count the unique values across all pages.",id:"database.aggregationDescription.unique"},show_unique:{defaultMessage:"Shows the unique values for this property. For a type that can contain multiple values like multi-select or person, this will count the unique values across all pages.",id:"database.aggregationDescription.show_unique"},empty:{defaultMessage:"Counts the number of pages with an empty value for this property.",id:"database.aggregationDescription.empty"},not_empty:{defaultMessage:"Counts the number of pages with a non-empty value for this property.",id:"database.aggregationDescription.not_empty"},percent_empty:{defaultMessage:"Displays the percentage of pages that have an empty value for this property.",id:"database.aggregationDescription.percent_empty"},percent_not_empty:{defaultMessage:"Displays the percentage of pages that have a non-empty value for this property.",id:"database.aggregationDescription.percent_not_empty"},sum:{defaultMessage:"Computes the sum of a numeric property.",id:"database.aggregationDescription.sum"},average:{defaultMessage:"Computes the average of a numeric property.",id:"database.aggregationDescription.average"},median:{defaultMessage:"Finds the median of a numeric property.",id:"database.aggregationDescription.median"},min:{defaultMessage:"Finds the minimum of a numeric property.",id:"database.aggregationDescription.min"},max:{defaultMessage:"Finds the maximum of a numeric property.",id:"database.aggregationDescription.max"},range:{defaultMessage:"Computes the range (maximum - minimum) of a numeric property.",id:"database.aggregationDescription.range"},earliest_date:{defaultMessage:"Finds the earliest date in time of a date property.",id:"database.aggregationDescription.earliest_date"},latest_date:{defaultMessage:"Finds the latest date in time of a date property.",id:"database.aggregationDescription.latest_date"},date_range:{defaultMessage:"Computes the date range (latest date - earliest date) of a date property.",id:"database.aggregationDescription.date_range"},checked:{defaultMessage:"Counts the number of pages with a checked checkbox for this property.",id:"database.aggregationDescription.checked"},unchecked:{defaultMessage:"Counts the number of pages with an unchecked checkbox for this property.",id:"database.aggregationDescription.unchecked"},percent_checked:{defaultMessage:"Displays the percentage of pages that have a checked checkbox for this property.",id:"database.aggregationDescription.percent_checked"},percent_unchecked:{defaultMessage:"Displays the percentage of pages that have an unchecked checkbox for this property.",id:"database.aggregationDescription.percent_unchecked"},count_per_group:{defaultMessage:"Counts the total number of pages that have this Status Group.",id:"database.aggregationDescription.count_per_group"},percent_per_group:{defaultMessage:"Displays the percentage of pages that have this Status Group",id:"database.aggregationDescription.percent_per_group"}}),y={count:p.default.formatMessage(f.count),count_values:p.default.formatMessage(f.count_values),unique:p.default.formatMessage(f.unique),show_unique:p.default.formatMessage(f.show_unique),empty:p.default.formatMessage(f.empty),not_empty:p.default.formatMessage(f.not_empty),percent_empty:p.default.formatMessage(f.percent_empty),percent_not_empty:p.default.formatMessage(f.percent_not_empty),sum:p.default.formatMessage(f.sum),average:p.default.formatMessage(f.average),median:p.default.formatMessage(f.median),min:p.default.formatMessage(f.min),max:p.default.formatMessage(f.max),range:p.default.formatMessage(f.range),earliest_date:p.default.formatMessage(f.earliest_date),latest_date:p.default.formatMessage(f.latest_date),date_range:p.default.formatMessage(f.date_range),checked:p.default.formatMessage(f.checked),unchecked:p.default.formatMessage(f.unchecked),percent_checked:p.default.formatMessage(f.percent_checked),percent_unchecked:p.default.formatMessage(f.percent_unchecked),count_per_group:p.default.formatMessage(f.count_per_group),percent_per_group:p.default.formatMessage(f.percent_per_group)},v={count:a.Z.images.aggregations.countPng,count_values:a.Z.images.aggregations.countValuesPng,unique:a.Z.images.aggregations.uniquePng,show_unique:void 0,empty:a.Z.images.aggregations.emptyPng,not_empty:a.Z.images.aggregations.notEmptyPng,percent_empty:a.Z.images.aggregations.percentEmptyPng,percent_not_empty:a.Z.images.aggregations.percentNotEmptyPng,sum:a.Z.images.aggregations.sumPng,average:a.Z.images.aggregations.averagePng,median:a.Z.images.aggregations.medianPng,min:a.Z.images.aggregations.minPng,max:a.Z.images.aggregations.maxPng,range:a.Z.images.aggregations.rangePng,earliest_date:a.Z.images.aggregations.earliestDatePng,latest_date:a.Z.images.aggregations.latestDatePng,date_range:a.Z.images.aggregations.dateRangePng,checked:a.Z.images.aggregations.checkedPng,unchecked:a.Z.images.aggregations.uncheckedPng,percent_checked:a.Z.images.aggregations.percentCheckedPng,percent_unchecked:a.Z.images.aggregations.percentUncheckedPng,count_per_group:a.Z.images.aggregations.countPng,percent_per_group:a.Z.images.aggregations.percentCheckedPng};function S(e,t){switch(e){case"earliest_date":case"show_unique":case"latest_date":case"earliest_date":case"date_range":return;case"percent_empty":case"percent_not_empty":case"percent_checked":case"percent_unchecked":return"percent";case"count":case"empty":case"not_empty":case"unique":case"count_values":case"checked":case"unchecked":return"number";case"sum":case"average":case"median":case"min":case"max":case"range":return t??"number";default:switch(e.operator){case"count_per_group":return;case"percent_per_group":return"percent";default:(0,d.t1)(e.operator)}}}function x(e){const{aggregationType:t,value:o,userTimeZone:a,dateFormat:d,roundDecimal:c}=e;if("date"===o.type){if(!(0,n.Fw)(t))return;if(!o.value)return;return"date_range"===t?(0,i.LU)(o.value,a,p.default.getIntl()):(0,i.ZV)({value:r.QD(o.value),date_format:d??r.sF,userTimeZone:a,allowRelativeDates:!0,intl:p.default.getIntl()})}if((0,n.Fw)(t))return;if("show_unique"===t)return;if("object"==typeof o.value)return;if("string"==typeof o.value)return o.value;const u=void 0===o.value?void 0:s.NM(o.value,c),g=S(t,e.numberFormat);return(0,l.uf)(u,g,p.default.getIntl())}},68641:(e,t,o)=>{o.d(t,{HV:()=>n,WY:()=>i,jI:()=>r,vw:()=>s});o(21703);var a=o(6695);let n=function(e){return e[e.ViewSettings=0]="ViewSettings",e[e.FilterBar=1]="FilterBar",e[e.TopbarFilterPopup=2]="TopbarFilterPopup",e[e.TopbarSortPopup=3]="TopbarSortPopup",e[e.ViewBlock=4]="ViewBlock",e}({});function r(e){const{timelineViewTab:t,collectionContextStore:o}=e,n=i({collectionContextStore:o}),r=s({collectionContextStore:o});return"timeline"===n?"timeline"===t?"timeline_properties":r?"timeline_table_properties":void 0:(0,a.oz)(i({collectionContextStore:o}))}function i(e){var t;const{collectionContextStore:o}=e,a=null===(t=o.collectionViewStore())||void 0===t?void 0:t.getType();if(!a)throw new Error("View type was not defined.");return a}function s(e){const{collectionContextStore:t}=e,o=t.normalizedFormatStore.state;return Boolean(o.timeline_show_table)}},73807:(e,t,o)=>{o.d(t,{_:()=>r});var a=o(86628),n=o(77080);function r(){return(0,a.VK)((()=>n.default.getConfigKey("collection_request_settings","clientFormulaTimeoutMs")),[])}},5971:(e,t,o)=>{o.d(t,{E:()=>r});var a=o(86628),n=o(77080);function r(e){return(0,a.VK)((()=>n.default.checkGate(e)),[e])}},35948:(e,t,o)=>{o.d(t,{C:()=>n});var a=o(67294);function n(){const e=(0,a.useRef)(null),[t,o]=(0,a.useState)(!1),n=(0,a.useCallback)((()=>{const t=e.current;t&&o(t.matches(":hover"))}),[]),r=(0,a.useCallback)((t=>{e.current=t,n()}),[n]);return(0,a.useEffect)((()=>{const t=e.current;if(t)return t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",n),()=>{t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",n)}}),[n]),[r,t]}},61931:(e,t,o)=>{o.d(t,{$1:()=>v,A5:()=>p,Cm:()=>d,EP:()=>s,Er:()=>S,FK:()=>g,MI:()=>f,QF:()=>c,Uf:()=>l,Wx:()=>h,XX:()=>n,_U:()=>b,iO:()=>i,jO:()=>y,jX:()=>u,jq:()=>r,yc:()=>m});var a=o(97880);const n=80,r=40,i=24,s=20,l=270,d=405,c=480,p=16,u=44,g=144,m=144,h="linear-gradient(transparent 0%, black 10px)",f={backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"};function y(e){return{width:48,height:48,fill:e.lightIconColor}}function v(e){let{theme:t,isPhone:o}=e;return o?t.personalHomeBackgroundPhone:t.personalHomeBackgroundDesktop}function S(e){let{theme:t,isPhone:o,buttonState:a,hasCover:n}=e,r=t.whiteButtonBackground;switch(a){case"hovered":r=t.whiteButtonHoveredBackground;break;case"pressed":r=t.whiteButtonPressedBackground}return o&&(r=void 0),{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",background:r,...f,boxShadow:n?b({isPhone:o,theme:t}):void 0,width:28,height:28,borderRadius:4}}const x=1,C=.5;function b(e){let{isPhone:t,theme:o}=e;if("dark"===o.mode)return"unset";o.mode;const n=t?C:x,r=o.home.tile.border&&`0 0 0 ${n}px ${o.home.tile.border}`;return t?r:[r,"0 12px 40px rgba(0, 0, 0, 0.025)"].filter(a.$K).join(", ")}},86098:(e,t,o)=>{o.d(t,{Z:()=>r});var a=o(35431);class n extends a.Z{findRow(e,t,o){return this.find((a=>a.props.relatedPageStore.id===e&&a.props.rowType===t&&a.props.property===o))}}const r=new n},79576:(e,t,o)=>{o.d(t,{W:()=>i});var a=o(49085),n=o(4615);class r extends a.default{getInitialState(){return{type:"uninitialized"}}isWriting(){return"filling"===this.state.type&&!this.state.haveAllBlocksCompletedAutofill&&!this.state.didInterruptStreaming}setIsWriting(e){var t;const{propertySchema:o,stores:a,sessionIdForAnalytics:r}=e,i=a[0].getAssociatedCollectionId()??(null===(t=a[0].getCollectionViewCollectionStore())||void 0===t?void 0:t.id),s=r||(0,n.ZP)();return this.setState({type:"filling",propertySchema:o,collectionId:i,numBlocksToAutofill:a.length,numBlocksAutofilled:0,sessionId:s,didInterruptStreaming:!1,haveAllBlocksCompletedAutofill:!1}),s}}const i=new r},80721:(e,t,o)=>{o.d(t,{W:()=>r});o(67294);var a=o(45238),n=o(85893);const r=(0,a.I)("arrowLeftThick",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},13148:(e,t,o)=>{o.d(t,{U:()=>r});o(67294);var a=o(45238),n=o(85893);const r=(0,a.I)("close",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M2.89795 13.3428C3.18799 13.6262 3.6626 13.6262 3.93945 13.3494L7.99341 9.29541L12.0474 13.3494C12.3308 13.6262 12.8054 13.6328 13.0889 13.3428C13.3723 13.0593 13.3723 12.5847 13.0955 12.3079L9.0415 8.24731L13.0955 4.19336C13.3723 3.9165 13.3789 3.4353 13.0889 3.15845C12.7988 2.875 12.3308 2.875 12.0474 3.15186L7.99341 7.20581L3.93945 3.15186C3.6626 2.875 3.1814 2.86841 2.89795 3.15186C2.6145 3.44189 2.62109 3.9231 2.89795 4.19336L6.9519 8.24731L2.89795 12.3079C2.62109 12.5781 2.6145 13.0659 2.89795 13.3428Z"})})},89767:(e,t,o)=>{o.d(t,{R:()=>r});o(67294);var a=o(45238),n=o(85893);const r=(0,a.I)("collectionInbox",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M11.0918,0 C11.5383,0 11.9307,0.295898 12.0533,0.725586 L13.9615,7.40332 C13.9871,7.49316 14,7.58594 14,7.67871 L14,13 C14,13.5527 13.5522,14 13,14 L1,14 C0.447754,14 0,13.5527 0,13 L0,7.67871 C0,7.58594 0.0129395,7.49316 0.0384521,7.40332 L1.94666,0.725586 C2.06934,0.295898 2.46167,0 2.9082,0 L11.0918,0 Z M4.27271,1.5 C3.83728,1.5 3.45178,1.78223 3.31982,2.19727 L1.91455,6.61328 C1.70947,7.25879 2.1908,7.91699 2.86755,7.91699 L4.70837,7.91699 C4.70837,8.93652 5.16663,10.168 7,10.168 C8.83337,10.168 9.29163,8.93652 9.29163,7.91699 L11.1478,7.89355 C11.8201,7.88477 12.2927,7.22852 12.0876,6.58887 L10.681,2.19531 C10.5485,1.78125 10.1635,1.5 9.72864,1.5 L4.27271,1.5 Z"})})},12392:(e,t,o)=>{o.d(t,{S:()=>r});o(67294);var a=o(45238),n=o(85893);const r=(0,a.I)("historyBack",{viewBox:"0 0 14 14",svg:(0,n.jsx)("polygon",{points:"2.85893 7.74676 8.05608 12.9439 7 14 0.528042 7.52804 0 7 0.528042 6.47196 7 0 8.05608 1.05608 2.85893 6.25324 14 6.25324 14 7.74676"})})},58810:(e,t,o)=>{o.d(t,{Z:()=>r});o(67294);var a=o(45238),n=o(85893);const r=(0,a.I)("openAsPageThick",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M2.16895 7.19629C2.59277 7.19629 2.90723 6.88867 2.90723 6.45801V5.96582L2.75684 3.81934L4.35645 5.50098L6.3252 7.4834C6.46875 7.63379 6.65332 7.70215 6.85156 7.70215C7.30957 7.70215 7.6377 7.39453 7.6377 6.93652C7.6377 6.72461 7.55566 6.54004 7.41211 6.39648L5.43652 4.4209L3.74805 2.82129L5.91504 2.96484H6.44141C6.86523 2.96484 7.18652 2.65723 7.18652 2.22656C7.18652 1.7959 6.87207 1.48145 6.44141 1.48145L2.64746 1.48145C1.86816 1.48145 1.41699 1.93262 1.41699 2.71875L1.41699 6.45801C1.41699 6.88184 1.73828 7.19629 2.16895 7.19629ZM9.55176 14.6543H13.3389C14.125 14.6543 14.5762 14.2031 14.5762 13.417V9.67773C14.5762 9.25391 14.2549 8.93945 13.8242 8.93945C13.4004 8.93945 13.0859 9.24707 13.0859 9.67773V10.1699L13.2295 12.3164L11.6299 10.6348L9.66113 8.65234C9.52441 8.50195 9.33984 8.43359 9.1416 8.43359C8.68359 8.43359 8.35547 8.74121 8.35547 9.19922C8.35547 9.41113 8.43066 9.5957 8.57422 9.73926L10.5566 11.7148L12.2383 13.3145L10.0781 13.1709H9.55176C9.12793 13.1709 8.80664 13.4785 8.80664 13.9092C8.80664 14.3398 9.12109 14.6543 9.55176 14.6543Z"})})},84242:(e,t,o)=>{o.d(t,{v:()=>r});o(67294);var a=o(45238),n=o(85893);const r=(0,a.I)("parentItem",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.29662 5.47368L7.33167 4.11653L6.30839 5.24265L4.22625 7.32458C4.16064 7.39019 4.0821 7.43856 3.99288 7.47024C3.90958 7.5013 3.82192 7.51646 3.73089 7.51646C3.54036 7.51646 3.37427 7.45062 3.24187 7.31823L3.23992 7.31628C3.11249 7.18353 3.04999 7.01804 3.04999 6.82921C3.04999 6.63758 3.12598 6.46746 3.2656 6.32285L3.26711 6.32129L7.4749 2.10083C7.62016 1.9509 7.79567 1.87 7.99651 1.87C8.19734 1.87 8.37284 1.95089 8.51809 2.10079L12.7355 6.32457C12.8705 6.46954 12.943 6.63917 12.943 6.82921C12.943 7.01927 12.8775 7.18502 12.7458 7.31725C12.617 7.45083 12.4522 7.51646 12.2621 7.51646C12.1706 7.51646 12.0814 7.50115 11.995 7.47068L11.9926 7.4698C11.9069 7.43769 11.8313 7.38908 11.7668 7.32458L9.6802 5.238L8.65635 4.11153L8.69652 5.47736L8.69011 9.81896C8.69011 10.5736 8.80303 11.157 9.01808 11.5793C9.2312 11.9935 9.55909 12.2887 10.0079 12.4675L10.0088 12.4678C10.4652 12.6536 11.062 12.7499 11.8051 12.7499C11.952 12.7499 12.0793 12.7478 12.1871 12.7436C12.303 12.7393 12.417 12.7372 12.5287 12.7372C12.7186 12.7372 12.8855 12.7955 13.0191 12.9179C13.1612 13.0441 13.2287 13.2138 13.2287 13.4117C13.2287 13.5394 13.2018 13.6569 13.1388 13.7556C13.0846 13.8467 13.0093 13.919 12.9157 13.9718C12.8317 14.0256 12.7415 14.0631 12.6459 14.0833C12.5373 14.1068 12.4035 14.12 12.2469 14.1243C12.0973 14.1286 11.931 14.1307 11.748 14.1307C10.2678 14.1307 9.14333 13.8104 8.40142 13.144C7.6536 12.4723 7.29657 11.3702 7.29657 9.87609L7.29662 5.47368Z"})})},70663:(e,t,o)=>{o.d(t,{h:()=>r});o(67294);var a=o(45238),n=o(85893);const r=(0,a.I)("replace",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.26465 3.96094C2.95996 4.26562 2.979 4.66553 3.23291 4.8877C3.49316 5.12256 3.86133 5.12256 4.16602 4.83057C5.11182 3.80225 6.48291 3.15479 8 3.15479C10.6851 3.15479 12.856 5.12891 13.2051 7.66162H12.2466C11.7642 7.66162 11.6309 8.01709 11.9102 8.41064L13.4209 10.5435C13.6494 10.8608 13.9985 10.8608 14.2334 10.5435L15.7441 8.41699C16.0298 8.02344 15.8965 7.66162 15.4077 7.66162H14.519C14.1445 4.44336 11.3516 1.85986 8 1.85986C6.13379 1.85986 4.43262 2.68506 3.26465 3.96094ZM0.249512 8.42334C-0.0297852 8.81689 0.097168 9.17871 0.585938 9.17871H1.4873C1.85547 12.397 4.64844 14.9805 8 14.9805C9.87256 14.9805 11.5737 14.1553 12.748 12.873C13.0464 12.5684 13.0273 12.1685 12.7734 11.9399C12.5132 11.7051 12.1514 11.7114 11.8403 12.0034C10.9009 13.0381 9.52979 13.6855 8 13.6855C5.32129 13.6855 3.14404 11.7178 2.79492 9.17871H3.74707C4.22949 9.17871 4.36279 8.82324 4.0835 8.42969L2.57275 6.29688C2.34424 5.97949 1.99512 5.97949 1.7666 6.29688L0.249512 8.42334Z"})})},35840:(e,t,o)=>{o.d(t,{R:()=>r,T:()=>n});o(67294);var a=o(45238);const n=(0,o(85893).jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"}),r=(0,a.I)("search",{viewBox:"0 0 16 16",svg:n})},8505:(e,t,o)=>{o.d(t,{S:()=>r});o(67294);var a=o(45238),n=o(85893);const r=(0,a.I)("subItem",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.88642 2.43778C1.98215 2.3846 2.09567 2.35999 2.22362 2.35999C2.41846 2.35999 2.58374 2.42299 2.71309 2.55179C2.84789 2.67678 2.91386 2.84079 2.91386 3.03655C2.91386 3.161 2.90926 3.28545 2.90008 3.40989C2.8956 3.52687 2.89335 3.66669 2.89335 3.82952C2.89335 4.6672 2.99989 5.34012 3.20906 5.85192C3.42107 6.35987 3.76386 6.73052 4.23921 6.9683C4.72178 7.20285 5.37665 7.32288 6.20897 7.32288H10.9303L12.4002 7.41264L10.2433 5.44074L8.72396 3.8939C8.66786 3.83269 8.6225 3.76177 8.58753 3.68184L8.58532 3.67681C8.55515 3.59133 8.54022 3.50307 8.54022 3.41252C8.54022 3.22504 8.60443 3.06601 8.73414 2.94147C8.86699 2.81372 9.02934 2.74963 9.21678 2.74963C9.40179 2.74963 9.5677 2.81976 9.71223 2.95431L9.71419 2.95614L14.2523 7.49436C14.4062 7.63869 14.4871 7.81019 14.4871 8.00627C14.4871 8.20241 14.4062 8.37593 14.2528 8.52459L9.72696 13.0436C9.57465 13.191 9.40407 13.2698 9.21678 13.2698C9.03026 13.2698 8.86827 13.2086 8.73525 13.0858L8.73305 13.0838C8.60434 12.9551 8.54022 12.7943 8.54022 12.6069C8.54022 12.5163 8.55535 12.4281 8.58551 12.3426C8.61631 12.2554 8.66304 12.1796 8.72601 12.1166L10.2463 10.5689L12.3938 8.61275L10.9258 8.69663L6.14745 8.69651C4.516 8.69651 3.32454 8.32105 2.59311 7.55211C1.86303 6.77991 1.50604 5.55355 1.50604 3.89104C1.50604 3.68942 1.51062 3.50571 1.51983 3.34C1.52904 3.17413 1.54527 3.03558 1.56915 2.92552C1.58898 2.82668 1.62376 2.73465 1.67362 2.64989C1.72566 2.56142 1.79795 2.48982 1.88642 2.43778Z"})})},50063:(e,t,o)=>{o.d(t,{X:()=>r});o(67294);var a=o(45238),n=o(85893);const r=(0,a.I)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,n.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},70693:(e,t,o)=>{o.d(t,{mb:()=>s,nK:()=>l,pe:()=>d});var a=o(40506),n=o(7057),r=o(53877),i=o(42875);function s(e){const{dateTime:t,intl:o,shortenDateAndRange:a}=e,i=r.OQ.toPersistedDate(t.valueOf());return n.ZV({value:i,allowRelativeDates:!0,intl:o,shortenDateAndRange:a,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:o,userTimeZone:a,displayInUserTimezone:i,alwaysIncludeTimezone:s}=e,l=r.OQ.toPersistedDateTime(t.valueOf(),t.zoneName);return n.ZV({value:l,allowRelativeDates:!0,intl:o,userTimeZone:a,displayInUserTimezone:i,alwaysIncludeTimezone:s})}function d(e){const{luxonRange:t,intl:o}=e,s=r.OQ.toPersistedDateRange(t),l=n.ZV({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:o,displayInUserTimezone:!0}),d=t.end.setZone((0,i.r)()),c=n.mr({start_time:d.toFormat(a.jK),humanReadable:!1,intl:o});return o.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:c})}}}]);